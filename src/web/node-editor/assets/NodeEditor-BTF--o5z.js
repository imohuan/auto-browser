import{$ as e,$t as t,A as n,At as r,B as i,Bt as a,C as o,Ct as s,D as c,Dt as l,E as u,Et as d,F as f,Ft as p,G as m,Gt as h,H as g,Ht as _,I as v,It as y,J as b,Jt as x,K as S,Kt as C,L as w,Lt as T,M as E,Mt as D,N as O,Nt as k,O as A,Ot as ee,P as j,Pt as M,Q as N,Qt as te,R as ne,Rt as re,S as ie,St as P,T as ae,Tt as oe,U as se,Ut as ce,V as le,Vt as ue,W as de,Wt as fe,X as pe,Xt as me,Y as he,Yt as F,Z as ge,Zt as _e,_ as ve,_t as ye,a as be,at as I,b as xe,bt as Se,c as Ce,ct as L,d as we,dt as Te,en as R,et as Ee,f as De,ft as Oe,g as ke,gt as Ae,h as je,ht as z,i as Me,in as B,it as Ne,j as Pe,jt as Fe,k as Ie,kt as Le,l as Re,lt as V,m as ze,mt as H,n as Be,nn as Ve,nt as He,o as Ue,ot as U,p as We,pt as Ge,q as Ke,qt as qe,r as W,rn as Je,rt as G,s as Ye,st as K,t as Xe,tn as q,tt as Ze,u as Qe,ut as $e,v as et,vt as tt,w as nt,wt as rt,x as it,xt as J,y as at,yt as ot,z as st,zt as Y}from"./index-BBQwUZyz.js";import{C as ct,D as lt,E as ut,S as dt,T as ft,_ as pt,a as mt,b as ht,c as gt,d as _t,f as vt,g as yt,h as bt,i as xt,l as St,m as Ct,n as wt,o as Tt,p as Et,r as Dt,s as Ot,t as kt,u as At,v as jt,w as Mt,x as Nt,y as Pt}from"./IconDocument-C6Xi7czs.js";import{i as Ft,n as It,t as Lt}from"./useWorkflowServerClient-CnqqAGsX.js";var Rt=Object.create,zt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,Vt=Object.getOwnPropertyNames,Ht=Object.getPrototypeOf,Ut=Object.prototype.hasOwnProperty,Wt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gt=(e,t,n,r)=>{if(t&&typeof t==`object`||typeof t==`function`)for(var i=Vt(t),a=0,o=i.length,s;a<o;a++)s=i[a],!Ut.call(e,s)&&s!==n&&zt(e,s,{get:(e=>t[e]).bind(null,s),enumerable:!(r=Bt(t,s))||r.enumerable});return e},Kt=(e,t,n)=>(n=e==null?{}:Rt(Ht(e)),Gt(t||!e||!e.__esModule?zt(n,`default`,{value:e,enumerable:!0}):n,e));function qt(...e){if(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n];if(!r)continue;let i=typeof r;if(i===`string`||i===`number`)t.push(r);else if(i===`object`){let e=Array.isArray(r)?[qt(...r)]:Object.entries(r).map(([e,t])=>t?e:void 0);t=e.length?t.concat(e.filter(e=>!!e)):t}}return t.join(` `).trim()}}var Jt={};function Yt(e=`pui_id_`){return Object.hasOwn(Jt,e)||(Jt[e]=0),Jt[e]++,`${e}${Jt[e]}`}function Xt(){let e=[],t=(t,n,r=999)=>{let a=i(t,n,r),o=a.value+(a.key===t?0:r)+1;return e.push({key:t,value:o}),o},n=t=>{e=e.filter(e=>e.value!==t)},r=(e,t)=>i(e,t).value,i=(t,n,r=0)=>[...e].reverse().find(e=>n?!0:e.key===t)||{key:t,value:r},a=e=>e&&parseInt(e.style.zIndex,10)||0;return{get:a,set:(e,n,r)=>{n&&(n.style.zIndex=String(t(e,!0,r)))},clear:e=>{e&&(n(a(e)),e.style.zIndex=``)},getCurrent:e=>r(e,!0)}}var Zt=Xt(),Qt=Object.create,$t=function(){function e(){}return function(t){if(!ct(t))return{};if(Qt)return Qt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function en(e,t){var n=-1,r=e.length;for(t||=Array(r);++n<r;)t[n]=e[n];return t}var tn=en,nn=function(){try{var e=dt(Object,`defineProperty`);return e({},``,{}),e}catch{}}();function rn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var an=rn;function on(e,t,n){t==`__proto__`&&nn?nn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var sn=on,cn=Object.prototype.hasOwnProperty;function ln(e,t,n){var r=e[t];(!(cn.call(e,t)&&Nt(r,n))||n===void 0&&!(t in e))&&sn(e,t,n)}var un=ln;function dn(e,t,n,r){var i=!n;n||={};for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),i?sn(n,s,c):un(n,s,c)}return n}var fn=dn;function pn(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var mn=pn,hn=Object.prototype.hasOwnProperty;function gn(e){if(!ct(e))return mn(e);var t=Pt(e),n=[];for(var r in e)r==`constructor`&&(t||!hn.call(e,r))||n.push(r);return n}var _n=gn;function vn(e){return ht(e)?bt(e,!0):_n(e)}var yn=vn,bn=Ct(Object.getPrototypeOf,Object);function xn(e,t){return e&&fn(t,Et(t),e)}var Sn=xn;function Cn(e,t){return e&&fn(t,yn(t),e)}var wn=Cn,Tn=typeof exports==`object`&&exports&&!exports.nodeType&&exports,En=Tn&&typeof module==`object`&&module&&!module.nodeType&&module,Dn=En&&En.exports===Tn?lt.Buffer:void 0,On=Dn?Dn.allocUnsafe:void 0;function kn(e,t){if(t)return e.slice();var n=e.length,r=On?On(n):new e.constructor(n);return e.copy(r),r}var An=kn;function jn(e,t){return fn(e,St(e),t)}var Mn=jn,Nn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)vt(t,St(e)),e=bn(e);return t}:At;function Pn(e,t){return fn(e,Nn(e),t)}var Fn=Pn;function In(e){return gt(e,yn,Nn)}var Ln=In,Rn=Object.prototype.hasOwnProperty;function zn(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&Rn.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}var Bn=zn;function Vn(e){var t=new e.constructor(e.byteLength);return new mt(t).set(new mt(e)),t}var Hn=Vn;function Un(e,t){var n=t?Hn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Wn=Un,Gn=/\w*$/;function Kn(e){var t=new e.constructor(e.source,Gn.exec(e));return t.lastIndex=e.lastIndex,t}var qn=Kn,Jn=ut?ut.prototype:void 0,Yn=Jn?Jn.valueOf:void 0;function Xn(e){return Yn?Object(Yn.call(e)):{}}var Zn=Xn;function Qn(e,t){var n=t?Hn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $n=Qn,er=`[object Boolean]`,tr=`[object Date]`,nr=`[object Map]`,rr=`[object Number]`,ir=`[object RegExp]`,ar=`[object Set]`,or=`[object String]`,sr=`[object Symbol]`,cr=`[object ArrayBuffer]`,lr=`[object DataView]`,ur=`[object Float32Array]`,dr=`[object Float64Array]`,fr=`[object Int8Array]`,pr=`[object Int16Array]`,mr=`[object Int32Array]`,hr=`[object Uint8Array]`,gr=`[object Uint8ClampedArray]`,_r=`[object Uint16Array]`,vr=`[object Uint32Array]`;function yr(e,t,n){var r=e.constructor;switch(t){case cr:return Hn(e);case er:case tr:return new r(+e);case lr:return Wn(e,n);case ur:case dr:case fr:case pr:case mr:case hr:case gr:case _r:case vr:return $n(e,n);case nr:return new r;case rr:case or:return new r(e);case ir:return qn(e);case ar:return new r;case sr:return Zn(e)}}var br=yr;function xr(e){return typeof e.constructor==`function`&&!Pt(e)?$t(bn(e)):{}}var Sr=xr,Cr=`[object Map]`;function wr(e){return ft(e)&&Tt(e)==Cr}var Tr=wr,Er=yt&&yt.isMap,Dr=Er?pt(Er):Tr,Or=`[object Set]`;function kr(e){return ft(e)&&Tt(e)==Or}var Ar=kr,jr=yt&&yt.isSet,Mr=jr?pt(jr):Ar,Nr=1,Pr=2,Fr=4,Ir=`[object Arguments]`,Lr=`[object Array]`,Rr=`[object Boolean]`,zr=`[object Date]`,Br=`[object Error]`,Vr=`[object Function]`,Hr=`[object GeneratorFunction]`,Ur=`[object Map]`,Wr=`[object Number]`,Gr=`[object Object]`,Kr=`[object RegExp]`,qr=`[object Set]`,Jr=`[object String]`,Yr=`[object Symbol]`,Xr=`[object WeakMap]`,Zr=`[object ArrayBuffer]`,Qr=`[object DataView]`,$r=`[object Float32Array]`,ei=`[object Float64Array]`,ti=`[object Int8Array]`,ni=`[object Int16Array]`,ri=`[object Int32Array]`,ii=`[object Uint8Array]`,ai=`[object Uint8ClampedArray]`,oi=`[object Uint16Array]`,si=`[object Uint32Array]`,ci={};ci[Ir]=ci[Lr]=ci[Zr]=ci[Qr]=ci[Rr]=ci[zr]=ci[$r]=ci[ei]=ci[ti]=ci[ni]=ci[ri]=ci[Ur]=ci[Wr]=ci[Gr]=ci[Kr]=ci[qr]=ci[Jr]=ci[Yr]=ci[ii]=ci[ai]=ci[oi]=ci[si]=!0,ci[Br]=ci[Vr]=ci[Xr]=!1;function li(e,t,n,r,i,a){var o,s=t&Nr,c=t&Pr,l=t&Fr;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!ct(e))return e;var u=Mt(e);if(u){if(o=Bn(e),!s)return tn(e,o)}else{var d=Tt(e),f=d==Vr||d==Hr;if(jt(e))return An(e,s);if(d==Gr||d==Ir||f&&!i){if(o=c||f?{}:Sr(e),!s)return c?Fn(e,wn(o,e)):Mn(e,Sn(o,e))}else{if(!ci[d])return i?e:{};o=br(e,d,s)}}a||=new _t;var p=a.get(e);if(p)return p;a.set(e,o),Mr(e)?e.forEach(function(r){o.add(li(r,t,n,r,e,a))}):Dr(e)&&e.forEach(function(r,i){o.set(i,li(r,t,n,i,e,a))});var m=u?void 0:(l?c?Ln:Ot:c?yn:Et)(e);return an(m||e,function(r,i){m&&(i=r,r=e[i]),un(o,i,li(r,t,n,i,e,a))}),o}var ui=li,di=1,fi=4;function pi(e){return ui(e,di|fi)}var mi=pi;function hi(e,t){return ce()?(C(e,t),!0):!1}var gi=typeof window<`u`&&typeof document<`u`;typeof WorkerGlobalScope<`u`&&globalThis instanceof WorkerGlobalScope;var _i=Object.prototype.toString,vi=e=>_i.call(e)===`[object Object]`,yi=()=>{};function bi(...e){if(e.length!==1)return _e(...e);let t=e[0];return typeof t==`function`?x(ue(()=>({get:t,set:yi}))):F(t)}function xi(e,t){function n(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}return n}var Si=e=>e();function Ci(e,n={}){let r,i,a=yi,o=e=>{clearTimeout(e),a(),a=yi},s;return c=>{let l=t(e),u=t(n.maxWait);return r&&o(r),l<=0||u!==void 0&&u<=0?(i&&=(o(i),void 0),Promise.resolve(c())):new Promise((e,t)=>{a=n.rejectOnCancel?t:e,s=c,u&&!i&&(i=setTimeout(()=>{r&&o(r),i=void 0,e(s())},u)),r=setTimeout(()=>{i&&o(i),i=void 0,e(c())},l)})}}function wi(e=Si,t={}){let{initialState:n=`active`}=t,r=bi(n===`active`);function i(){r.value=!1}function a(){r.value=!0}return{isActive:x(r),pause:i,resume:a,eventFilter:(...t)=>{r.value&&e(...t)}}}function Ti(e){return Array.isArray(e)?e:[e]}function Ei(e){return e||Ae()}function Di(e,t=200,n={}){return xi(Ci(t,n),e)}function Oi(e,t,n={}){let{eventFilter:r=Si,...i}=n;return T(e,xi(r,t),i)}function ki(e,t,n={}){let{eventFilter:r,initialState:i=`active`,...a}=n,{eventFilter:o,pause:s,resume:c,isActive:l}=wi(r,{initialState:i});return{stop:Oi(e,t,{...a,eventFilter:o}),pause:s,resume:c,isActive:l}}var Ai=ki;function ji(e,t=!0,n){Ei(n)?oe(e,n):t?e():P(e)}function Mi(e,t,n){return T(e,t,{...n,immediate:!0})}function Ni(e,t,n){let r=T(e,(e,i,a)=>{e&&(n?.once&&P(()=>r()),t(e,i,a))},{...n,once:!1});return r}var Pi=gi?window:void 0;gi&&window.document,gi&&window.navigator,gi&&window.location;function Fi(e){let n=t(e);return n?.$el??n}function Ii(...e){let n=[],r=()=>{n.forEach(e=>e()),n.length=0},i=(e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)),a=I(()=>{let n=Ti(t(e[0])).filter(e=>e!=null);return n.every(e=>typeof e!=`string`)?n:void 0}),o=Mi(()=>[a.value?.map(e=>Fi(e))??[Pi].filter(e=>e!=null),Ti(t(a.value?e[1]:e[0])),Ti(R(a.value?e[2]:e[1])),t(a.value?e[3]:e[2])],([e,t,a,o])=>{if(r(),!e?.length||!t?.length||!a?.length)return;let s=vi(o)?{...o}:o;n.push(...e.flatMap(e=>t.flatMap(t=>a.map(n=>i(e,t,n,s)))))},{flush:`post`});return hi(r),()=>{o(),r()}}var Li=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Ri=`__vueuse_ssr_handlers__`,zi=Bi();function Bi(){return Ri in Li||(Li[Ri]=Li[Ri]||{}),Li[Ri]}function Vi(e,t){return zi[e]||t}function Hi(e){return e==null?`any`:e instanceof Set?`set`:e instanceof Map?`map`:e instanceof Date?`date`:typeof e==`boolean`?`boolean`:typeof e==`string`?`string`:typeof e==`object`?`object`:Number.isNaN(e)?`any`:`number`}var Ui={boolean:{read:e=>e===`true`,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Wi=`vueuse-storage`;function Gi(e,n,r,i={}){let{flush:a=`pre`,deep:o=!0,listenToStorageChanges:s=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:d=Pi,eventFilter:f,onError:p=e=>{console.error(e)},initOnMounted:m}=i,h=(u?me:F)(typeof n==`function`?n():n),g=I(()=>t(e));if(!r)try{r=Vi(`getDefaultStorage`,()=>Pi?.localStorage)()}catch(e){p(e)}if(!r)return h;let _=t(n),v=Hi(_),y=i.serializer??Ui[v],{pause:b,resume:x}=Ai(h,e=>w(e),{flush:a,deep:o,eventFilter:f});T(g,()=>D(),{flush:a});let S=!1;d&&s&&(r instanceof Storage?Ii(d,`storage`,e=>{m&&!S||D(e)},{passive:!0}):Ii(d,Wi,e=>{m&&!S||O(e)})),m?ji(()=>{S=!0,D()}):D();function C(e,t){if(d){let n={key:g.value,oldValue:e,newValue:t,storageArea:r};d.dispatchEvent(r instanceof Storage?new StorageEvent(`storage`,n):new CustomEvent(Wi,{detail:n}))}}function w(e){try{let t=r.getItem(g.value);if(e==null)C(t,null),r.removeItem(g.value);else{let n=y.write(e);t!==n&&(r.setItem(g.value,n),C(t,n))}}catch(e){p(e)}}function E(e){let t=e?e.newValue:r.getItem(g.value);if(t==null)return c&&_!=null&&r.setItem(g.value,y.write(_)),_;if(!e&&l){let e=y.read(t);return typeof l==`function`?l(e,_):v===`object`&&!Array.isArray(e)?{..._,...e}:e}else if(typeof t!=`string`)return t;else return y.read(t)}function D(e){if(!(e&&e.storageArea!==r)){if(e&&e.key==null){h.value=_;return}if(!(e&&e.key!==g.value)){b();try{let t=y.write(h.value);(e===void 0||e?.newValue!==t)&&(h.value=E(e))}catch(e){p(e)}finally{e?P(x):x()}}}}function O(e){D(e.detail)}return h}function Ki(e,t,n={}){let{window:r=Pi}=n;return Gi(e,t,r?.localStorage,n)}var qi={ctrl:`control`,command:`meta`,cmd:`meta`,option:`alt`,up:`arrowup`,down:`arrowdown`,left:`arrowleft`,right:`arrowright`};function Ji(e={}){let{reactive:n=!1,target:r=Pi,aliasMap:i=qi,passive:a=!0,onEventFired:o=yi}=e,s=qe(new Set),c={toJSON(){return{}},current:s},l=n?qe(c):c,u=new Set,d=new Map([[`Meta`,u],[`Shift`,new Set],[`Alt`,new Set]]),f=new Set;function p(e,t){e in l&&(n?l[e]=t:l[e].value=t)}function m(){s.clear();for(let e of f)p(e,!1)}function h(e,t,n){if(!(!e||typeof t.getModifierState!=`function`)){for(let[e,r]of d)if(t.getModifierState(e)){n.forEach(e=>r.add(e));break}}}function g(e,t){if(e)return;let n=`${t[0].toUpperCase()}${t.slice(1)}`,r=d.get(n);if(![`shift`,`alt`].includes(t)||!r)return;let i=Array.from(r),a=i.indexOf(t);i.forEach((e,t)=>{t>=a&&(s.delete(e),p(e,!1))}),r.clear()}function _(e,t){let n=e.key?.toLowerCase(),r=[e.code?.toLowerCase(),n].filter(Boolean);n&&(t?s.add(n):s.delete(n));for(let e of r)f.add(e),p(e,t);h(t,e,[...s,...r]),g(t,n),n===`meta`&&!t&&(u.forEach(e=>{s.delete(e),p(e,!1)}),u.clear())}Ii(r,`keydown`,e=>(_(e,!0),o(e)),{passive:a}),Ii(r,`keyup`,e=>(_(e,!1),o(e)),{passive:a}),Ii(`blur`,m,{passive:a}),Ii(`focus`,m,{passive:a});let v=new Proxy(l,{get(e,r,a){if(typeof r!=`string`)return Reflect.get(e,r,a);if(r=r.toLowerCase(),r in i&&(r=i[r]),!(r in l))if(/[+_-]/.test(r)){let e=r.split(/[+_-]/g).map(e=>e.trim());l[r]=I(()=>e.map(e=>t(v[e])).every(Boolean))}else l[r]=me(!1);let o=Reflect.get(e,r,a);return n?t(o):o}});return v}function Yi(e){return ce()?(C(e),!0):!1}function Xi(e){return typeof e==`function`?e():R(e)}var Zi=typeof window<`u`&&typeof document<`u`,Qi=e=>e!==void 0,$i=Object.prototype.toString,ea=e=>$i.call(e)===`[object Object]`,ta=()=>{};function na(e,t){function n(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}return n}var ra=e=>e();function ia(e=ra){let t=F(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:x(t),pause:n,resume:r,eventFilter:(...n)=>{t.value&&e(...n)}}}function aa(e,t=!1,n=`Timeout`){return new Promise((r,i)=>{t?setTimeout(()=>i(n),e):setTimeout(r,e)})}function oa(e,t,n={}){let{eventFilter:r=ra,...i}=n;return T(e,na(r,t),i)}function sa(e,t,n={}){let{eventFilter:r,...i}=n,{eventFilter:a,pause:o,resume:s,isActive:c}=ia(r);return{stop:oa(e,t,{...i,eventFilter:a}),pause:o,resume:s,isActive:c}}function ca(e,t={}){if(!fe(e))return te(e);let n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(let r in e.value)n[r]=ue(()=>({get(){return e.value[r]},set(n){if(Xi(t.replaceRef)??!0)if(Array.isArray(e.value)){let t=[...e.value];t[r]=n,e.value=t}else{let t={...e.value,[r]:n};Object.setPrototypeOf(t,Object.getPrototypeOf(e.value)),e.value=t}else e.value[r]=n}}));return n}function la(e,t=!1){function n(n,{flush:r=`sync`,deep:i=!1,timeout:a,throwOnTimeout:o}={}){let s=null,c=[new Promise(a=>{s=T(e,e=>{n(e)!==t&&(s?.(),a(e))},{flush:r,deep:i,immediate:!0})})];return a!=null&&c.push(aa(a,o).then(()=>Xi(e)).finally(()=>s?.())),Promise.race(c)}function r(r,i){if(!fe(r))return n(e=>e===r,i);let{flush:a=`sync`,deep:o=!1,timeout:s,throwOnTimeout:c}=i??{},l=null,u=[new Promise(n=>{l=T([e,r],([e,r])=>{t!==(e===r)&&(l?.(),n(e))},{flush:a,deep:o,immediate:!0})})];return s!=null&&u.push(aa(s,c).then(()=>Xi(e)).finally(()=>(l?.(),Xi(e)))),Promise.race(u)}function i(e){return n(e=>!!e,e)}function a(e){return r(null,e)}function o(e){return r(void 0,e)}function s(e){return n(Number.isNaN,e)}function c(e,t){return n(t=>{let n=Array.from(t);return n.includes(e)||n.includes(Xi(e))},t)}function l(e){return u(1,e)}function u(e=1,t){let r=-1;return n(()=>(r+=1,r>=e),t)}return Array.isArray(Xi(e))?{toMatch:n,toContains:c,changed:l,changedTimes:u,get not(){return la(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:a,toBeNaN:s,toBeUndefined:o,changed:l,changedTimes:u,get not(){return la(e,!t)}}}function ua(e){return la(e)}function da(e){let t=Xi(e);return t?.$el??t}var fa=Zi?window:void 0;function pa(...e){let t,n,r,i;if(typeof e[0]==`string`||Array.isArray(e[0])?([n,r,i]=e,t=fa):[t,n,r,i]=e,!t)return ta;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);let a=[],o=()=>{a.forEach(e=>e()),a.length=0},s=(e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)),c=T(()=>[da(t),Xi(i)],([e,t])=>{if(o(),!e)return;let i=ea(t)?{...t}:t;a.push(...n.flatMap(t=>r.map(n=>s(e,t,n,i))))},{immediate:!0,flush:`post`}),l=()=>{c(),o()};return Yi(l),l}function ma(e){return typeof e==`function`?e:typeof e==`string`?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ha(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]==`object`?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);let{target:i=fa,eventName:a=`keydown`,passive:o=!1,dedupe:s=!1}=r,c=ma(t);return pa(i,a,e=>{e.repeat&&Xi(s)||c(e)&&n(e)},o)}function ga(e){return JSON.parse(JSON.stringify(e))}function _a(e,t,n,r={}){let{clone:i=!1,passive:a=!1,eventName:o,deep:s=!1,defaultValue:c,shouldEmit:l}=r,u=Ae(),d=n||u?.emit||(u?.$emit)?.bind(u)||(u?.proxy?.$emit)?.bind(u?.proxy),f=o;t||=`modelValue`,f||=`update:${t.toString()}`;let p=e=>i?typeof i==`function`?i(e):ga(e):e,m=()=>Qi(e[t])?p(e[t]):c,h=e=>{l?l(e)&&d(f,e):d(f,e)};if(a){let n=m(),r=F(n),i=!1;return T(()=>e[t],e=>{i||(i=!0,r.value=p(e),P(()=>i=!1))}),T(r,n=>{!i&&(n!==e[t]||s)&&h(n)},{deep:s}),r}else return I({get(){return m()},set(e){h(e)}})}var va={value:()=>{}};function ya(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new ba(n)}function ba(e){this._=e}function xa(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}ba.prototype=ya.prototype={constructor:ba,on:function(e,t){var n=this._,r=xa(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Sa(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Ca(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ca(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ba(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Sa(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ca(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=va,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var wa=`http://www.w3.org/1999/xhtml`,Ta={svg:`http://www.w3.org/2000/svg`,xhtml:wa,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function Ea(e){var t=e+=``,n=t.indexOf(`:`);return n>=0&&(t=e.slice(0,n))!==`xmlns`&&(e=e.slice(n+1)),Ta.hasOwnProperty(t)?{space:Ta[t],local:e}:e}function Da(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wa&&t.documentElement.namespaceURI===wa?t.createElement(e):t.createElementNS(n,e)}}function Oa(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ka(e){var t=Ea(e);return(t.local?Oa:Da)(t)}function Aa(){}function ja(e){return e==null?Aa:function(){return this.querySelector(e)}}function Ma(e){typeof e!=`function`&&(e=ja(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=e.call(c,c.__data__,u,a))&&(`__data__`in c&&(l.__data__=c.__data__),s[u]=l);return new Cs(r,this._parents)}function Na(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Pa(){return[]}function Fa(e){return e==null?Pa:function(){return this.querySelectorAll(e)}}function Ia(e){return function(){return Na(e.apply(this,arguments))}}function La(e){e=typeof e==`function`?Ia(e):Fa(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(e.call(c,c.__data__,l,o)),i.push(c));return new Cs(r,i)}function Ra(e){return function(){return this.matches(e)}}function za(e){return function(t){return t.matches(e)}}var Ba=Array.prototype.find;function Va(e){return function(){return Ba.call(this.children,e)}}function Ha(){return this.firstElementChild}function Ua(e){return this.select(e==null?Ha:Va(typeof e==`function`?e:za(e)))}var Wa=Array.prototype.filter;function Ga(){return Array.from(this.children)}function Ka(e){return function(){return Wa.call(this.children,e)}}function qa(e){return this.selectAll(e==null?Ga:Ka(typeof e==`function`?e:za(e)))}function Ja(e){typeof e!=`function`&&(e=Ra(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new Cs(r,this._parents)}function Ya(e){return Array(e.length)}function Xa(){return new Cs(this._enter||this._groups.map(Ya),this._parents)}function Za(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Za.prototype={constructor:Za,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qa(e){return function(){return e}}function $a(e,t,n,r,i,a){for(var o=0,s,c=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Za(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function eo(e,t,n,r,i,a,o){var s,c,l=new Map,u=t.length,d=a.length,f=Array(u),p;for(s=0;s<u;++s)(c=t[s])&&(f[s]=p=o.call(c,c.__data__,s,t)+``,l.has(p)?i[s]=c:l.set(p,c));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+``,(c=l.get(p))?(r[s]=c,c.__data__=a[s],l.delete(p)):n[s]=new Za(e,a[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function to(e){return e.__data__}function no(e,t){if(!arguments.length)return Array.from(this,to);var n=t?eo:$a,r=this._parents,i=this._groups;typeof e!=`function`&&(e=Qa(e));for(var a=i.length,o=Array(a),s=Array(a),c=Array(a),l=0;l<a;++l){var u=r[l],d=i[l],f=d.length,p=ro(e.call(u,u&&u.__data__,l,r)),m=p.length,h=s[l]=Array(m),g=o[l]=Array(m),_=c[l]=Array(f);n(u,d,h,g,_,p,t);for(var v=0,y=0,b,x;v<m;++v)if(b=h[v]){for(v>=y&&(y=v+1);!(x=g[y])&&++y<m;);b._next=x||null}}return o=new Cs(o,r),o._enter=s,o._exit=c,o}function ro(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function io(){return new Cs(this._exit||this._groups.map(Ya),this._parents)}function ao(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e==`function`?(r=e(r),r&&=r.selection()):r=r.append(e+``),t!=null&&(i=t(i),i&&=i.selection()),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function oo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=Array(i),c=0;c<o;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)s[c]=n[c];return new Cs(s,this._parents)}function so(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function co(e){e||=lo;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(t)}return new Cs(i,this._parents).order()}function lo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uo(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fo(){return Array.from(this)}function po(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function mo(){let e=0;for(let t of this)++e;return e}function ho(){return!this.node()}function go(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function _o(e){return function(){this.removeAttribute(e)}}function vo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yo(e,t){return function(){this.setAttribute(e,t)}}function bo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function So(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Co(e,t){var n=Ea(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vo:_o:typeof t==`function`?n.local?So:xo:n.local?bo:yo)(n,t))}function wo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function To(e){return function(){this.style.removeProperty(e)}}function Eo(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Do(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Oo(e,t,n){return arguments.length>1?this.each((t==null?To:typeof t==`function`?Do:Eo)(e,t,n??``)):ko(this.node(),e)}function ko(e,t){return e.style.getPropertyValue(t)||wo(e).getComputedStyle(e,null).getPropertyValue(t)}function Ao(e){return function(){delete this[e]}}function jo(e,t){return function(){this[e]=t}}function Mo(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function No(e,t){return arguments.length>1?this.each((t==null?Ao:typeof t==`function`?Mo:jo)(e,t)):this.node()[e]}function Po(e){return e.trim().split(/^|\s+/)}function Fo(e){return e.classList||new Io(e)}function Io(e){this._node=e,this._names=Po(e.getAttribute(`class`)||``)}Io.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(`class`,this._names.join(` `)))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(`class`,this._names.join(` `)))},contains:function(e){return this._names.indexOf(e)>=0}};function Lo(e,t){for(var n=Fo(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ro(e,t){for(var n=Fo(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function zo(e){return function(){Lo(this,e)}}function Bo(e){return function(){Ro(this,e)}}function Vo(e,t){return function(){(t.apply(this,arguments)?Lo:Ro)(this,e)}}function Ho(e,t){var n=Po(e+``);if(arguments.length<2){for(var r=Fo(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t==`function`?Vo:t?zo:Bo)(n,t))}function Uo(){this.textContent=``}function Wo(e){return function(){this.textContent=e}}function Go(e){return function(){this.textContent=e.apply(this,arguments)??``}}function Ko(e){return arguments.length?this.each(e==null?Uo:(typeof e==`function`?Go:Wo)(e)):this.node().textContent}function qo(){this.innerHTML=``}function Jo(e){return function(){this.innerHTML=e}}function Yo(e){return function(){this.innerHTML=e.apply(this,arguments)??``}}function Xo(e){return arguments.length?this.each(e==null?qo:(typeof e==`function`?Yo:Jo)(e)):this.node().innerHTML}function Zo(){this.nextSibling&&this.parentNode.appendChild(this)}function Qo(){return this.each(Zo)}function $o(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function es(){return this.each($o)}function ts(e){var t=typeof e==`function`?e:ka(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ns(){return null}function rs(e,t){var n=typeof e==`function`?e:ka(e),r=t==null?ns:typeof t==`function`?t:ja(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function os(){var e=this.parentNode;e&&e.removeChild(this)}function ss(){return this.each(os)}function cs(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ls(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function us(e){return this.select(e?ls:cs)}function ds(e){return arguments.length?this.property(`__data__`,e):this.node().__data__}function fs(e){return function(t){e.call(this,t,this.__data__)}}function ps(e){return e.trim().split(/^|\s+/).map(function(e){var t=``,n=e.indexOf(`.`);return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function ms(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function hs(e,t,n){return function(){var r=this.__on,i,a=fs(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function gs(e,t,n){var r=ps(e+``),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?hs:ms,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function _s(e,t,n){var r=wo(e),i=r.CustomEvent;typeof i==`function`?i=new i(t,n):(i=r.document.createEvent(`Event`),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function vs(e,t){return function(){return _s(this,e,t)}}function ys(e,t){return function(){return _s(this,e,t.apply(this,arguments))}}function bs(e,t){return this.each((typeof t==`function`?ys:vs)(e,t))}function*xs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ss=[null];function Cs(e,t){this._groups=e,this._parents=t}function ws(){return new Cs([[document.documentElement]],Ss)}function Ts(){return this}Cs.prototype=ws.prototype={constructor:Cs,select:Ma,selectAll:La,selectChild:Ua,selectChildren:qa,filter:Ja,data:no,enter:Xa,exit:io,join:ao,merge:oo,selection:Ts,order:so,sort:co,call:uo,nodes:fo,node:po,size:mo,empty:ho,each:go,attr:Co,style:Oo,property:No,classed:Ho,text:Ko,html:Xo,raise:Qo,lower:es,append:ts,insert:rs,remove:ss,clone:us,datum:ds,on:gs,dispatch:bs,[Symbol.iterator]:xs};function Es(e){return typeof e==`string`?new Cs([[document.querySelector(e)]],[document.documentElement]):new Cs([[e]],Ss)}function Ds(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Os(e,t){if(e=Ds(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var ks={passive:!1},As={capture:!0,passive:!1};function js(e){e.stopImmediatePropagation()}function Ms(e){e.preventDefault(),e.stopImmediatePropagation()}function Ns(e){var t=e.document.documentElement,n=Es(e).on(`dragstart.drag`,Ms,As);`onselectstart`in t?n.on(`selectstart.drag`,Ms,As):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect=`none`)}function Ps(e,t){var n=e.document.documentElement,r=Es(e).on(`dragstart.drag`,null);t&&(r.on(`click.drag`,Ms,As),setTimeout(function(){r.on(`click.drag`,null)},0)),`onselectstart`in n?r.on(`selectstart.drag`,null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Fs=e=>()=>e;function Is(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}Is.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ls(e){return!e.ctrlKey&&!e.button}function Rs(){return this.parentNode}function zs(e,t){return t??{x:e.x,y:e.y}}function Bs(){return navigator.maxTouchPoints||`ontouchstart`in this}function Vs(){var e=Ls,t=Rs,n=zs,r=Bs,i={},a=ya(`start`,`drag`,`end`),o=0,s,c,l,u,d=0;function f(e){e.on(`mousedown.drag`,p).filter(r).on(`touchstart.drag`,g).on(`touchmove.drag`,_,ks).on(`touchend.drag touchcancel.drag`,v).style(`touch-action`,`none`).style(`-webkit-tap-highlight-color`,`rgba(0,0,0,0)`)}function p(n,r){if(!(u||!e.call(this,n,r))){var i=y(this,t.call(this,n,r),n,r,`mouse`);i&&(Es(n.view).on(`mousemove.drag`,m,As).on(`mouseup.drag`,h,As),Ns(n.view),js(n),l=!1,s=n.clientX,c=n.clientY,i(`start`,n))}}function m(e){if(Ms(e),!l){var t=e.clientX-s,n=e.clientY-c;l=t*t+n*n>d}i.mouse(`drag`,e)}function h(e){Es(e.view).on(`mousemove.drag mouseup.drag`,null),Ps(e.view,l),Ms(e),i.mouse(`end`,e)}function g(n,r){if(e.call(this,n,r)){var i=n.changedTouches,a=t.call(this,n,r),o=i.length,s,c;for(s=0;s<o;++s)(c=y(this,a,n,r,i[s].identifier,i[s]))&&(js(n),c(`start`,n,i[s]))}}function _(e){var t=e.changedTouches,n=t.length,r,a;for(r=0;r<n;++r)(a=i[t[r].identifier])&&(Ms(e),a(`drag`,e,t[r]))}function v(e){var t=e.changedTouches,n=t.length,r,a;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),r=0;r<n;++r)(a=i[t[r].identifier])&&(js(e),a(`end`,e,t[r]))}function y(e,t,r,s,c,l){var u=a.copy(),d=Os(l||r,t),p,m,h;if((h=n.call(e,new Is(`beforestart`,{sourceEvent:r,target:f,identifier:c,active:o,x:d[0],y:d[1],dx:0,dy:0,dispatch:u}),s))!=null)return p=h.x-d[0]||0,m=h.y-d[1]||0,function n(r,a,l){var g=d,_;switch(r){case`start`:i[c]=n,_=o++;break;case`end`:delete i[c],--o;case`drag`:d=Os(l||a,t),_=o;break}u.call(r,e,new Is(r,{sourceEvent:a,subject:h,target:f,identifier:c,active:_,x:d[0]+p,y:d[1]+m,dx:d[0]-g[0],dy:d[1]-g[1],dispatch:u}),s)}}return f.filter=function(t){return arguments.length?(e=typeof t==`function`?t:Fs(!!t),f):e},f.container=function(e){return arguments.length?(t=typeof e==`function`?e:Fs(e),f):t},f.subject=function(e){return arguments.length?(n=typeof e==`function`?e:Fs(e),f):n},f.touchable=function(e){return arguments.length?(r=typeof e==`function`?e:Fs(!!e),f):r},f.on=function(){var e=a.on.apply(a,arguments);return e===a?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}function Hs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Us(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ws(){}var Gs=.7,Ks=1/Gs,qs=`\\s*([+-]?\\d+)\\s*`,Js=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,Ys=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,Xs=/^#([0-9a-f]{3,8})$/,Zs=RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),Qs=RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),$s=RegExp(`^rgba\\(${qs},${qs},${qs},${Js}\\)$`),ec=RegExp(`^rgba\\(${Ys},${Ys},${Ys},${Js}\\)$`),tc=RegExp(`^hsl\\(${Js},${Ys},${Ys}\\)$`),nc=RegExp(`^hsla\\(${Js},${Ys},${Ys},${Js}\\)$`),rc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hs(Ws,cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ic,formatHex:ic,formatHex8:ac,formatHsl:oc,formatRgb:sc,toString:sc});function ic(){return this.rgb().formatHex()}function ac(){return this.rgb().formatHex8()}function oc(){return xc(this).formatHsl()}function sc(){return this.rgb().formatRgb()}function cc(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=Xs.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lc(t):n===3?new pc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?uc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?uc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zs.exec(e))?new pc(t[1],t[2],t[3],1):(t=Qs.exec(e))?new pc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$s.exec(e))?uc(t[1],t[2],t[3],t[4]):(t=ec.exec(e))?uc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tc.exec(e))?bc(t[1],t[2]/100,t[3]/100,1):(t=nc.exec(e))?bc(t[1],t[2]/100,t[3]/100,t[4]):rc.hasOwnProperty(e)?lc(rc[e]):e===`transparent`?new pc(NaN,NaN,NaN,0):null}function lc(e){return new pc(e>>16&255,e>>8&255,e&255,1)}function uc(e,t,n,r){return r<=0&&(e=t=n=NaN),new pc(e,t,n,r)}function dc(e){return e instanceof Ws||(e=cc(e)),e?(e=e.rgb(),new pc(e.r,e.g,e.b,e.opacity)):new pc}function fc(e,t,n,r){return arguments.length===1?dc(e):new pc(e,t,n,r??1)}function pc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hs(pc,fc,Us(Ws,{brighter(e){return e=e==null?Ks:Ks**+e,new pc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gs:Gs**+e,new pc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pc(vc(this.r),vc(this.g),vc(this.b),_c(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mc,formatHex:mc,formatHex8:hc,formatRgb:gc,toString:gc}));function mc(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}`}function hc(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}${yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function gc(){let e=_c(this.opacity);return`${e===1?`rgb(`:`rgba(`}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${e===1?`)`:`, ${e})`}`}function _c(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yc(e){return e=vc(e),(e<16?`0`:``)+e.toString(16)}function bc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cc(e,t,n,r)}function xc(e){if(e instanceof Cc)return new Cc(e.h,e.s,e.l,e.opacity);if(e instanceof Ws||(e=cc(e)),!e)return new Cc;if(e instanceof Cc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Cc(o,s,c,e.opacity)}function Sc(e,t,n,r){return arguments.length===1?xc(e):new Cc(e,t,n,r??1)}function Cc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hs(Cc,Sc,Us(Ws,{brighter(e){return e=e==null?Ks:Ks**+e,new Cc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gs:Gs**+e,new Cc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new pc(Ec(e>=240?e-240:e+120,i,r),Ec(e,i,r),Ec(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Cc(wc(this.h),Tc(this.s),Tc(this.l),_c(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=_c(this.opacity);return`${e===1?`hsl(`:`hsla(`}${wc(this.h)}, ${Tc(this.s)*100}%, ${Tc(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function wc(e){return e=(e||0)%360,e<0?e+360:e}function Tc(e){return Math.max(0,Math.min(1,e||0))}function Ec(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Dc=e=>()=>e;function Oc(e,t){return function(n){return e+n*t}}function kc(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function Ac(e){return(e=+e)==1?jc:function(t,n){return n-t?kc(t,n,e):Dc(isNaN(t)?n:t)}}function jc(e,t){var n=t-e;return n?Oc(e,n):Dc(isNaN(e)?t:e)}var Mc=function e(t){var n=Ac(t);function r(e,t){var r=n((e=fc(e)).r,(t=fc(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=jc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r}(1);function Nc(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Pc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fc(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=Wc(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function Ic(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Lc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Rc(e,t){var n={},r={},i;for(i in(typeof e!=`object`||!e)&&(e={}),(typeof t!=`object`||!t)&&(t={}),t)i in e?n[i]=Wc(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var zc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bc=new RegExp(zc.source,`g`);function Vc(e){return function(){return e}}function Hc(e){return function(t){return e(t)+``}}function Uc(e,t){var n=zc.lastIndex=Bc.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=zc.exec(e))&&(i=Bc.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Lc(r,i)})),n=Bc.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Hc(c[0].x):Vc(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}function Wc(e,t){var n=typeof t,r;return t==null||n===`boolean`?Dc(t):(n===`number`?Lc:n===`string`?(r=cc(t))?(t=r,Mc):Uc:t instanceof cc?Mc:t instanceof Date?Ic:Pc(t)?Nc:Array.isArray(t)?Fc:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?Rc:Lc)(e,t)}var Gc=180/Math.PI,Kc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qc(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Gc,skewX:Math.atan(c)*Gc,scaleX:o,scaleY:s}}var Jc;function Yc(e){let t=new(typeof DOMMatrix==`function`?DOMMatrix:WebKitCSSMatrix)(e+``);return t.isIdentity?Kc:qc(t.a,t.b,t.c,t.d,t.e,t.f)}function Xc(e){return e==null||(Jc||=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),Jc.setAttribute(`transform`,e),!(e=Jc.transform.baseVal.consolidate()))?Kc:(e=e.matrix,qc(e.a,e.b,e.c,e.d,e.e,e.f))}function Zc(e,t,n,r){function i(e){return e.length?e.pop()+` `:``}function a(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push(`translate(`,null,t,null,n);s.push({i:c-4,x:Lc(e,i)},{i:c-2,x:Lc(r,a)})}else (i||a)&&o.push(`translate(`+i+t+a+n)}function o(e,t,n,a){e===t?t&&n.push(i(n)+`rotate(`+t+r):(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+`rotate(`,null,r)-2,x:Lc(e,t)}))}function s(e,t,n,a){e===t?t&&n.push(i(n)+`skewX(`+t+r):a.push({i:n.push(i(n)+`skewX(`,null,r)-2,x:Lc(e,t)})}function c(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+`scale(`,null,`,`,null,`)`);o.push({i:s-4,x:Lc(e,n)},{i:s-2,x:Lc(t,r)})}else (n!==1||r!==1)&&a.push(i(a)+`scale(`+n+`,`+r+`)`)}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t=-1,n=i.length,a;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join(``)}}}var Qc=Zc(Yc,`px, `,`px)`,`deg)`),$c=Zc(Xc,`, `,`)`,`)`),el=1e-12;function tl(e){return((e=Math.exp(e))+1/e)/2}function nl(e){return((e=Math.exp(e))-1/e)/2}function rl(e){return((e=Math.exp(2*e))-1)/(e+1)}var il=function e(t,n,r){function i(e,i){var a=e[0],o=e[1],s=e[2],c=i[0],l=i[1],u=i[2],d=c-a,f=l-o,p=d*d+f*f,m,h;if(p<el)h=Math.log(u/s)/t,m=function(e){return[a+e*d,o+e*f,s*Math.exp(t*e*h)]};else{var g=Math.sqrt(p),_=(u*u-s*s+r*p)/(2*s*n*g),v=(u*u-s*s-r*p)/(2*u*n*g),y=Math.log(Math.sqrt(_*_+1)-_);h=(Math.log(Math.sqrt(v*v+1)-v)-y)/t,m=function(e){var r=e*h,i=tl(y),c=s/(n*g)*(i*rl(t*r+y)-nl(y));return[a+c*d,o+c*f,s*i/tl(t*r+y)]}}return m.duration=h*1e3*t/Math.SQRT2,m}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n,i=r*r;return e(n,r,i)},i}(Math.SQRT2,2,4),al=0,ol=0,sl=0,cl=1e3,ll,ul,dl=0,fl=0,pl=0,ml=typeof performance==`object`&&performance.now?performance:Date,hl=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gl(){return fl||=(hl(_l),ml.now()+pl)}function _l(){fl=0}function vl(){this._call=this._time=this._next=null}vl.prototype=yl.prototype={constructor:vl,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?gl():+n)+(t==null?0:+t),!this._next&&ul!==this&&(ul?ul._next=this:ll=this,ul=this),this._call=e,this._time=n,wl()},stop:function(){this._call&&(this._call=null,this._time=1/0,wl())}};function yl(e,t,n){var r=new vl;return r.restart(e,t,n),r}function bl(){gl(),++al;for(var e=ll,t;e;)(t=fl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--al}function xl(){fl=(dl=ml.now())+pl,al=ol=0;try{bl()}finally{al=0,Cl(),fl=0}}function Sl(){var e=ml.now(),t=e-dl;t>cl&&(pl-=t,dl=e)}function Cl(){for(var e,t=ll,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ll=n);ul=e,wl(r)}function wl(e){al||(ol&&=clearTimeout(ol),e-fl>24?(e<1/0&&(ol=setTimeout(xl,e-ml.now()-pl)),sl&&=clearInterval(sl)):(sl||=(dl=ml.now(),setInterval(Sl,cl)),al=1,hl(xl)))}function Tl(e,t,n){var r=new vl;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}var El=ya(`start`,`end`,`cancel`,`interrupt`),Dl=[],Ol=0,kl=1,Al=2,jl=3,Ml=4,Nl=5,Pl=6;function Fl(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;zl(e,n,{name:t,index:r,group:i,on:El,tween:Dl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ol})}function Il(e,t){var n=Rl(e,t);if(n.state>Ol)throw Error(`too late; already scheduled`);return n}function Ll(e,t){var n=Rl(e,t);if(n.state>jl)throw Error(`too late; already running`);return n}function Rl(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error(`transition not found`);return n}function zl(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=yl(a,0,n.time);function a(e){n.state=kl,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,u,d,f;if(n.state!==kl)return c();for(l in r)if(f=r[l],f.name===n.name){if(f.state===jl)return Tl(o);f.state===Ml?(f.state=Pl,f.timer.stop(),f.on.call(`interrupt`,e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=Pl,f.timer.stop(),f.on.call(`cancel`,e,e.__data__,f.index,f.group),delete r[l])}if(Tl(function(){n.state===jl&&(n.state=Ml,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=Al,n.on.call(`start`,e,e.__data__,n.index,n.group),n.state===Al){for(n.state=jl,i=Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=Nl,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);n.state===Nl&&(n.on.call(`end`,e,e.__data__,n.index,n.group),c())}function c(){for(var i in n.state=Pl,n.timer.stop(),delete r[t],r)return;delete e.__transition}}function Bl(e,t){var n=e.__transition,r,i,a=!0,o;if(n){for(o in t=t==null?null:t+``,n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Al&&r.state<Nl,r.state=Pl,r.timer.stop(),r.on.call(i?`interrupt`:`cancel`,e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Vl(e){return this.each(function(){Bl(this,e)})}function Hl(e,t){var n,r;return function(){var i=Ll(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ul(e,t,n){var r,i;if(typeof n!=`function`)throw Error();return function(){var a=Ll(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Wl(e,t){var n=this._id;if(e+=``,arguments.length<2){for(var r=Rl(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Hl:Ul)(n,e,t))}function Gl(e,t,n){var r=e._id;return e.each(function(){var e=Ll(this,r);(e.value||={})[t]=n.apply(this,arguments)}),function(e){return Rl(e,r).value[t]}}function Kl(e,t){var n;return(typeof t==`number`?Lc:t instanceof cc?Mc:(n=cc(t))?(t=n,Mc):Uc)(e,t)}function ql(e){return function(){this.removeAttribute(e)}}function Jl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yl(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Xl(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Zl(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function Ql(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function $l(e,t){var n=Ea(e),r=n===`transform`?$c:Kl;return this.attrTween(e,typeof t==`function`?(n.local?Ql:Zl)(n,r,Gl(this,`attr.`+e,t)):t==null?(n.local?Jl:ql)(n):(n.local?Xl:Yl)(n,r,t))}function eu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nu(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&tu(e,i)),n}return i._value=t,i}function ru(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&eu(e,i)),n}return i._value=t,i}function iu(e,t){var n=`attr.`+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=`function`)throw Error();var r=Ea(e);return this.tween(n,(r.local?nu:ru)(r,t))}function au(e,t){return function(){Il(this,e).delay=+t.apply(this,arguments)}}function ou(e,t){return t=+t,function(){Il(this,e).delay=t}}function su(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?au:ou)(t,e)):Rl(this.node(),t).delay}function cu(e,t){return function(){Ll(this,e).duration=+t.apply(this,arguments)}}function lu(e,t){return t=+t,function(){Ll(this,e).duration=t}}function uu(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?cu:lu)(t,e)):Rl(this.node(),t).duration}function du(e,t){if(typeof t!=`function`)throw Error();return function(){Ll(this,e).ease=t}}function fu(e){var t=this._id;return arguments.length?this.each(du(t,e)):Rl(this.node(),t).ease}function pu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=`function`)throw Error();Ll(this,e).ease=n}}function mu(e){if(typeof e!=`function`)throw Error();return this.each(pu(this._id,e))}function hu(e){typeof e!=`function`&&(e=Ra(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new Wu(r,this._parents,this._name,this._id)}function gu(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=Array(r),s=0;s<a;++s)for(var c=t[s],l=n[s],u=c.length,d=o[s]=Array(u),f,p=0;p<u;++p)(f=c[p]||l[p])&&(d[p]=f);for(;s<r;++s)o[s]=t[s];return new Wu(o,this._parents,this._name,this._id)}function _u(e){return(e+``).trim().split(/^|\s+/).every(function(e){var t=e.indexOf(`.`);return t>=0&&(e=e.slice(0,t)),!e||e===`start`})}function vu(e,t,n){var r,i,a=_u(t)?Il:Ll;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function yu(e,t){var n=this._id;return arguments.length<2?Rl(this.node(),n).on.on(e):this.each(vu(n,e,t))}function bu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xu(){return this.on(`end.remove`,bu(this._id))}function Su(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=ja(e));for(var r=this._groups,i=r.length,a=Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&(`__data__`in u&&(d.__data__=u.__data__),l[f]=d,Fl(l[f],t,n,f,l,Rl(u,n)));return new Wu(a,this._parents,t,n)}function Cu(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=Fa(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),p,m=Rl(u,n),h=0,g=f.length;h<g;++h)(p=f[h])&&Fl(p,t,n,h,f,m);a.push(f),o.push(u)}return new Wu(a,o,t,n)}var wu=ws.prototype.constructor;function Tu(){return new wu(this._groups,this._parents)}function Eu(e,t){var n,r,i;return function(){var a=ko(this,e),o=(this.style.removeProperty(e),ko(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function Du(e){return function(){this.style.removeProperty(e)}}function Ou(e,t,n){var r,i=n+``,a;return function(){var o=ko(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function ku(e,t,n){var r,i,a;return function(){var o=ko(this,e),s=n(this),c=s+``;return s??(c=s=(this.style.removeProperty(e),ko(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function Au(e,t){var n,r,i,a=`style.`+t,o=`end.`+a,s;return function(){var c=Ll(this,e),l=c.on,u=c.value[a]==null?s||=Du(t):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function ju(e,t,n){var r=(e+=``)==`transform`?Qc:Kl;return t==null?this.styleTween(e,Eu(e,r)).on(`end.style.`+e,Du(e)):typeof t==`function`?this.styleTween(e,ku(e,r,Gl(this,`style.`+e,t))).each(Au(this._id,e)):this.styleTween(e,Ou(e,r,t),n).on(`end.style.`+e,null)}function Mu(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Nu(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Mu(e,a,n)),r}return a._value=t,a}function Pu(e,t,n){var r=`style.`+(e+=``);if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=`function`)throw Error();return this.tween(r,Nu(e,t,n??``))}function Fu(e){return function(){this.textContent=e}}function Iu(e){return function(){this.textContent=e(this)??``}}function Lu(e){return this.tween(`text`,typeof e==`function`?Iu(Gl(this,`text`,e)):Fu(e==null?``:e+``))}function Ru(e){return function(t){this.textContent=e.call(this,t)}}function zu(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Ru(r)),t}return r._value=e,r}function Bu(e){var t=`text`;if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=`function`)throw Error();return this.tween(t,zu(e))}function Vu(){for(var e=this._name,t=this._id,n=Gu(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=Rl(c,t);Fl(c,e,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wu(r,this._parents,e,n)}function Hu(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var n=Ll(this,r),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}),i===0&&a()})}var Uu=0;function Wu(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gu(){return++Uu}var Ku=ws.prototype;Wu.prototype={constructor:Wu,select:Su,selectAll:Cu,selectChild:Ku.selectChild,selectChildren:Ku.selectChildren,filter:hu,merge:gu,selection:Tu,transition:Vu,call:Ku.call,nodes:Ku.nodes,node:Ku.node,size:Ku.size,empty:Ku.empty,each:Ku.each,on:yu,attr:$l,attrTween:iu,style:ju,styleTween:Pu,text:Lu,textTween:Bu,remove:xu,tween:Wl,delay:su,duration:uu,ease:fu,easeVarying:mu,end:Hu,[Symbol.iterator]:Ku[Symbol.iterator]};function qu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ju={time:null,delay:0,duration:250,ease:qu};function Yu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}function Xu(e){var t,n;e instanceof Wu?(t=e._id,e=e._name):(t=Gu(),(n=Ju).time=gl(),e=e==null?null:e+``);for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&Fl(c,e,t,l,o,n||Yu(c,t));return new Wu(r,this._parents,e,t)}ws.prototype.interrupt=Vl,ws.prototype.transition=Xu;var Zu=e=>()=>e;function Qu(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $u(e,t,n){this.k=e,this.x=t,this.y=n}$u.prototype={constructor:$u,scale:function(e){return e===1?this:new $u(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $u(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return`translate(`+this.x+`,`+this.y+`) scale(`+this.k+`)`}};var ed=new $u(1,0,0);$u.prototype;function td(e){e.stopImmediatePropagation()}function nd(e){e.preventDefault(),e.stopImmediatePropagation()}function rd(e){return(!e.ctrlKey||e.type===`wheel`)&&!e.button}function id(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute(`viewBox`)?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ad(){return this.__zoom||ed}function od(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function sd(){return navigator.maxTouchPoints||`ontouchstart`in this}function cd(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ld(){var e=rd,t=id,n=cd,r=od,i=sd,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,c=il,l=ya(`start`,`zoom`,`end`),u,d,f,p=500,m=150,h=0,g=10;function _(e){e.property(`__zoom`,ad).on(`wheel.zoom`,w,{passive:!1}).on(`mousedown.zoom`,T).on(`dblclick.zoom`,E).filter(i).on(`touchstart.zoom`,D).on(`touchmove.zoom`,O).on(`touchend.zoom touchcancel.zoom`,k).style(`-webkit-tap-highlight-color`,`rgba(0,0,0,0)`)}_.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property(`__zoom`,ad),e===i?i.interrupt().each(function(){S(this,arguments).event(r).start().zoom(null,typeof t==`function`?t.apply(this,arguments):t).end()}):x(e,t,n,r)},_.scaleBy=function(e,t,n,r){_.scaleTo(e,function(){var e=this.__zoom.k,n=typeof t==`function`?t.apply(this,arguments):t;return e*n},n,r)},_.scaleTo=function(e,r,i,a){_.transform(e,function(){var e=t.apply(this,arguments),a=this.__zoom,s=i==null?b(e):typeof i==`function`?i.apply(this,arguments):i,c=a.invert(s),l=typeof r==`function`?r.apply(this,arguments):r;return n(y(v(a,l),s,c),e,o)},i,a)},_.translateBy=function(e,r,i,a){_.transform(e,function(){return n(this.__zoom.translate(typeof r==`function`?r.apply(this,arguments):r,typeof i==`function`?i.apply(this,arguments):i),t.apply(this,arguments),o)},null,a)},_.translateTo=function(e,r,i,a,s){_.transform(e,function(){var e=t.apply(this,arguments),s=this.__zoom,c=a==null?b(e):typeof a==`function`?a.apply(this,arguments):a;return n(ed.translate(c[0],c[1]).scale(s.k).translate(typeof r==`function`?-r.apply(this,arguments):-r,typeof i==`function`?-i.apply(this,arguments):-i),e,o)},a,s)};function v(e,t){return t=Math.max(a[0],Math.min(a[1],t)),t===e.k?e:new $u(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new $u(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,n,r,i){e.on(`start.zoom`,function(){S(this,arguments).event(i).start()}).on(`interrupt.zoom end.zoom`,function(){S(this,arguments).event(i).end()}).tween(`zoom`,function(){var e=this,a=arguments,o=S(e,a).event(i),s=t.apply(e,a),l=r==null?b(s):typeof r==`function`?r.apply(e,a):r,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),d=e.__zoom,f=typeof n==`function`?n.apply(e,a):n,p=c(d.invert(l).concat(u/d.k),f.invert(l).concat(u/f.k));return function(e){if(e===1)e=f;else{var t=p(e),n=u/t[2];e=new $u(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function S(e,t,n){return!n&&e.__zooming||new C(e,t)}function C(e,n){this.that=e,this.args=n,this.active=0,this.sourceEvent=null,this.extent=t.apply(e,n),this.taps=0}C.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit(`start`)),this},zoom:function(e,t){return this.mouse&&e!==`mouse`&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&e!==`touch`&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&e!==`touch`&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit(`zoom`),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit(`end`)),this},emit:function(e){var t=Es(this.that).datum();l.call(e,this.that,new Qu(e,{sourceEvent:this.sourceEvent,target:_,type:e,transform:this.that.__zoom,dispatch:l}),t)}};function w(t,...i){if(!e.apply(this,arguments))return;var s=S(this,i).event(t),c=this.__zoom,l=Math.max(a[0],Math.min(a[1],c.k*2**r.apply(this,arguments))),u=Os(t);if(s.wheel)(s.mouse[0][0]!==u[0]||s.mouse[0][1]!==u[1])&&(s.mouse[1]=c.invert(s.mouse[0]=u)),clearTimeout(s.wheel);else if(c.k===l)return;else s.mouse=[u,c.invert(u)],Bl(this),s.start();nd(t),s.wheel=setTimeout(d,m),s.zoom(`mouse`,n(y(v(c,l),s.mouse[0],s.mouse[1]),s.extent,o));function d(){s.wheel=null,s.end()}}function T(t,...r){if(f||!e.apply(this,arguments))return;var i=t.currentTarget,a=S(this,r,!0).event(t),s=Es(t.view).on(`mousemove.zoom`,d,!0).on(`mouseup.zoom`,p,!0),c=Os(t,i),l=t.clientX,u=t.clientY;Ns(t.view),td(t),a.mouse=[c,this.__zoom.invert(c)],Bl(this),a.start();function d(e){if(nd(e),!a.moved){var t=e.clientX-l,r=e.clientY-u;a.moved=t*t+r*r>h}a.event(e).zoom(`mouse`,n(y(a.that.__zoom,a.mouse[0]=Os(e,i),a.mouse[1]),a.extent,o))}function p(e){s.on(`mousemove.zoom mouseup.zoom`,null),Ps(e.view,a.moved),nd(e),a.event(e).end()}}function E(r,...i){if(e.apply(this,arguments)){var a=this.__zoom,c=Os(r.changedTouches?r.changedTouches[0]:r,this),l=a.invert(c),u=a.k*(r.shiftKey?.5:2),d=n(y(v(a,u),c,l),t.apply(this,i),o);nd(r),s>0?Es(this).transition().duration(s).call(x,d,c,r):Es(this).call(_.transform,d,c,r)}}function D(t,...n){if(e.apply(this,arguments)){var r=t.touches,i=r.length,a=S(this,n,t.changedTouches.length===i).event(t),o,s,c,l;for(td(t),s=0;s<i;++s)c=r[s],l=Os(c,this),l=[l,this.__zoom.invert(l),c.identifier],a.touch0?!a.touch1&&a.touch0[2]!==l[2]&&(a.touch1=l,a.taps=0):(a.touch0=l,o=!0,a.taps=1+!!u);u&&=clearTimeout(u),o&&(a.taps<2&&(d=l[0],u=setTimeout(function(){u=null},p)),Bl(this),a.start())}}function O(e,...t){if(this.__zooming){var r=S(this,t).event(e),i=e.changedTouches,a=i.length,s,c,l,u;for(nd(e),s=0;s<a;++s)c=i[s],l=Os(c,this),r.touch0&&r.touch0[2]===c.identifier?r.touch0[0]=l:r.touch1&&r.touch1[2]===c.identifier&&(r.touch1[0]=l);if(c=r.that.__zoom,r.touch1){var d=r.touch0[0],f=r.touch0[1],p=r.touch1[0],m=r.touch1[1],h=(h=p[0]-d[0])*h+(h=p[1]-d[1])*h,g=(g=m[0]-f[0])*g+(g=m[1]-f[1])*g;c=v(c,Math.sqrt(h/g)),l=[(d[0]+p[0])/2,(d[1]+p[1])/2],u=[(f[0]+m[0])/2,(f[1]+m[1])/2]}else if(r.touch0)l=r.touch0[0],u=r.touch0[1];else return;r.zoom(`touch`,n(y(c,l,u),r.extent,o))}}function k(e,...t){if(this.__zooming){var n=S(this,t).event(e),r=e.changedTouches,i=r.length,a,o;for(td(e),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),a=0;a<i;++a)o=r[a],n.touch0&&n.touch0[2]===o.identifier?delete n.touch0:n.touch1&&n.touch1[2]===o.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),n.taps===2&&(o=Os(o,this),Math.hypot(d[0]-o[0],d[1]-o[1])<g)){var s=Es(this).on(`dblclick.zoom`);s&&s.apply(this,arguments)}}}return _.wheelDelta=function(e){return arguments.length?(r=typeof e==`function`?e:Zu(+e),_):r},_.filter=function(t){return arguments.length?(e=typeof t==`function`?t:Zu(!!t),_):e},_.touchable=function(e){return arguments.length?(i=typeof e==`function`?e:Zu(!!e),_):i},_.extent=function(e){return arguments.length?(t=typeof e==`function`?e:Zu([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),_):t},_.scaleExtent=function(e){return arguments.length?(a[0]=+e[0],a[1]=+e[1],_):[a[0],a[1]]},_.translateExtent=function(e){return arguments.length?(o[0][0]=+e[0][0],o[1][0]=+e[1][0],o[0][1]=+e[0][1],o[1][1]=+e[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(e){return arguments.length?(n=e,_):n},_.duration=function(e){return arguments.length?(s=+e,_):s},_.interpolate=function(e){return arguments.length?(c=e,_):c},_.on=function(){var e=l.on.apply(l,arguments);return e===l?_:e},_.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,_):Math.sqrt(h)},_.tapDistance=function(e){return arguments.length?(g=+e,_):g},_}var X=(e=>(e.Left=`left`,e.Top=`top`,e.Right=`right`,e.Bottom=`bottom`,e))(X||{}),ud=(e=>(e.Partial=`partial`,e.Full=`full`,e))(ud||{}),dd=(e=>(e.Bezier=`default`,e.SimpleBezier=`simple-bezier`,e.Straight=`straight`,e.Step=`step`,e.SmoothStep=`smoothstep`,e))(dd||{}),fd=(e=>(e.Strict=`strict`,e.Loose=`loose`,e))(fd||{}),pd=(e=>(e.Arrow=`arrow`,e.ArrowClosed=`arrowclosed`,e))(pd||{}),md=(e=>(e.Free=`free`,e.Vertical=`vertical`,e.Horizontal=`horizontal`,e))(md||{}),hd=(e=>(e.TopLeft=`top-left`,e.TopCenter=`top-center`,e.TopRight=`top-right`,e.BottomLeft=`bottom-left`,e.BottomCenter=`bottom-center`,e.BottomRight=`bottom-right`,e))(hd||{}),gd=[`INPUT`,`SELECT`,`TEXTAREA`],_d=typeof document<`u`?document:null;function vd(e){let t=e.composedPath?.call(e)?.[0]||e.target,n=typeof t?.hasAttribute==`function`?t.hasAttribute(`contenteditable`):!1,r=typeof t?.closest==`function`?t.closest(`.nokey`):null;return gd.includes(t?.nodeName)||n||!!r}function yd(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function bd(e,t,n,r){let i=t.replace(`+`,`
`).replace(`

`,`
+`).split(`
`).map(e=>e.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());let a=i.every((e,t)=>n.has(e)&&Array.from(n.values())[t]===i[t]);return r&&n.delete(e.toLowerCase()),a}function xd(e,t){return n=>{if(!n.code&&!n.key)return!1;let r=Sd(n.code,e);return Array.isArray(e)?e.some(e=>bd(n[r],e,t,n.type===`keyup`)):bd(n[r],e,t,n.type===`keyup`)}}function Sd(e,t){return t.includes(e)?`code`:`key`}function Cd(e,n){let r=I(()=>t(n?.target)??_d),i=me(t(e)===!0),a=!1,o=new Set,s=l(t(e));T(()=>t(e),(e,t)=>{typeof t==`boolean`&&typeof e!=`boolean`&&c(),s=l(e)},{immediate:!0}),pa([`blur`,`contextmenu`],c),ha((...e)=>s(...e),e=>{let r=t(n?.actInsideInputWithModifier)??!0,o=t(n?.preventDefault)??!1;if(a=yd(e),(!a||a&&!r)&&vd(e))return;let s=e.composedPath?.call(e)?.[0]||e.target,c=s?.nodeName===`BUTTON`||s?.nodeName===`A`;!o&&(a||!c)&&e.preventDefault(),i.value=!0},{eventName:`keydown`,target:r}),ha((...e)=>s(...e),e=>{let r=t(n?.actInsideInputWithModifier)??!0;if(i.value){if((!a||a&&!r)&&vd(e))return;a=!1,i.value=!1}},{eventName:`keyup`,target:r});function c(){a=!1,o.clear(),i.value=t(e)===!0}function l(e){return e===null?(c(),()=>!1):typeof e==`boolean`?(c(),i.value=e,()=>!1):Array.isArray(e)||typeof e==`string`?xd(e,o):e}return i}var wd=`vue-flow__node-desc`,Td=`vue-flow__edge-desc`,Ed=`vue-flow__aria-live`,Dd=[`Enter`,` `,`Escape`],Od={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function kd(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Ad(e,t){let n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function jd(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Md(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Nd(e,t){return{x:Md(e.x,t[0][0],t[1][0]),y:Md(e.y,t[0][1],t[1][1])}}function Pd(e){let t=e.getRootNode();return`elementFromPoint`in t?t:window.document}function Fd(e){return e&&typeof e==`object`&&`id`in e&&`source`in e&&`target`in e}function Id(e){return e&&typeof e==`object`&&`id`in e&&`position`in e&&!Fd(e)}function Ld(e){return Id(e)&&`computedPosition`in e}function Rd(e){return!Number.isNaN(e)&&Number.isFinite(e)}function zd(e){return Rd(e.width)&&Rd(e.height)&&Rd(e.x)&&Rd(e.y)}function Bd(e,t,n){let r={id:e.id.toString(),type:e.type??`default`,dimensions:h({width:0,height:0}),computedPosition:h({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:ap(e.data)?e.data:{},events:h(ap(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function Vd(e,t,n){let r={id:e.id.toString(),type:e.type??t?.type??`default`,source:e.source.toString(),target:e.target.toString(),sourceHandle:e.sourceHandle?.toString(),targetHandle:e.targetHandle?.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:ap(e.data)?e.data:{},events:h(ap(e.events)?e.events:{}),label:e.label??``,interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??r,e,{id:e.id.toString()})}function Hd(e,t,n,r){let i=typeof e==`string`?e:e.id,a=new Set,o=r===`source`?`target`:`source`;for(let e of n)e[o]===i&&a.add(e[r]);return t.filter(e=>a.has(e.id))}function Ud(...e){if(e.length===3){let[t,n,r]=e;return Hd(t,n,r,`target`)}let[t,n]=e,r=typeof t==`string`?t:t.id;return n.filter(e=>Fd(e)&&e.source===r).map(e=>n.find(t=>Id(t)&&t.id===e.target))}function Wd(...e){if(e.length===3){let[t,n,r]=e;return Hd(t,n,r,`source`)}let[t,n]=e,r=typeof t==`string`?t:t.id;return n.filter(e=>Fd(e)&&e.target===r).map(e=>n.find(t=>Id(t)&&t.id===e.source))}function Gd({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??``}-${n}${r??``}`}function Kd(e,t){return t.some(t=>Fd(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))}function qd({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function Jd({x:e,y:t},{x:n,y:r,zoom:i},a=!1,o=[1,1]){let s={x:(e-n)/i,y:(t-r)/i};return a?Hf(s,o):s}function Yd(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Xd({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function Zd({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function Qd(e,t){return Zd(Yd(Xd(e),Xd(t)))}function $d(e){let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};for(let n=0;n<e.length;n++){let r=e[n];t=Yd(t,Xd({...r.computedPosition,...r.dimensions}))}return Zd(t)}function ef(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){let a={...Jd(t,n),width:t.width/n.zoom,height:t.height/n.zoom},o=[];for(let t of e){let{dimensions:e,selectable:n=!0,hidden:s=!1}=t,c=e.width??t.width??null,l=e.height??t.height??null;if(i&&!n||s)continue;let u=Ad(a,kd(t)),d=c===null||l===null,f=r&&u>0,p=(c??0)*(l??0);(d||f||u>=p||t.dragging)&&o.push(t)}return o}function tf(e,t){let n=new Set;if(typeof e==`string`)n.add(e);else if(e.length>=1)for(let t of e)n.add(t.id);return t.filter(e=>n.has(e.source)||n.has(e.target))}function nf(e,t){if(typeof e==`number`)return Math.floor((t-t/(1+e))*.5);if(typeof e==`string`&&e.endsWith(`px`)){let t=Number.parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if(typeof e==`string`&&e.endsWith(`%`)){let n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return tp(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function rf(e,t,n){if(typeof e==`string`||typeof e==`number`){let r=nf(e,n),i=nf(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e==`object`){let r=nf(e.top??e.y??0,n),i=nf(e.bottom??e.y??0,n),a=nf(e.left??e.x??0,t),o=nf(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:a,x:a+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function af(e,t,n,r,i,a){let{x:o,y:s}=qd(e,{x:t,y:n,zoom:r}),{x:c,y:l}=qd({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:r}),u=i-c,d=a-l;return{left:Math.floor(o),top:Math.floor(s),right:Math.floor(u),bottom:Math.floor(d)}}function sf(e,t,n,r,i,a=.1){let o=rf(a,t,n),s=(t-o.x)/e.width,c=(n-o.y)/e.height,l=Md(Math.min(s,c),r,i),u=e.x+e.width/2,d=e.y+e.height/2,f=t/2-u*l,p=n/2-d*l,m=af(e,f,p,l,t,n),h={left:Math.min(m.left-o.left,0),top:Math.min(m.top-o.top,0),right:Math.min(m.right-o.right,0),bottom:Math.min(m.bottom-o.bottom,0)};return{x:f-h.left+h.right,y:p-h.top+h.bottom,zoom:l}}function cf(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function lf(e,t){if(!e.parentNode)return!1;let n=t.get(e.parentNode);return n?n.selected?!0:lf(n,t):!1}function uf(e,t){return e===void 0?``:typeof e==`string`?e:`${t?`${t}__`:``}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join(`&`)}`}function df(e){let t=e.ctrlKey&&Bf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function ff(e,t,n){return e<t?Md(Math.abs(e-t),1,t)/t:e>n?-Md(Math.abs(e-n),1,t)/t:0}function pf(e,t,n=15,r=40){let i=ff(e.x,r,t.width-r)*n,a=ff(e.y,r,t.height-r)*n;return[i,a]}function mf(e,t){if(t){let n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style==`function`?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0&&(typeof i.width==`string`?i.width=`${Number(i.width.replace(`px`,``))+n}px`:i.width+=n),r>0&&(typeof i.height==`string`?i.height=`${Number(i.height.replace(`px`,``))+r}px`:i.height+=r),e.position.x<0){let n=Math.abs(e.position.x);t.position.x=t.position.x-n,typeof i.width==`string`?i.width=`${Number(i.width.replace(`px`,``))+n}px`:i.width+=n,e.position.x=0}if(e.position.y<0){let n=Math.abs(e.position.y);t.position.y=t.position.y-n,typeof i.height==`string`?i.height=`${Number(i.height.replace(`px`,``))+n}px`:i.height+=n,e.position.y=0}t.dimensions.width=Number(i.width.toString().replace(`px`,``)),t.dimensions.height=Number(i.height.toString().replace(`px`,``)),typeof t.style==`function`?t.style=e=>{let n=t.style;return{...n(e),...i}}:t.style={...t.style,...i}}}}function hf(e,t){let n=e.filter(e=>e.type===`add`||e.type===`remove`);for(let e of n)if(e.type===`add`)t.findIndex(t=>t.id===e.item.id)===-1&&t.push(e.item);else if(e.type===`remove`){let n=t.findIndex(t=>t.id===e.id);n!==-1&&t.splice(n,1)}let r=t.map(e=>e.id);for(let n of t)for(let i of e)if(i.id===n.id)switch(i.type){case`select`:n.selected=i.selected;break;case`position`:if(Ld(n)&&(i.position!==void 0&&(n.position=i.position),i.dragging!==void 0&&(n.dragging=i.dragging),n.expandParent&&n.parentNode)){let e=t[r.indexOf(n.parentNode)];e&&Ld(e)&&mf(n,e)}break;case`dimensions`:if(Ld(n)&&(i.dimensions!==void 0&&(n.dimensions=i.dimensions),i.updateStyle!==void 0&&i.updateStyle&&(n.style={...n.style||{},width:`${i.dimensions?.width}px`,height:`${i.dimensions?.height}px`}),i.resizing!==void 0&&(n.resizing=i.resizing),n.expandParent&&n.parentNode)){let e=t[r.indexOf(n.parentNode)];e&&Ld(e)&&(e.dimensions.width&&e.dimensions.height?mf(n,e):P(()=>{mf(n,e)}))}break}return t}function gf(e,t){return{id:e,type:`select`,selected:t}}function _f(e){return{item:e,type:`add`}}function vf(e){return{id:e,type:`remove`}}function yf(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:`remove`}}function bf(e,t=new Set,n=!1){let r=[];for(let[i,a]of e){let e=t.has(i);!(a.selected===void 0&&!e)&&a.selected!==e&&(n&&(a.selected=e),r.push(gf(a.id,e)))}return r}var xf=()=>{};function Z(e){let t=new Set,n=xf,r=()=>!1,i=()=>t.size>0||r(),a=e=>{n=e},o=()=>{n=xf},s=e=>{r=e},c=()=>{r=()=>!1},l=e=>{t.delete(e)};return{on:e=>{t.add(e);let n=()=>l(e);return Yi(n),{off:n}},off:l,trigger:r=>{let a=[n];return i()?a.push(...t):e&&a.push(e),Promise.allSettled(a.map(e=>e(r)))},hasListeners:i,listeners:t,setEmitter:a,removeEmitter:o,setHasEmitListeners:s,removeHasEmitListeners:c}}function Sf(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function Cf(e,t,n,r){let i=new Map;for(let[a,o]of e)(o.selected||o.id===r)&&(!o.parentNode||!lf(o,e))&&(o.draggable||t&&o.draggable===void 0)&&e.get(a)&&i.set(a,{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-o.computedPosition?.x||0,y:n.y-o.computedPosition?.y||0},from:{x:o.computedPosition.x,y:o.computedPosition.y},extent:o.extent,parentNode:o.parentNode,dimensions:{...o.dimensions},expandParent:o.expandParent});return Array.from(i.values())}function wf({id:e,dragItems:t,findNode:n}){let r=[];for(let e of t){let t=n(e.id);t&&r.push(t)}return[e?r.find(t=>t.id===e):r[0],r]}function Tf(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Ef(e,t,n){let[r,i,a,o]=typeof e==`string`?[0,0,0,0]:Tf(e.padding);return n&&n.computedPosition.x!==void 0&&n.computedPosition.y!==void 0&&n.dimensions.width!==void 0&&n.dimensions.height!==void 0?[[n.computedPosition.x+o,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-a]]:!1}function Df(e,t,n,r){let i=e.extent||n;if((i===`parent`||!Array.isArray(i)&&i?.range===`parent`)&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){let t=Ef(i,e,r);t&&(i=t)}else t(new If(Pf.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){let e=r?.computedPosition.x||0,t=r?.computedPosition.y||0;i=[[i[0][0]+e,i[0][1]+t],[i[1][0]+e,i[1][1]+t]]}else if(i!==`parent`&&i?.range&&Array.isArray(i.range)){let[e,t,n,a]=Tf(i.padding),o=r?.computedPosition.x||0,s=r?.computedPosition.y||0;i=[[i.range[0][0]+o+a,i.range[0][1]+s+e],[i.range[1][0]+o-t,i.range[1][1]+s-n]]}return i===`parent`?[[-1/0,-1/0],[1/0,1/0]]:i}function Of({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function kf(e,t,n,r,i){let a=Of(e.dimensions,Df(e,n,r,i)),o=Nd(t,a);return{position:{x:o.x-(i?.computedPosition.x||0),y:o.y-(i?.computedPosition.y||0)},computedPosition:o}}function Af(e,t,n=X.Left,r=!1){let i=(t?.x??0)+e.computedPosition.x,a=(t?.y??0)+e.computedPosition.y,{width:o,height:s}=t??Vf(e);if(r)return{x:i+o/2,y:a+s/2};switch(t?.position??n){case X.Top:return{x:i+o/2,y:a};case X.Right:return{x:i+o,y:a+s/2};case X.Bottom:return{x:i+o/2,y:a+s};case X.Left:return{x:i,y:a+s/2}}}function jf(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function Mf({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:o,height:s,viewport:c}){let l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);let u=Xd({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:o/c.zoom,height:s/c.zoom}),d=Math.max(0,Math.min(u.x2,l.x2)-Math.max(u.x,l.x)),f=Math.max(0,Math.min(u.y2,l.y2)-Math.max(u.y,l.y));return Math.ceil(d*f)>0}function Nf(e,t,n=!1){let r=typeof e.zIndex==`number`,i=r?e.zIndex:0,a=t(e.source),o=t(e.target);return!a||!o?0:(n&&(i=r?e.zIndex:Math.max(a.computedPosition.z||0,o.computedPosition.z||0)),i)}var Pf=(e=>(e.MISSING_STYLES=`MISSING_STYLES`,e.MISSING_VIEWPORT_DIMENSIONS=`MISSING_VIEWPORT_DIMENSIONS`,e.NODE_INVALID=`NODE_INVALID`,e.NODE_NOT_FOUND=`NODE_NOT_FOUND`,e.NODE_MISSING_PARENT=`NODE_MISSING_PARENT`,e.NODE_TYPE_MISSING=`NODE_TYPE_MISSING`,e.NODE_EXTENT_INVALID=`NODE_EXTENT_INVALID`,e.EDGE_INVALID=`EDGE_INVALID`,e.EDGE_NOT_FOUND=`EDGE_NOT_FOUND`,e.EDGE_SOURCE_MISSING=`EDGE_SOURCE_MISSING`,e.EDGE_TARGET_MISSING=`EDGE_TARGET_MISSING`,e.EDGE_TYPE_MISSING=`EDGE_TYPE_MISSING`,e.EDGE_SOURCE_TARGET_SAME=`EDGE_SOURCE_TARGET_SAME`,e.EDGE_SOURCE_TARGET_MISSING=`EDGE_SOURCE_TARGET_MISSING`,e.EDGE_ORPHANED=`EDGE_ORPHANED`,e.USEVUEFLOW_OPTIONS=`USEVUEFLOW_OPTIONS`,e))(Pf||{}),Ff={MISSING_STYLES:()=>`It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly`,MISSING_VIEWPORT_DIMENSIONS:()=>`The Vue Flow parent container needs a width and a height to render the graph`,NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>`The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead`},If=class extends Error{constructor(e,...t){super(Ff[e]?.call(Ff,...t)),this.name=`VueFlowError`,this.code=e,this.args=t}};function Lf(e){return`clientX`in e}function Rf(e){return`sourceEvent`in e}function zf(e,t){let n=Lf(e),r,i;return n?(r=e.clientX,i=e.clientY):`touches`in e&&e.touches.length>0?(r=e.touches[0].clientX,i=e.touches[0].clientY):`changedTouches`in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(r=0,i=0),{x:r-(t?.left??0),y:i-(t?.top??0)}}var Bf=()=>typeof navigator<`u`&&(navigator==null?void 0:navigator.userAgent)?.indexOf(`Mac`)>=0;function Vf(e){return{width:e.dimensions?.width??e.width??0,height:e.dimensions?.height??e.height??0}}function Hf(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}var Uf=()=>!0;function Wf(e){e?.classList.remove(`valid`,`connecting`,`vue-flow__handle-valid`,`vue-flow__handle-connecting`)}function Gf(e,t,n){let r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(let e of t.values())Ad(i,kd(e))>0&&r.push(e);return r}var Kf=250;function qf(e,t,n,r){let i=[],a=1/0,o=Gf(e,n,t+Kf);for(let n of o){let o=[...n.handleBounds?.source??[],...n.handleBounds?.target??[]];for(let s of o){if(r.nodeId===s.nodeId&&r.type===s.type&&r.id===s.id)continue;let{x:o,y:c}=Af(n,s,s.position,!0),l=Math.sqrt((o-e.x)**2+(c-e.y)**2);l>t||(l<a?(i=[{...s,x:o,y:c}],a=l):l===a&&i.push({...s,x:o,y:c}))}}if(!i.length)return null;if(i.length>1){let e=r.type===`source`?`target`:`source`;return i.find(t=>t.type===e)??i[0]}return i[0]}function Jf(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:a,doc:o,lib:s,flowId:c,isValidConnection:l=Uf},u,d,f,p){let m=a===`target`,h=t?o.querySelector(`.${s}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:g,y:_}=zf(e),v=o.elementFromPoint(g,_),y=v?.classList.contains(`${s}-flow__handle`)?v:h,b={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){let e=Yf(void 0,y),t=y.getAttribute(`data-nodeid`),a=y.getAttribute(`data-handleid`),o=y.classList.contains(`connectable`),s=y.classList.contains(`connectableend`);if(!t||!e)return b;let c={source:m?t:r,sourceHandle:m?a:i,target:m?r:t,targetHandle:m?i:a};b.connection=c,b.isValid=o&&s&&(n===fd.Strict?m&&e===`source`||!m&&e===`target`:t!==r||a!==i)&&l(c,{nodes:d,edges:u,sourceNode:f(c.source),targetNode:f(c.target)}),b.toHandle=Qf(t,e,a,p,n,!0)}return b}function Yf(e,t){return e||(t?.classList.contains(`target`)?`target`:t?.classList.contains(`source`)?`source`:null)}function Xf(e,t){let n=null;return t?n=`valid`:e&&!t&&(n=`invalid`),n}function Zf(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function Qf(e,t,n,r,i,a=!1){let o=r.get(e);if(!o)return null;let s=i===fd.Strict?o.handleBounds?.[t]:[...o.handleBounds?.source??[],...o.handleBounds?.target??[]],c=(n?s?.find(e=>e.id===n):s?.[0])??null;return c&&a?{...c,...Af(o,c,c.position,!0)}:c}var $f={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},ep=[`production`,`prod`];function tp(e,...t){np()&&console.warn(`[Vue Flow]: ${e}`,...t)}function np(){return!ep.includes(`production`)}function rp(e,t,n,r,i){let a=t.querySelectorAll(`.vue-flow__handle.${e}`);return a?.length?Array.from(a).map(t=>{let a=t.getBoundingClientRect();return{id:t.getAttribute(`data-handleid`),type:e,nodeId:i,position:t.getAttribute(`data-handlepos`),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...jd(t)}}):null}function ip(e,t,n,r,i,a=!1,o){i.value=!1,e.selected?(a||e.selected&&t)&&(r([e]),P(()=>{o.blur()})):n([e])}function ap(e){return R(e)!==void 0}function op(e,t,n,r){if(!e||!e.source||!e.target)return n(new If(Pf.EDGE_INVALID,e?.id??`[ID UNKNOWN]`)),!1;let i;return i=Fd(e)?e:{...e,id:Gd(e)},i=Vd(i,void 0,r),Kd(i,t)?!1:i}function sp(e,t,n,r,i){if(!t.source||!t.target)return i(new If(Pf.EDGE_INVALID,e.id)),!1;if(!n)return i(new If(Pf.EDGE_NOT_FOUND,e.id)),!1;let{id:a,...o}=e;return{...o,id:r?Gd(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function cp(e,t,n){let r={},i=[];for(let a=0;a<e.length;++a){let o=e[a];if(!Id(o)){n(new If(Pf.NODE_INVALID,o?.id));continue}let s=Bd(o,t(o.id),o.parentNode);o.parentNode&&(r[o.parentNode]=!0),i[a]=s}for(let e of i){let a=t(e.parentNode)||i.find(t=>t.id===e.parentNode);e.parentNode&&!a&&n(new If(Pf.NODE_MISSING_PARENT,e.id,e.parentNode)),(e.parentNode||r[e.id])&&(r[e.id]&&(e.isParent=!0),a&&(a.isParent=!0))}return i}function lp(e,t,n,r,i,a){let o=i,s=r.get(o)||new Map;r.set(o,s.set(n,t)),o=`${i}-${e}`;let c=r.get(o)||new Map;if(r.set(o,c.set(n,t)),a){o=`${i}-${e}-${a}`;let s=r.get(o)||new Map;r.set(o,s.set(n,t))}}function up(e,t,n){e.clear();for(let t of n){let{source:n,target:r,sourceHandle:i=null,targetHandle:a=null}=t,o={edgeId:t.id,source:n,target:r,sourceHandle:i,targetHandle:a},s=`${n}-${i}--${r}-${a}`,c=`${r}-${a}--${n}-${i}`;lp(`source`,o,c,e,n,i),lp(`target`,o,s,e,r,a)}}function dp(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function fp(e,t,n,r,i,a,o,s){let c=[];for(let l of e){let e=Fd(l)?l:op(l,s,i,a);if(!e)continue;let u=n(e.source),d=n(e.target);if(!u||!d){i(new If(Pf.EDGE_SOURCE_TARGET_MISSING,e.id,e.source,e.target));continue}if(!u){i(new If(Pf.EDGE_SOURCE_MISSING,e.id,e.source));continue}if(!d){i(new If(Pf.EDGE_TARGET_MISSING,e.id,e.target));continue}if(t&&!t(e,{edges:s,nodes:o,sourceNode:u,targetNode:d})){i(new If(Pf.EDGE_INVALID,e.id));continue}let f=r(e.id);c.push({...Vd(e,f,a),sourceNode:u,targetNode:d})}return c}var pp=Symbol(`vueFlow`),mp=Symbol(`nodeId`),hp=Symbol(`nodeRef`),gp=Symbol(`edgeId`),_p=Symbol(`edgeRef`),vp=Symbol(`slots`);function yp(e){let{vueFlowRef:n,snapToGrid:r,snapGrid:i,noDragClassName:a,nodeLookup:o,nodeExtent:s,nodeDragThreshold:c,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:d,nodesDraggable:f,panBy:p,findNode:m,multiSelectionActive:h,nodesSelectionActive:g,selectNodesOnDrag:_,removeSelectedElements:v,addSelectedNodes:y,updateNodePositions:b,emits:x}=Dm(),{onStart:S,onDrag:C,onStop:w,onClick:E,el:D,disabled:O,id:k,selectable:A,dragHandle:ee}=e,j=me(!1),M=[],N,te=null,ne={x:void 0,y:void 0},re={x:0,y:0},ie=null,P=!1,ae=!1,oe=0,se=!1,ce=Sp(),le=({x:e,y:t})=>{ne={x:e,y:t};let n=!1;if(M=M.map(a=>{let o={x:e-a.distance.x,y:t-a.distance.y},{computedPosition:c}=kf(a,r.value?Hf(o,i.value):o,x.error,s.value,a.parentNode?m(a.parentNode):void 0);return n=n||a.position.x!==c.x||a.position.y!==c.y,a.position=c,a}),ae||=n,n&&(b(M,!0,!0),j.value=!0,ie)){let[e,t]=wf({id:k,dragItems:M,findNode:m});C({event:ie,node:e,nodes:t})}},ue=()=>{if(!te)return;let[e,t]=pf(re,te,d.value);if(e!==0||t!==0){let n={x:(ne.x??0)-e/l.value.zoom,y:(ne.y??0)-t/l.value.zoom};p({x:e,y:t})&&le(n)}oe=requestAnimationFrame(ue)},de=(e,n)=>{P=!0;let r=m(k);!_.value&&!h.value&&r&&(r.selected||v()),r&&t(A)&&_.value&&ip(r,h.value,y,v,g,!1,n);let i=ce(e.sourceEvent);if(ne=i,M=Cf(o.value,f.value,i,k),M.length){let[t,n]=wf({id:k,dragItems:M,findNode:m});S({event:e.sourceEvent,node:t,nodes:n})}},fe=(e,t)=>{e.sourceEvent.type===`touchmove`&&e.sourceEvent.touches.length>1||(ae=!1,c.value===0&&de(e,t),ne=ce(e.sourceEvent),te=n.value?.getBoundingClientRect()||null,re=zf(e.sourceEvent,te))},pe=(e,t)=>{let n=ce(e.sourceEvent);if(!se&&P&&u.value&&(se=!0,ue()),!P){let r=n.xSnapped-(ne.x??0),i=n.ySnapped-(ne.y??0);Math.sqrt(r*r+i*i)>c.value&&de(e,t)}(ne.x!==n.xSnapped||ne.y!==n.ySnapped)&&M.length&&P&&(ie=e.sourceEvent,re=zf(e.sourceEvent,te),le(n))},he=e=>{let t=!1;if(!P&&!j.value&&!h.value){let n=e.sourceEvent,r=ce(n),i=r.xSnapped-(ne.x??0),a=r.ySnapped-(ne.y??0),o=Math.sqrt(i*i+a*a);o!==0&&o<=c.value&&(E?.(n),t=!0)}if(M.length&&!t){ae&&=(b(M,!1,!1),!1);let[t,n]=wf({id:k,dragItems:M,findNode:m});w({event:e.sourceEvent,node:t,nodes:n})}M=[],j.value=!1,se=!1,P=!1,ne={x:void 0,y:void 0},cancelAnimationFrame(oe)};return T([()=>t(O),D],([e,n],r,i)=>{if(n){let r=Es(n);e||(N=Vs().on(`start`,e=>fe(e,n)).on(`drag`,e=>pe(e,n)).on(`end`,e=>he(e)).filter(e=>{let r=e.target,i=t(ee);return!e.button&&(!a.value||!Sf(r,`.${a.value}`,n)&&(!i||Sf(r,i,n)))}),r.call(N)),i(()=>{r.on(`.drag`,null),N&&(N.on(`start`,null),N.on(`drag`,null),N.on(`end`,null))})}}),j}function bp(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),updateStart:Z(),update:Z(),updateEnd:Z()}}function xp(e,t){let n=bp();return n.doubleClick.on(n=>{var r,i;t.edgeDoubleClick(n),(i=(r=e.events)?.doubleClick)==null||i.call(r,n)}),n.click.on(n=>{var r,i;t.edgeClick(n),(i=(r=e.events)?.click)==null||i.call(r,n)}),n.mouseEnter.on(n=>{var r,i;t.edgeMouseEnter(n),(i=(r=e.events)?.mouseEnter)==null||i.call(r,n)}),n.mouseMove.on(n=>{var r,i;t.edgeMouseMove(n),(i=(r=e.events)?.mouseMove)==null||i.call(r,n)}),n.mouseLeave.on(n=>{var r,i;t.edgeMouseLeave(n),(i=(r=e.events)?.mouseLeave)==null||i.call(r,n)}),n.contextMenu.on(n=>{var r,i;t.edgeContextMenu(n),(i=(r=e.events)?.contextMenu)==null||i.call(r,n)}),n.updateStart.on(n=>{var r,i;t.edgeUpdateStart(n),(i=(r=e.events)?.updateStart)==null||i.call(r,n)}),n.update.on(n=>{var r,i;t.edgeUpdate(n),(i=(r=e.events)?.update)==null||i.call(r,n)}),n.updateEnd.on(n=>{var r,i;t.edgeUpdateEnd(n),(i=(r=e.events)?.updateEnd)==null||i.call(r,n)}),Object.entries(n).reduce((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e),{emit:{},on:{}})}function Sp(){let{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=Dm();return i=>{let a=r.value?.getBoundingClientRect()??{left:0,top:0},o=Rf(i)?i.sourceEvent:i,{x:s,y:c}=zf(o,a),l=Jd({x:s,y:c},e.value),{x:u,y:d}=n.value?Hf(l,t.value):l;return{xSnapped:u,ySnapped:d,...l}}}function Cp(){return!0}function wp({handleId:e,nodeId:n,type:r,isValidConnection:i,edgeUpdaterType:a,onEdgeUpdate:o,onEdgeUpdateEnd:s}){let{id:c,vueFlowRef:l,connectionMode:u,connectionRadius:d,connectOnClick:f,connectionClickStartHandle:p,nodesConnectable:m,autoPanOnConnect:h,autoPanSpeed:g,findNode:_,panBy:v,startConnection:y,updateConnection:b,endConnection:x,emits:S,viewport:C,edges:w,nodes:T,isValidConnection:E,nodeLookup:D}=Dm(),O=null,k=!1,A=null;function ee(f){let p=t(r)===`target`,m=Lf(f),ee=Pd(f.target),j=f.currentTarget;if(j&&(m&&f.button===0||!m)){let r=function(r){ce=zf(r,ae),te=qf(Jd(ce,C.value,!1,[1,1]),d.value,D.value,de),le||=(ue(),!0);let i=Jf(r,{handle:te,connectionMode:u.value,fromNodeId:t(n),fromHandleId:t(e),fromType:p?`target`:`source`,isValidConnection:N,doc:ee,lib:`vue`,flowId:c,nodeLookup:D.value},w.value,T.value,_,D.value);A=i.handleDomNode,O=i.connection,k=Zf(!!te,i.isValid);let a={...me,isValid:k,to:i.toHandle&&k?qd({x:i.toHandle.x,y:i.toHandle.y},C.value):ce,toHandle:i.toHandle,toPosition:k&&i.toHandle?i.toHandle.position:$f[de.position],toNode:i.toHandle?D.value.get(i.toHandle.nodeId):null};if(k&&te&&me?.toHandle&&a.toHandle&&me.toHandle.type===a.toHandle.type&&me.toHandle.nodeId===a.toHandle.nodeId&&me.toHandle.id===a.toHandle.id&&me.to.x===a.to.x&&me.to.y===a.to.y)return;let o=te??i.toHandle;if(b(o&&k?qd({x:o.x,y:o.y},C.value):ce,i.toHandle,Xf(!!o,k)),me=a,!te&&!k&&!A)return Wf(se);O&&O.source!==O.target&&A&&(Wf(se),se=A,A.classList.add(`connecting`,`vue-flow__handle-connecting`),A.classList.toggle(`valid`,!!k),A.classList.toggle(`vue-flow__handle-valid`,!!k))},m=function(e){`touches`in e&&e.touches.length>0||((te||A)&&O&&k&&(o?o(e,O):S.connect(O)),S.connectEnd(e),a&&s?.(e),Wf(se),cancelAnimationFrame(ne),x(e),le=!1,k=!1,O=null,A=null,ee.removeEventListener(`mousemove`,r),ee.removeEventListener(`mouseup`,m),ee.removeEventListener(`touchmove`,r),ee.removeEventListener(`touchend`,m))},M=_(t(n)),N=t(i)||E.value||Cp;!N&&M&&(N=(p?M.isValidSourcePos:M.isValidTargetPos)||Cp);let te,ne=0,{x:re,y:ie}=zf(f),P=Yf(t(a),j),ae=l.value?.getBoundingClientRect();if(!ae||!P)return;let oe=Qf(t(n),P,t(e),D.value,u.value);if(!oe)return;let se,ce=zf(f,ae),le=!1,ue=()=>{if(!h.value)return;let[e,t]=pf(ce,ae,g.value);v({x:e,y:t}),ne=requestAnimationFrame(ue)},de={...oe,nodeId:t(n),type:P,position:oe.position},fe=D.value.get(t(n)),pe={inProgress:!0,isValid:null,from:Af(fe,de,X.Left,!0),fromHandle:de,fromPosition:de.position,fromNode:fe,to:ce,toHandle:null,toPosition:$f[de.position],toNode:null};y({nodeId:t(n),id:t(e),type:P,position:j?.getAttribute(`data-handlepos`)||X.Top,...ce},{x:re-ae.left,y:ie-ae.top}),S.connectStart({event:f,nodeId:t(n),handleId:t(e),handleType:P});let me=pe;ee.addEventListener(`mousemove`,r),ee.addEventListener(`mouseup`,m),ee.addEventListener(`touchmove`,r),ee.addEventListener(`touchend`,m)}}function j(a){if(!f.value)return;let o=t(r)===`target`;if(!p.value){S.clickConnectStart({event:a,nodeId:t(n),handleId:t(e)}),y({nodeId:t(n),type:t(r),id:t(e),position:X.Top,...zf(a)},void 0,!0);return}let s=t(i)||E.value||Cp,l=_(t(n));if(!s&&l&&(s=(o?l.isValidSourcePos:l.isValidTargetPos)||Cp),l&&(l.connectable===void 0?m.value:l.connectable)===!1)return;let d=Pd(a.target),h=Jf(a,{handle:{nodeId:t(n),id:t(e),type:t(r),position:X.Top,...zf(a)},connectionMode:u.value,fromNodeId:p.value.nodeId,fromHandleId:p.value.id??null,fromType:p.value.type,isValidConnection:s,doc:d,lib:`vue`,flowId:c,nodeLookup:D.value},w.value,T.value,_,D.value),g=h.connection?.source===h.connection?.target;h.isValid&&h.connection&&!g&&S.connect(h.connection),S.clickConnectEnd(a),x(a,!0)}return{handlePointerDown:ee,handleClick:j}}function Tp(){return ot(mp,``)}function Ep(e){let t=e??Tp()??``,n=ot(hp,F(null)),{findNode:r,edges:i,emits:a}=Dm(),o=r(t);return o||a.error(new If(Pf.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:o,parentNode:I(()=>r(o.parentNode)),connectedEdges:I(()=>tf([o],i.value))}}function Dp(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),dragStart:Z(),drag:Z(),dragStop:Z()}}function Op(e,t){let n=Dp();return n.doubleClick.on(n=>{var r,i;t.nodeDoubleClick(n),(i=(r=e.events)?.doubleClick)==null||i.call(r,n)}),n.click.on(n=>{var r,i;t.nodeClick(n),(i=(r=e.events)?.click)==null||i.call(r,n)}),n.mouseEnter.on(n=>{var r,i;t.nodeMouseEnter(n),(i=(r=e.events)?.mouseEnter)==null||i.call(r,n)}),n.mouseMove.on(n=>{var r,i;t.nodeMouseMove(n),(i=(r=e.events)?.mouseMove)==null||i.call(r,n)}),n.mouseLeave.on(n=>{var r,i;t.nodeMouseLeave(n),(i=(r=e.events)?.mouseLeave)==null||i.call(r,n)}),n.contextMenu.on(n=>{var r,i;t.nodeContextMenu(n),(i=(r=e.events)?.contextMenu)==null||i.call(r,n)}),n.dragStart.on(n=>{var r,i;t.nodeDragStart(n),(i=(r=e.events)?.dragStart)==null||i.call(r,n)}),n.drag.on(n=>{var r,i;t.nodeDrag(n),(i=(r=e.events)?.drag)==null||i.call(r,n)}),n.dragStop.on(n=>{var r,i;t.nodeDragStop(n),(i=(r=e.events)?.dragStop)==null||i.call(r,n)}),Object.entries(n).reduce((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e),{emit:{},on:{}})}function kp(){let{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:a,nodesDraggable:o,emits:s}=Dm();return(c,l=!1)=>{let u=a.value?i.value[0]:5,d=a.value?i.value[1]:5,f=l?4:1,p=c.x*u*f,m=c.y*d*f,h=[];for(let n of e.value)if(n.draggable||o&&n.draggable===void 0){let e={x:n.computedPosition.x+p,y:n.computedPosition.y+m},{computedPosition:i}=kf(n,e,s.error,t.value,n.parentNode?r(n.parentNode):void 0);h.push({id:n.id,position:i,from:n.position,distance:{x:c.x,y:c.y},dimensions:n.dimensions})}n(h,!0,!1)}}var Ap=.1,jp=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function Mp(){return tp(`Viewport not initialized yet.`),Promise.resolve(!1)}var Np={zoomIn:Mp,zoomOut:Mp,zoomTo:Mp,fitView:Mp,setCenter:Mp,fitBounds:Mp,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Mp,setTransform:Mp,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Pp(e){function t(t,n){return new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(n?.interpolate===`linear`?Wc:il).scaleBy(Fp(e.d3Selection,n?.duration,n?.ease,()=>{r(!0)}),t):r(!1)})}function n(t,n,r,i){return new Promise(a=>{var o;let{x:s,y:c}=Nd({x:-t,y:-n},e.translateExtent),l=ed.translate(-s,-c).scale(r);e.d3Selection&&e.d3Zoom?(o=e.d3Zoom)==null||o.interpolate(i?.interpolate===`linear`?Wc:il).transform(Fp(e.d3Selection,i?.duration,i?.ease,()=>{a(!0)}),l):a(!1)})}return I(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:e=>t(1.2,e),zoomOut:e=>t(1/1.2,e),zoomTo:(t,n)=>new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(n?.interpolate===`linear`?Wc:il).scaleTo(Fp(e.d3Selection,n?.duration,n?.ease,()=>{r(!0)}),t):r(!1)}),setViewport:(e,t)=>n(e.x,e.y,e.zoom,t),setTransform:(e,t)=>n(e.x,e.y,e.zoom,t),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(t={padding:Ap,includeHiddenNodes:!1,duration:0})=>{let r=[];for(let n of e.nodes)n.dimensions.width&&n.dimensions.height&&(t?.includeHiddenNodes||!n.hidden)&&(!t.nodes?.length||t.nodes?.length&&t.nodes.includes(n.id))&&r.push(n);if(!r.length)return Promise.resolve(!1);let i=$d(r),{x:a,y:o,zoom:s}=sf(i,e.dimensions.width,e.dimensions.height,t.minZoom??e.minZoom,t.maxZoom??e.maxZoom,t.padding??Ap);return n(a,o,s,t)},setCenter:(t,r,i)=>{let a=i?.zoom===void 0?e.maxZoom:i.zoom,o=e.dimensions.width/2-t*a,s=e.dimensions.height/2-r*a;return n(o,s,a,i)},fitBounds:(t,r={padding:Ap})=>{let{x:i,y:a,zoom:o}=sf(t,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,r.padding??Ap);return n(i,a,o,r)},project:t=>Jd(t,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:t=>{if(e.vueFlowRef){let{x:n,y:r}=e.vueFlowRef.getBoundingClientRect(),i={x:t.x-n,y:t.y-r};return Jd(i,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:t=>{if(e.vueFlowRef){let{x:n,y:r}=e.vueFlowRef.getBoundingClientRect(),i={x:t.x+n,y:t.y+r};return qd(i,e.viewport)}return{x:0,y:0}}}:Np)}function Fp(e,t=0,n=jp,r=()=>{}){let i=typeof t==`number`&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on(`end`,r):e}function Ip(e,t,n){let r=_(!0);return r.run(()=>{r.run(()=>{let t,r,i=!!(n.nodes.value.length||n.edges.value.length);t=sa([e.modelValue,()=>e.modelValue?.value?.length],([e])=>{e&&Array.isArray(e)&&(r?.pause(),n.setElements(e),!r&&!i&&e.length?i=!0:r?.resume())}),r=sa([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([n,r])=>{e.modelValue?.value&&Array.isArray(e.modelValue.value)&&(t?.pause(),e.modelValue.value=[...n,...r],P(()=>{t?.resume()}))},{immediate:i}),C(()=>{t?.stop(),r?.stop()})}),r.run(()=>{let t,r,i=!!n.nodes.value.length;t=sa([e.nodes,()=>e.nodes?.value?.length],([e])=>{e&&Array.isArray(e)&&(r?.pause(),n.setNodes(e),!r&&!i&&e.length?i=!0:r?.resume())}),r=sa([n.nodes,()=>n.nodes.value.length],([n])=>{e.nodes?.value&&Array.isArray(e.nodes.value)&&(t?.pause(),e.nodes.value=[...n],P(()=>{t?.resume()}))},{immediate:i}),C(()=>{t?.stop(),r?.stop()})}),r.run(()=>{let t,r,i=!!n.edges.value.length;t=sa([e.edges,()=>e.edges?.value?.length],([e])=>{e&&Array.isArray(e)&&(r?.pause(),n.setEdges(e),!r&&!i&&e.length?i=!0:r?.resume())}),r=sa([n.edges,()=>n.edges.value.length],([n])=>{e.edges?.value&&Array.isArray(e.edges.value)&&(t?.pause(),e.edges.value=[...n],P(()=>{t?.resume()}))},{immediate:i}),C(()=>{t?.stop(),r?.stop()})}),r.run(()=>{T(()=>t.minZoom,()=>{t.minZoom&&ap(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})}),r.run(()=>{T(()=>t.maxZoom,()=>{t.maxZoom&&ap(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})}),r.run(()=>{T(()=>t.translateExtent,()=>{t.translateExtent&&ap(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})}),r.run(()=>{T(()=>t.nodeExtent,()=>{t.nodeExtent&&ap(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})}),r.run(()=>{T(()=>t.applyDefault,()=>{ap(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})}),r.run(()=>{let e=async e=>{let r=e;typeof t.autoConnect==`function`&&(r=await t.autoConnect(e)),r!==!1&&n.addEdges([r])};T(()=>t.autoConnect,()=>{ap(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),T(n.autoConnect,(t,r,i)=>{t?n.onConnect(e):n.hooks.value.connect.off(e),i(()=>{n.hooks.value.connect.off(e)})},{immediate:!0})}),(()=>{let e=[`id`,`modelValue`,`translateExtent`,`nodeExtent`,`edges`,`nodes`,`maxZoom`,`minZoom`,`applyDefault`,`autoConnect`];for(let i of Object.keys(t)){let a=i;if(!e.includes(a)){let e=_e(()=>t[a]),i=n[a];fe(i)&&r.run(()=>{T(e,e=>{ap(e)&&(i.value=e)},{immediate:!0})})}}})()}),()=>r.stop()}function Lp(){return{edgesChange:Z(),nodesChange:Z(),nodeDoubleClick:Z(),nodeClick:Z(),nodeMouseEnter:Z(),nodeMouseMove:Z(),nodeMouseLeave:Z(),nodeContextMenu:Z(),nodeDragStart:Z(),nodeDrag:Z(),nodeDragStop:Z(),nodesInitialized:Z(),miniMapNodeClick:Z(),miniMapNodeDoubleClick:Z(),miniMapNodeMouseEnter:Z(),miniMapNodeMouseMove:Z(),miniMapNodeMouseLeave:Z(),connect:Z(),connectStart:Z(),connectEnd:Z(),clickConnectStart:Z(),clickConnectEnd:Z(),paneReady:Z(),init:Z(),move:Z(),moveStart:Z(),moveEnd:Z(),selectionDragStart:Z(),selectionDrag:Z(),selectionDragStop:Z(),selectionContextMenu:Z(),selectionStart:Z(),selectionEnd:Z(),viewportChangeStart:Z(),viewportChange:Z(),viewportChangeEnd:Z(),paneScroll:Z(),paneClick:Z(),paneContextMenu:Z(),paneMouseEnter:Z(),paneMouseMove:Z(),paneMouseLeave:Z(),edgeContextMenu:Z(),edgeMouseEnter:Z(),edgeMouseMove:Z(),edgeMouseLeave:Z(),edgeDoubleClick:Z(),edgeClick:Z(),edgeUpdateStart:Z(),edgeUpdate:Z(),edgeUpdateEnd:Z(),updateNodeInternals:Z(),error:Z(e=>tp(e.message))}}function Rp(e,t){let n=Ae();s(()=>{for(let[n,i]of Object.entries(t.value))i.setEmitter(t=>{e(n,t)}),Yi(i.removeEmitter),i.setHasEmitListeners(()=>r(n)),Yi(i.removeHasEmitListeners)});function r(e){let t=zp(e);return!!n?.vnode.props?.[t]}}function zp(e){let[t,...n]=e.split(`:`);return`on${t.replace(/(?:^|-)(\w)/g,(e,t)=>t.toUpperCase())}${n.length?`:${n.join(`:`)}`:``}`}function Bp(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[-1/0,-1/0],[1/0,1/0]],nodeExtent:[[-1/0,-1/0],[1/0,1/0]],selectionMode:ud.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:md.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:`#b1b1b7`,connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:dd.Bezier,style:{}},connectionMode:fd.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:`Shift`,multiSelectionKeyCode:Bf()?`Meta`:`Control`,zoomActivationKeyCode:Bf()?`Meta`:`Control`,deleteKeyCode:`Backspace`,panActivationKeyCode:`Space`,hooks:Lp(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:`nodrag`,noWheelClassName:`nowheel`,noPanClassName:`nopan`,defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:``}}var Vp=[`id`,`vueFlowRef`,`viewportRef`,`initialized`,`modelValue`,`nodes`,`edges`,`maxZoom`,`minZoom`,`translateExtent`,`hooks`,`defaultEdgeOptions`];function Hp(e,t,n){let r=Pp(e),i=t=>{let n=t??[];e.hooks.updateNodeInternals.trigger(n)},a=t=>Wd(t,e.nodes,e.edges),o=t=>Ud(t,e.nodes,e.edges),s=t=>tf(t,e.edges),c=({id:t,type:n,nodeId:r})=>{let i=t?`-${n}-${t}`:`-${n}`;return Array.from(e.connectionLookup.get(`${r}${i}`)?.values()??[])},l=e=>{if(e)return t.value.get(e)},u=e=>{if(e)return n.value.get(e)},d=(t,n,r)=>{let i=[];for(let e of t){let t={id:e.id,type:`position`,dragging:r,from:e.from};if(n&&(t.position=e.position,e.parentNode)){let n=l(e.parentNode);t.position={x:t.position.x-(n?.computedPosition?.x??0),y:t.position.y-(n?.computedPosition?.y??0)}}i.push(t)}i?.length&&e.hooks.nodesChange.trigger(i)},f=t=>{if(!e.vueFlowRef)return;let n=e.vueFlowRef.querySelector(`.vue-flow__transformationpane`);if(!n)return;let i=window.getComputedStyle(n),{m22:a}=new window.DOMMatrixReadOnly(i.transform),o=[];for(let e of t){let t=e,n=l(t.id);if(n){let e=jd(t.nodeElement);if(e.width&&e.height&&(n.dimensions.width!==e.width||n.dimensions.height!==e.height||t.forceUpdate)){let r=t.nodeElement.getBoundingClientRect();n.dimensions=e,n.handleBounds.source=rp(`source`,t.nodeElement,r,a,n.id),n.handleBounds.target=rp(`target`,t.nodeElement,r,a,n.id),o.push({id:n.id,type:`dimensions`,dimensions:e})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),o.length&&e.hooks.nodesChange.trigger(o)},p=(r,i)=>{let a=new Set,o=new Set;for(let e of r)Id(e)?a.add(e.id):Fd(e)&&o.add(e.id);let s=bf(t.value,a,!0),c=bf(n.value,o);if(e.multiSelectionActive){for(let e of a)s.push(gf(e,i));for(let e of o)c.push(gf(e,i))}s.length&&e.hooks.nodesChange.trigger(s),c.length&&e.hooks.edgesChange.trigger(c)},m=r=>{if(e.multiSelectionActive){let t=r.map(e=>gf(e.id,!0));e.hooks.nodesChange.trigger(t);return}e.hooks.nodesChange.trigger(bf(t.value,new Set(r.map(e=>e.id)),!0)),e.hooks.edgesChange.trigger(bf(n.value))},h=r=>{if(e.multiSelectionActive){let t=r.map(e=>gf(e.id,!0));e.hooks.edgesChange.trigger(t);return}e.hooks.edgesChange.trigger(bf(n.value,new Set(r.map(e=>e.id)))),e.hooks.nodesChange.trigger(bf(t.value,new Set,!0))},g=e=>{p(e,!0)},_=t=>{let n=(t||e.nodes).map(e=>(e.selected=!1,gf(e.id,!1)));e.hooks.nodesChange.trigger(n)},v=t=>{let n=(t||e.edges).map(e=>(e.selected=!1,gf(e.id,!1)));e.hooks.edgesChange.trigger(n)},y=t=>{if(!t||!t.length)return p([],!1);let n=t.reduce((e,t)=>{let n=gf(t.id,!1);return Id(t)?e.nodes.push(n):e.edges.push(n),e},{nodes:[],edges:[]});n.nodes.length&&e.hooks.nodesChange.trigger(n.nodes),n.edges.length&&e.hooks.edgesChange.trigger(n.edges)},b=t=>{var n;(n=e.d3Zoom)==null||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},x=t=>{var n;(n=e.d3Zoom)==null||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},S=t=>{var n;(n=e.d3Zoom)==null||n.translateExtent(t),e.translateExtent=t},C=t=>{e.nodeExtent=t,i()},w=t=>{var n;(n=e.d3Zoom)==null||n.clickDistance(t)},T=t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},E=t=>{let n=t instanceof Function?t(e.nodes):t;!e.initialized&&!n.length||(e.nodes=cp(n,l,e.hooks.error.trigger))},D=t=>{let r=t instanceof Function?t(e.edges):t;if(!e.initialized&&!r.length)return;let i=fp(r,e.isValidConnection,l,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);up(e.connectionLookup,n.value,i),e.edges=i},O=t=>{let n=t instanceof Function?t([...e.nodes,...e.edges]):t;!e.initialized&&!n.length||(E(n.filter(Id)),D(n.filter(Fd)))},k=t=>{let n=t instanceof Function?t(e.nodes):t;n=Array.isArray(n)?n:[n];let r=cp(n,l,e.hooks.error.trigger),i=[];for(let e of r)i.push(_f(e));i.length&&e.hooks.nodesChange.trigger(i)},A=t=>{let n=t instanceof Function?t(e.edges):t;n=Array.isArray(n)?n:[n];let r=fp(n,e.isValidConnection,l,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),i=[];for(let e of r)i.push(_f(e));i.length&&e.hooks.edgesChange.trigger(i)},ee=(t,n=!0,r=!1)=>{let i=t instanceof Function?t(e.nodes):t,a=Array.isArray(i)?i:[i],o=[],c=[];function u(e){let t=s(e);for(let e of t)(!ap(e.deletable)||e.deletable)&&c.push(yf(e.id,e.source,e.target,e.sourceHandle,e.targetHandle))}function d(t){let r=[];for(let n of e.nodes)n.parentNode===t&&r.push(n);if(r.length){for(let e of r)o.push(vf(e.id));n&&u(r);for(let e of r)d(e.id)}}for(let e of a){let t=typeof e==`string`?l(e):e;t&&(ap(t.deletable)&&!t.deletable||(o.push(vf(t.id)),n&&u([t]),r&&d(t.id)))}c.length&&e.hooks.edgesChange.trigger(c),o.length&&e.hooks.nodesChange.trigger(o)},j=t=>{let n=t instanceof Function?t(e.edges):t,r=Array.isArray(n)?n:[n],i=[];for(let e of r){let t=typeof e==`string`?u(e):e;t&&(ap(t.deletable)&&!t.deletable||i.push(yf(typeof e==`string`?e:e.id,t.source,t.target,t.sourceHandle,t.targetHandle)))}e.hooks.edgesChange.trigger(i)},M=(t,r,i=!0)=>{let a=u(t.id);if(!a)return!1;let o=e.edges.indexOf(a),s=sp(t,r,a,i,e.hooks.error.trigger);if(s){let[t]=fp([s],e.isValidConnection,l,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((e,n)=>n===o?t:e),up(e.connectionLookup,n.value,[t]),t}return!1},N=(e,t,n={replace:!1})=>{let r=u(e);if(!r)return;let i=typeof t==`function`?t(r):t;r.data=n.replace?i:{...r.data,...i}},te=t=>hf(t,e.nodes),ne=t=>{let r=hf(t,e.edges);return up(e.connectionLookup,n.value,r),r},re=(t,n,r={replace:!1})=>{let i=l(t);if(!i)return;let a=typeof n==`function`?n(i):n;r.replace?e.nodes.splice(e.nodes.indexOf(i),1,a):Object.assign(i,a)},ie=(e,t,n={replace:!1})=>{let r=l(e);if(!r)return;let i=typeof t==`function`?t(r):t;r.data=n.replace?i:{...r.data,...i}},P=(t,n,r=!1)=>{r?e.connectionClickStartHandle=t:e.connectionStartHandle=t,e.connectionEndHandle=null,e.connectionStatus=null,n&&(e.connectionPosition=n)},ae=(t,n=null,r=null)=>{e.connectionStartHandle&&(e.connectionPosition=t,e.connectionEndHandle=n,e.connectionStatus=r)},oe=(t,n)=>{e.connectionPosition={x:NaN,y:NaN},e.connectionEndHandle=null,e.connectionStatus=null,n?e.connectionClickStartHandle=null:e.connectionStartHandle=null},se=e=>{let t=zd(e),n=t?null:Ld(e)?e:l(e.id);return!t&&!n?[null,null,t]:[t?e:kd(n),n,t]},ce=(t,n=!0,r=e.nodes)=>{let[i,a,o]=se(t);if(!i)return[];let s=[];for(let t of r||e.nodes){if(!o&&(t.id===a.id||!t.computedPosition))continue;let e=kd(t),r=Ad(e,i);(n&&r>0||r>=e.width*e.height||r>=Number(i.width)*Number(i.height))&&s.push(t)}return s},le=(e,t,n=!0)=>{let[r]=se(e);if(!r)return!1;let i=Ad(r,t);return n&&i>0||i>=Number(r.width)*Number(r.height)},ue=t=>{let{viewport:n,dimensions:r,d3Zoom:i,d3Selection:a,translateExtent:o}=e;if(!i||!a||!t.x&&!t.y)return!1;let s=ed.translate(n.x+t.x,n.y+t.y).scale(n.zoom),c=[[0,0],[r.width,r.height]],l=i.constrain()(s,c,o),u=e.viewport.x!==l.x||e.viewport.y!==l.y||e.viewport.zoom!==l.k;return i.transform(a,l),u},de=t=>{let n=t instanceof Function?t(e):t,r=[`d3Zoom`,`d3Selection`,`d3ZoomHandler`,`viewportRef`,`vueFlowRef`,`dimensions`,`hooks`];ap(n.defaultEdgeOptions)&&(e.defaultEdgeOptions=n.defaultEdgeOptions);let i=n.modelValue||n.nodes||n.edges?[]:void 0;i&&(n.modelValue&&i.push(...n.modelValue),n.nodes&&i.push(...n.nodes),n.edges&&i.push(...n.edges),O(i));let a=()=>{ap(n.maxZoom)&&x(n.maxZoom),ap(n.minZoom)&&b(n.minZoom),ap(n.translateExtent)&&S(n.translateExtent)};for(let t of Object.keys(n)){let i=t,a=n[i];![...Vp,...r].includes(i)&&ap(a)&&(e[i]=a)}ua(()=>e.d3Zoom).not.toBeNull().then(a),e.initialized||=!0};return{updateNodePositions:d,updateNodeDimensions:f,setElements:O,setNodes:E,setEdges:D,addNodes:k,addEdges:A,removeNodes:ee,removeEdges:j,findNode:l,findEdge:u,updateEdge:M,updateEdgeData:N,updateNode:re,updateNodeData:ie,applyEdgeChanges:ne,applyNodeChanges:te,addSelectedElements:g,addSelectedNodes:m,addSelectedEdges:h,setMinZoom:b,setMaxZoom:x,setTranslateExtent:S,setNodeExtent:C,setPaneClickDistance:w,removeSelectedElements:y,removeSelectedNodes:_,removeSelectedEdges:v,startConnection:P,updateConnection:ae,endConnection:oe,setInteractive:T,setState:de,getIntersectingNodes:ce,getIncomers:a,getOutgoers:o,getConnectedEdges:s,getHandleConnections:c,isNodeIntersecting:le,panBy:ue,fitView:e=>r.value.fitView(e),zoomIn:e=>r.value.zoomIn(e),zoomOut:e=>r.value.zoomOut(e),zoomTo:(e,t)=>r.value.zoomTo(e,t),setViewport:(e,t)=>r.value.setViewport(e,t),setTransform:(e,t)=>r.value.setTransform(e,t),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(e,t,n)=>r.value.setCenter(e,t,n),fitBounds:(e,t)=>r.value.fitBounds(e,t),project:e=>r.value.project(e),screenToFlowCoordinate:e=>r.value.screenToFlowCoordinate(e),flowToScreenCoordinate:e=>r.value.flowToScreenCoordinate(e),toObject:()=>{let t=[],n=[];for(let n of e.nodes){let{computedPosition:e,handleBounds:r,selected:i,dimensions:a,isParent:o,resizing:s,dragging:c,events:l,...u}=n;t.push(u)}for(let t of e.edges){let{selected:e,sourceNode:r,targetNode:i,events:a,...o}=t;n.push(o)}return JSON.parse(JSON.stringify({nodes:t,edges:n,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:t=>new Promise(n=>{let{nodes:i,edges:a,position:o,zoom:s,viewport:c}=t;if(i&&E(i),a&&D(a),c?.x&&c?.y||o){let t=c?.x||o[0],i=c?.y||o[1],a=c?.zoom||s||e.viewport.zoom;return ua(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:t,y:i,zoom:a}).then(()=>{n(!0)})})}else n(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{let t=Bp();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){let n=ed.translate(t.defaultViewport.x??0,t.defaultViewport.y??0).scale(Md(t.defaultViewport.zoom??1,t.minZoom,t.maxZoom)),r=e.viewportRef.getBoundingClientRect(),i=[[0,0],[r.width,r.height]],a=e.d3Zoom.constrain()(n,i,t.translateExtent);e.d3Zoom.transform(e.d3Selection,a)}de(t)},$destroy:()=>{}}}var Up=[`data-id`,`data-handleid`,`data-nodeid`,`data-handlepos`],Wp=z({name:`Handle`,compatConfig:{MODE:3},props:{id:{default:null},type:{},position:{default:()=>X.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){let n=$e(e,[`position`,`connectable`,`connectableStart`,`connectableEnd`,`id`]),i=_e(()=>n.type??`source`),a=_e(()=>n.isValidConnection??null),{id:o,connectionStartHandle:s,connectionClickStartHandle:c,connectionEndHandle:u,vueFlowRef:d,nodesConnectable:f,noDragClassName:p,noPanClassName:m}=Dm(),{id:h,node:g,nodeEl:_,connectedEdges:v}=Ep(),y=F(),b=_e(()=>e.connectableStart===void 0?!0:e.connectableStart),x=_e(()=>e.connectableEnd===void 0?!0:e.connectableEnd),S=_e(()=>s.value?.nodeId===h&&s.value?.id===e.id&&s.value?.type===i.value||u.value?.nodeId===h&&u.value?.id===e.id&&u.value?.type===i.value),C=_e(()=>c.value?.nodeId===h&&c.value?.id===e.id&&c.value?.type===i.value),{handlePointerDown:w,handleClick:T}=wp({nodeId:h,handleId:e.id,isValidConnection:a,type:i}),E=I(()=>typeof e.connectable==`string`&&e.connectable===`single`?!v.value.some(t=>{let n=t[`${i.value}Handle`];return t[i.value]===h?n?n===e.id:!0:!1}):typeof e.connectable==`number`?v.value.filter(t=>{let n=t[`${i.value}Handle`];return t[i.value]===h?n?n===e.id:!0:!1}).length<e.connectable:typeof e.connectable==`function`?e.connectable(g,v.value):ap(e.connectable)?e.connectable:f.value);oe(()=>{if(!g.dimensions.width||!g.dimensions.height)return;let t=g.handleBounds[i.value]?.find(t=>t.id===e.id);if(!d.value||t)return;let n=d.value.querySelector(`.vue-flow__transformationpane`);if(!_.value||!y.value||!n||!e.id)return;let r=_.value.getBoundingClientRect(),a=y.value.getBoundingClientRect(),o=window.getComputedStyle(n),{m22:s}=new window.DOMMatrixReadOnly(o.transform),c={id:e.id,position:e.position,x:(a.left-r.left)/s,y:(a.top-r.top)/s,type:i.value,nodeId:h,...jd(y.value)};g.handleBounds[i.value]=[...g.handleBounds[i.value]??[],c]});function D(e){let t=Lf(e);E.value&&b.value&&(t&&e.button===0||!t)&&w(e)}function O(e){!h||!c.value&&!b.value||E.value&&T(e)}return t({handleClick:T,handlePointerDown:w,onClick:O,onPointerDown:D}),(t,n)=>(l(),V(`div`,{ref_key:`handle`,ref:y,"data-id":`${R(o)}-${R(h)}-${e.id}-${i.value}`,"data-handleid":e.id,"data-nodeid":R(h),"data-handlepos":t.position,class:q([`vue-flow__handle`,[`vue-flow__handle-${t.position}`,`vue-flow__handle-${e.id}`,R(p),R(m),i.value,{connectable:E.value,connecting:C.value,connectablestart:b.value,connectableend:x.value,connectionindicator:E.value&&(b.value&&!S.value||x.value&&S.value)}]]),onMousedown:D,onTouchstartPassive:D,onClick:O},[r(t.$slots,`default`,{id:t.id})],42,Up))}}),Gp=function({sourcePosition:e=X.Bottom,targetPosition:t=X.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:a,data:o}){let s=o.label??n;return[tt(Wp,{type:`target`,position:t,connectable:r,isValidConnection:i}),typeof s!=`string`&&s?tt(s):tt(G,[s]),tt(Wp,{type:`source`,position:e,connectable:r,isValidConnection:a})]};Gp.props=[`sourcePosition`,`targetPosition`,`label`,`isValidTargetPos`,`isValidSourcePos`,`connectable`,`data`],Gp.inheritAttrs=!1,Gp.compatConfig={MODE:3};var Kp=Gp,qp=function({targetPosition:e=X.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){let a=i.label??t;return[tt(Wp,{type:`target`,position:e,connectable:n,isValidConnection:r}),typeof a!=`string`&&a?tt(a):tt(G,[a])]};qp.props=[`targetPosition`,`label`,`isValidTargetPos`,`connectable`,`data`],qp.inheritAttrs=!1,qp.compatConfig={MODE:3};var Jp=qp,Yp=function({sourcePosition:e=X.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){let a=i.label??t;return[typeof a!=`string`&&a?tt(a):tt(G,[a]),tt(Wp,{type:`source`,position:e,connectable:n,isValidConnection:r})]};Yp.props=[`sourcePosition`,`label`,`isValidSourcePos`,`connectable`,`data`],Yp.inheritAttrs=!1,Yp.compatConfig={MODE:3};var Xp=Yp,Zp=[`transform`],Qp=[`width`,`height`,`x`,`y`,`rx`,`ry`],$p=[`y`],em=z({name:`EdgeText`,compatConfig:{MODE:3},props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){let t=F({x:0,y:0,width:0,height:0}),n=F(null),i=I(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);oe(a),T([()=>e.x,()=>e.y,n,()=>e.label],a);function a(){if(!n.value)return;let e=n.value.getBBox();(e.width!==t.value.width||e.height!==t.value.height)&&(t.value=e)}return(e,a)=>(l(),V(`g`,{transform:i.value,class:`vue-flow__edge-textwrapper`},[e.labelShowBg?(l(),V(`rect`,{key:0,class:`vue-flow__edge-textbg`,width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:Je(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Qp)):L(``,!0),U(`text`,J(e.$attrs,{ref_key:`el`,ref:n,class:`vue-flow__edge-text`,y:t.value.height/2,dy:`0.3em`,style:e.labelStyle}),[r(e.$slots,`default`,{},()=>[typeof e.label==`string`?(l(),V(G,{key:1},[Ge(B(e.label),1)],64)):(l(),K(k(e.label),{key:0}))])],16,$p)],8,Zp))}}),tm=[`id`,`d`,`marker-end`,`marker-start`],nm=[`d`,`stroke-width`],rm=z({name:`BaseEdge`,inheritAttrs:!1,compatConfig:{MODE:3},props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){let n=F(null),r=F(null),i=F(null),a=M();return t({pathEl:n,interactionEl:r,labelEl:i}),(e,t)=>(l(),V(G,null,[U(`path`,J(R(a),{id:e.id,ref_key:`pathEl`,ref:n,d:e.path,class:`vue-flow__edge-path`,"marker-end":e.markerEnd,"marker-start":e.markerStart}),null,16,tm),e.interactionWidth?(l(),V(`path`,{key:0,ref_key:`interactionEl`,ref:r,fill:`none`,d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:`vue-flow__edge-interaction`},null,8,nm)):L(``,!0),e.label&&e.labelX&&e.labelY?(l(),K(em,{key:1,ref_key:`labelEl`,ref:i,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,[`x`,`y`,`label`,`label-show-bg`,`label-bg-style`,`label-bg-padding`,`label-bg-border-radius`,`label-style`])):L(``,!0)],64))}});function im({sourceX:e,sourceY:t,targetX:n,targetY:r}){let i=Math.abs(n-e)/2,a=n<e?n+i:n-i,o=Math.abs(r-t)/2,s=r<t?r+o:r-o;return[a,s,i,o]}function am({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:s}){let c=e*.125+i*.375+o*.375+n*.125,l=t*.125+a*.375+s*.375+r*.125,u=Math.abs(c-e),d=Math.abs(l-t);return[c,l,u,d]}function om(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function sm({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){let o,s;switch(e){case X.Left:o=t-om(t-r,a),s=n;break;case X.Right:o=t+om(r-t,a),s=n;break;case X.Top:o=t,s=n-om(n-i,a);break;case X.Bottom:o=t,s=n+om(i-n,a);break}return[o,s]}function cm(e){let{sourceX:t,sourceY:n,sourcePosition:r=X.Bottom,targetX:i,targetY:a,targetPosition:o=X.Top,curvature:s=.25}=e,[c,l]=sm({pos:r,x1:t,y1:n,x2:i,y2:a,c:s}),[u,d]=sm({pos:o,x1:i,y1:a,x2:t,y2:n,c:s}),[f,p,m,h]=am({sourceX:t,sourceY:n,targetX:i,targetY:a,sourceControlX:c,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${n} C${c},${l} ${u},${d} ${i},${a}`,f,p,m,h]}function lm({pos:e,x1:t,y1:n,x2:r,y2:i}){let a,o;switch(e){case X.Left:case X.Right:a=.5*(t+r),o=n;break;case X.Top:case X.Bottom:a=t,o=.5*(n+i);break}return[a,o]}function um(e){let{sourceX:t,sourceY:n,sourcePosition:r=X.Bottom,targetX:i,targetY:a,targetPosition:o=X.Top}=e,[s,c]=lm({pos:r,x1:t,y1:n,x2:i,y2:a}),[l,u]=lm({pos:o,x1:i,y1:a,x2:t,y2:n}),[d,f,p,m]=am({sourceX:t,sourceY:n,targetX:i,targetY:a,sourceControlX:s,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${t},${n} C${s},${c} ${l},${u} ${i},${a}`,d,f,p,m]}var dm={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}};function fm({source:e,sourcePosition:t=X.Bottom,target:n}){return t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function pm(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function mm({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:a}){let o=dm[t],s=dm[r],c={x:e.x+o.x*a,y:e.y+o.y*a},l={x:n.x+s.x*a,y:n.y+s.y*a},u=fm({source:c,sourcePosition:t,target:l}),d=u.x===0?`y`:`x`,f=u[d],p,m,h,g={x:0,y:0},_={x:0,y:0},[v,y,b,x]=im({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){m=i.x??v,h=i.y??y;let e=[{x:m,y:c.y},{x:m,y:l.y}],t=[{x:c.x,y:h},{x:l.x,y:h}];p=o[d]===f?d===`x`?e:t:d===`x`?t:e}else{let i=[{x:c.x,y:l.y}],u=[{x:l.x,y:c.y}];if(p=d===`x`?o.x===f?u:i:o.y===f?i:u,t===r){let t=Math.abs(e[d]-n[d]);if(t<=a){let r=Math.min(a-1,a-t);o[d]===f?g[d]=(c[d]>e[d]?-1:1)*r:_[d]=(l[d]>n[d]?-1:1)*r}}if(t!==r){let e=d===`x`?`y`:`x`,t=o[d]===s[e],n=c[e]>l[e],r=c[e]<l[e];(o[d]===1&&(!t&&n||t&&r)||o[d]!==1&&(!t&&r||t&&n))&&(p=d===`x`?i:u)}let v={x:c.x+g.x,y:c.y+g.y},y={x:l.x+_.x,y:l.y+_.y},b=Math.max(Math.abs(v.x-p[0].x),Math.abs(y.x-p[0].x)),x=Math.max(Math.abs(v.y-p[0].y),Math.abs(y.y-p[0].y));b>=x?(m=(v.x+y.x)/2,h=p[0].y):(m=p[0].x,h=(v.y+y.y)/2)}return[[e,{x:c.x+g.x,y:c.y+g.y},...p,{x:l.x+_.x,y:l.y+_.y},n],m,h,b,x]}function hm(e,t,n,r){let i=Math.min(pm(e,t)/2,pm(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${a+i*t},${o}Q ${a},${o} ${a},${o+i*r}`}let s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${o+i*c}Q ${a},${o} ${a+i*s},${o}`}function gm(e){let{sourceX:t,sourceY:n,sourcePosition:r=X.Bottom,targetX:i,targetY:a,targetPosition:o=X.Top,borderRadius:s=5,centerX:c,centerY:l,offset:u=20}=e,[d,f,p,m,h]=mm({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:a},targetPosition:o,center:{x:c,y:l},offset:u});return[d.reduce((e,t,n)=>{let r;return r=n>0&&n<d.length-1?hm(d[n-1],t,d[n+1],s):`${n===0?`M`:`L`}${t.x} ${t.y}`,e+=r,e},``),f,p,m,h]}function _m(e){let{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[a,o,s,c]=im({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,a,o,s,c]}var vm=z({name:`StraightEdge`,props:[`label`,`labelStyle`,`labelShowBg`,`labelBgStyle`,`labelBgPadding`,`labelBgBorderRadius`,`sourceY`,`sourceX`,`targetX`,`targetY`,`markerEnd`,`markerStart`,`interactionWidth`],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{let[n,r,i]=_m(e);return tt(rm,{path:n,labelX:r,labelY:i,...t,...e})}}}),ym=z({name:`SmoothStepEdge`,props:[`sourcePosition`,`targetPosition`,`label`,`labelStyle`,`labelShowBg`,`labelBgStyle`,`labelBgPadding`,`labelBgBorderRadius`,`sourceY`,`sourceX`,`targetX`,`targetY`,`borderRadius`,`markerEnd`,`markerStart`,`interactionWidth`,`offset`],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{let[n,r,i]=gm({...e,sourcePosition:e.sourcePosition??X.Bottom,targetPosition:e.targetPosition??X.Top});return tt(rm,{path:n,labelX:r,labelY:i,...t,...e})}}}),bm=z({name:`StepEdge`,props:[`sourcePosition`,`targetPosition`,`label`,`labelStyle`,`labelShowBg`,`labelBgStyle`,`labelBgPadding`,`labelBgBorderRadius`,`sourceY`,`sourceX`,`targetX`,`targetY`,`markerEnd`,`markerStart`,`interactionWidth`],setup(e,{attrs:t}){return()=>tt(ym,{...e,...t,borderRadius:0})}}),xm=z({name:`BezierEdge`,props:[`sourcePosition`,`targetPosition`,`label`,`labelStyle`,`labelShowBg`,`labelBgStyle`,`labelBgPadding`,`labelBgBorderRadius`,`sourceY`,`sourceX`,`targetX`,`targetY`,`curvature`,`markerEnd`,`markerStart`,`interactionWidth`],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{let[n,r,i]=cm({...e,sourcePosition:e.sourcePosition??X.Bottom,targetPosition:e.targetPosition??X.Top});return tt(rm,{path:n,labelX:r,labelY:i,...t,...e})}}}),Sm=z({name:`SimpleBezierEdge`,props:[`sourcePosition`,`targetPosition`,`label`,`labelStyle`,`labelShowBg`,`labelBgStyle`,`labelBgPadding`,`labelBgBorderRadius`,`sourceY`,`sourceX`,`targetX`,`targetY`,`markerEnd`,`markerStart`,`interactionWidth`],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{let[n,r,i]=um({...e,sourcePosition:e.sourcePosition??X.Bottom,targetPosition:e.targetPosition??X.Top});return tt(rm,{path:n,labelX:r,labelY:i,...t,...e})}}}),Cm={input:Xp,default:Kp,output:Jp},wm={default:xm,straight:vm,step:bm,smoothstep:ym,simplebezier:Sm};function Tm(e,t,n){let r=I(()=>e=>t.value.get(e)),i=I(()=>e=>n.value.get(e)),a=I(()=>{let t={...wm,...e.edgeTypes},n=Object.keys(t);for(let r of e.edges)r.type&&!n.includes(r.type)&&(t[r.type]=r.type);return t}),o=I(()=>{let t={...Cm,...e.nodeTypes},n=Object.keys(t);for(let r of e.nodes)r.type&&!n.includes(r.type)&&(t[r.type]=r.type);return t}),s=I(()=>e.onlyRenderVisibleElements?ef(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),c=I(()=>{if(e.onlyRenderVisibleElements){let n=[];for(let r of e.edges){let i=t.value.get(r.source),a=t.value.get(r.target);Mf({sourcePos:i.computedPosition||{x:0,y:0},targetPos:a.computedPosition||{x:0,y:0},sourceWidth:i.dimensions.width,sourceHeight:i.dimensions.height,targetWidth:a.dimensions.width,targetHeight:a.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&n.push(r)}return n}return e.edges}),l=I(()=>[...s.value,...c.value]),u=I(()=>{let t=[];for(let n of e.nodes)n.selected&&t.push(n);return t}),d=I(()=>{let t=[];for(let n of e.edges)n.selected&&t.push(n);return t}),f=I(()=>[...u.value,...d.value]),p=I(()=>{let t=[];for(let n of e.nodes)n.dimensions.width&&n.dimensions.height&&n.handleBounds!==void 0&&t.push(n);return t}),m=I(()=>s.value.length>0&&p.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:l,getEdgeTypes:a,getNodeTypes:o,getEdges:c,getNodes:s,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:p,areNodesInitialized:m}}var Em=class e{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){let t=Ae()?.appContext.app;return e.instance=t?.config.globalProperties.$vueFlowStorage??e.instance??new e,t&&(t.config.globalProperties.$vueFlowStorage=e.instance),e.instance}set(e,t){return this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,t){let n=Bp(),r=qe(n),i={};for(let[e,t]of Object.entries(r.hooks)){let n=`on${e.charAt(0).toUpperCase()+e.slice(1)}`;i[n]=t.on}let a={};for(let[e,t]of Object.entries(r.hooks))a[e]=t.trigger;let o=I(()=>{let e=new Map;for(let t of r.nodes)e.set(t.id,t);return e}),s=I(()=>{let e=new Map;for(let t of r.edges)e.set(t.id,t);return e}),c=Tm(r,o,s),l=Hp(r,o,s);l.setState({...r,...t});let u={...i,...c,...l,...ca(r),nodeLookup:o,edgeLookup:s,emits:a,id:e,vueFlowVersion:`1.47.0`,$destroy:()=>{this.remove(e)}};return this.set(e,u),u}getId(){return`vue-flow-${this.currentId++}`}};function Dm(e){let t=Em.getInstance(),n=ce(),r=typeof e==`object`,i=r?e:{id:e},a=i.id,o=a??n?.vueFlowId,s;if(n){let e=ot(pp,null);e!=null&&(!o||e.id===o)&&(s=e)}if(s||o&&(s=t.get(o)),!s||o&&s.id!==o){let e=a??t.getId(),r=t.create(e,i);s=r,(n??_(!0)).run(()=>{T(r.applyDefault,(e,t,n)=>{let i=e=>{r.applyNodeChanges(e)},a=e=>{r.applyEdgeChanges(e)};e?(r.onNodesChange(i),r.onEdgesChange(a)):(r.hooks.value.nodesChange.off(i),r.hooks.value.edgesChange.off(a)),n(()=>{r.hooks.value.nodesChange.off(i),r.hooks.value.edgesChange.off(a)})},{immediate:!0}),Yi(()=>{if(s){let e=t.get(s.id);e?e.$destroy():tp(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);return n&&(ee(pp,s),n.vueFlowId=s.id),r&&Ae()?.type.name!==`VueFlow`&&s.emits.error(new If(Pf.USEVUEFLOW_OPTIONS)),s}function Om(e){let{emits:t,dimensions:n}=Dm(),r;oe(()=>{let i=()=>{var r;if(!e.value||!((r=e.value).checkVisibility?.call(r)??!0))return;let i=jd(e.value);(i.width===0||i.height===0)&&t.error(new If(Pf.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:i.width||500,height:i.height||500}};i(),window.addEventListener(`resize`,i),e.value&&(r=new ResizeObserver(()=>i()),r.observe(e.value)),rt(()=>{window.removeEventListener(`resize`,i),r&&e.value&&r.unobserve(e.value)})})}var km=z({name:`UserSelection`,compatConfig:{MODE:3},props:{userSelectionRect:{}},setup(e){return(e,t)=>(l(),V(`div`,{class:`vue-flow__selection vue-flow__container`,style:Je({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),Am=[`tabIndex`],jm=z({name:`NodesSelection`,compatConfig:{MODE:3},setup(e){let{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:a,userSelectionActive:o}=Dm(),s=kp(),c=F(null),u=yp({el:c,onStart(e){t.selectionDragStart(e),t.nodeDragStart(e)},onDrag(e){t.selectionDrag(e),t.nodeDrag(e)},onStop(e){t.selectionDragStop(e),t.nodeDragStop(e)}});oe(()=>{var e;a.value||(e=c.value)==null||e.focus({preventScroll:!0})});let d=I(()=>$d(r.value)),f=I(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function p(e){t.selectionContextMenu({event:e,nodes:r.value})}function m(e){a||Od[e.key]&&(e.preventDefault(),s({x:Od[e.key].x,y:Od[e.key].y},e.shiftKey))}return(e,t)=>!R(o)&&d.value.width&&d.value.height?(l(),V(`div`,{key:0,class:q([`vue-flow__nodesselection vue-flow__container`,R(i)]),style:Je({transform:`translate(${R(n).x}px,${R(n).y}px) scale(${R(n).zoom})`})},[U(`div`,{ref_key:`el`,ref:c,class:q([{dragging:R(u)},`vue-flow__nodesselection-rect`]),style:Je(f.value),tabIndex:R(a)?void 0:-1,onContextmenu:p,onKeydown:m},null,46,Am)],6)):L(``,!0)}});function Mm(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var Nm=z({name:`Pane`,compatConfig:{MODE:3},props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){let{vueFlowRef:t,nodes:n,viewport:i,emits:a,userSelectionActive:o,removeSelectedElements:s,userSelectionRect:c,elementsSelectable:u,nodesSelectionActive:d,getSelectedEdges:f,getSelectedNodes:p,removeNodes:m,removeEdges:h,selectionMode:g,deleteKeyCode:_,multiSelectionKeyCode:v,multiSelectionActive:y,edgeLookup:b,nodeLookup:x,connectionLookup:S,defaultEdgeOptions:C,connectionStartHandle:w}=Dm(),E=F(null),D=F(new Set),O=F(new Set),k=F(),A=_e(()=>u.value&&(e.isSelecting||o.value)),ee=_e(()=>w.value!==null),j=!1,M=!1,N=Cd(_,{actInsideInputWithModifier:!1}),te=Cd(v);T(N,e=>{e&&(m(p.value),h(f.value),d.value=!1)}),T(te,e=>{y.value=e});function ne(e,t){return n=>{n.target===t&&e?.(n)}}function re(e){if(j||ee.value){j=!1;return}a.paneClick(e),s(),d.value=!1}function ie(e){e.preventDefault(),e.stopPropagation(),a.paneContextMenu(e)}function P(e){a.paneScroll(e)}function ae(n){var r,i;if(k.value=t.value?.getBoundingClientRect(),!u.value||!e.isSelecting||n.button!==0||n.target!==E.value||!k.value)return;(i=(r=n.target)?.setPointerCapture)==null||i.call(r,n.pointerId);let{x:o,y:l}=Mm(n,k.value);M=!0,j=!1,s(),c.value={width:0,height:0,startX:o,startY:l,x:o,y:l},a.selectionStart(n)}function oe(e){if(!k.value||!c.value)return;j=!0;let{x:t,y:r}=zf(e,k.value),{startX:s=0,startY:l=0}=c.value,u={startX:s,startY:l,x:t<s?t:s,y:r<l?r:l,width:Math.abs(t-s),height:Math.abs(r-l)},f=D.value,p=O.value;D.value=new Set(ef(n.value,u,i.value,g.value===ud.Partial,!0).map(e=>e.id)),O.value=new Set;let m=C.value?.selectable??!0;for(let e of D.value){let t=S.value.get(e);if(t)for(let{edgeId:e}of t.values()){let t=b.value.get(e);t&&(t.selectable??m)&&O.value.add(e)}}if(!dp(f,D.value)){let e=bf(x.value,D.value,!0);a.nodesChange(e)}if(!dp(p,O.value)){let e=bf(b.value,O.value);a.edgesChange(e)}c.value=u,o.value=!0,d.value=!1}function se(t){var n;t.button!==0||!M||((n=t.target)==null||n.releasePointerCapture(t.pointerId),!o.value&&c.value&&t.target===E.value&&re(t),o.value=!1,c.value=null,d.value=D.value.size>0,a.selectionEnd(t),e.selectionKeyPressed&&(j=!1),M=!1)}return(e,t)=>(l(),V(`div`,{ref_key:`container`,ref:E,class:q([`vue-flow__pane vue-flow__container`,{selection:e.isSelecting}]),onClick:t[0]||=e=>A.value?void 0:ne(re,E.value)(e),onContextmenu:t[1]||=e=>ne(ie,E.value)(e),onWheelPassive:t[2]||=e=>ne(P,E.value)(e),onPointerenter:t[3]||=e=>A.value?void 0:R(a).paneMouseEnter(e),onPointerdown:t[4]||=e=>A.value?ae(e):R(a).paneMouseMove(e),onPointermove:t[5]||=e=>A.value?oe(e):R(a).paneMouseMove(e),onPointerup:t[6]||=e=>A.value?se(e):void 0,onPointerleave:t[7]||=e=>R(a).paneMouseLeave(e)},[r(e.$slots,`default`),R(o)&&R(c)?(l(),K(km,{key:0,"user-selection-rect":R(c)},null,8,[`user-selection-rect`])):L(``,!0),R(d)&&R(p).length?(l(),K(jm,{key:1})):L(``,!0)],34))}}),Pm=z({name:`Transform`,compatConfig:{MODE:3},setup(e){let{viewport:t,fitViewOnInit:n,fitViewOnInitDone:i}=Dm(),a=I(()=>n.value?!i.value:!1),o=I(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(e,t)=>(l(),V(`div`,{class:`vue-flow__transformationpane vue-flow__container`,style:Je({transform:o.value,opacity:a.value?0:void 0})},[r(e.$slots,`default`)],4))}}),Fm=z({name:`Viewport`,compatConfig:{MODE:3},setup(e){let{minZoom:t,maxZoom:n,defaultViewport:i,translateExtent:a,zoomActivationKeyCode:o,selectionKeyCode:s,panActivationKeyCode:c,panOnScroll:u,panOnScrollMode:d,panOnScrollSpeed:f,panOnDrag:p,zoomOnDoubleClick:m,zoomOnPinch:h,zoomOnScroll:g,preventScrolling:_,noWheelClassName:v,noPanClassName:y,emits:b,connectionStartHandle:x,userSelectionActive:S,paneDragging:C,d3Zoom:w,d3Selection:E,d3ZoomHandler:D,viewport:O,viewportRef:k,paneClickDistance:A}=Dm();Om(k);let ee=me(!1),j=me(!1),M=null,N=!1,te=0,ne={x:0,y:0,zoom:0},re=Cd(c),ie=Cd(s),P=Cd(o),ae=_e(()=>(!ie.value||ie.value&&s.value===!0)&&(re.value||p.value)),se=_e(()=>re.value||u.value),ce=_e(()=>ie.value||s.value===!0&&ae.value!==!0),le=_e(()=>x.value!==null);oe(()=>{if(!k.value){tp(`Viewport element is missing`);return}let e=k.value,r=e.getBoundingClientRect(),o=ld().clickDistance(A.value).scaleExtent([t.value,n.value]).translateExtent(a.value),c=Es(e).call(o),l=c.on(`wheel.zoom`),x=ed.translate(i.value.x??0,i.value.y??0).scale(Md(i.value.zoom??1,t.value,n.value)),ie=[[0,0],[r.width,r.height]],oe=o.constrain()(x,ie,a.value);o.transform(c,oe),o.wheelDelta(df),w.value=o,E.value=c,D.value=l,O.value={x:oe.x,y:oe.y,zoom:oe.k},o.on(`start`,e=>{if(!e.sourceEvent)return null;te=e.sourceEvent.button,ee.value=!0;let t=fe(e.transform);e.sourceEvent?.type===`mousedown`&&(C.value=!0),ne=t,b.viewportChangeStart(t),b.moveStart({event:e,flowTransform:t})}),o.on(`end`,e=>{if(!e.sourceEvent)return null;if(ee.value=!1,C.value=!1,ue(ae.value,te??0)&&!N&&b.paneContextMenu(e.sourceEvent),N=!1,de(ne,e.transform)){let t=fe(e.transform);ne=t,b.viewportChangeEnd(t),b.moveEnd({event:e,flowTransform:t})}}),o.filter(e=>{let t=P.value||g.value,n=h.value&&e.ctrlKey,r=e.button,i=e.type===`wheel`;if(r===1&&e.type===`mousedown`&&(pe(e,`vue-flow__node`)||pe(e,`vue-flow__edge`)))return!0;if(!ae.value&&!t&&!se.value&&!m.value&&!h.value||S.value||le.value&&!i||!m.value&&e.type===`dblclick`||pe(e,v.value)&&i||pe(e,y.value)&&(!i||se.value&&i&&!P.value)||!h.value&&e.ctrlKey&&i||!t&&!se.value&&!n&&i)return!1;if(!h&&e.type===`touchstart`&&e.touches?.length>1)return e.preventDefault(),!1;if(!ae.value&&(e.type===`mousedown`||e.type===`touchstart`)||s.value===!0&&Array.isArray(p.value)&&p.value.includes(0)&&r===0||Array.isArray(p.value)&&!p.value.includes(r)&&(e.type===`mousedown`||e.type===`touchstart`))return!1;let a=Array.isArray(p.value)&&p.value.includes(r)||s.value===!0&&Array.isArray(p.value)&&!p.value.includes(0)||!r||r<=1;return(!e.ctrlKey||re.value||i)&&a}),T([S,ae],()=>{S.value&&!ee.value?o.on(`zoom`,null):S.value||o.on(`zoom`,e=>{O.value={x:e.transform.x,y:e.transform.y,zoom:e.transform.k};let t=fe(e.transform);N=ue(ae.value,te??0),b.viewportChange(t),b.move({event:e,flowTransform:t})})},{immediate:!0}),T([S,se,d,P,h,_,v],()=>{se.value&&!P.value&&!S.value?c.on(`wheel.zoom`,e=>{if(pe(e,v.value))return!1;let t=P.value||g.value,n=h.value&&e.ctrlKey;if(!(!_.value||se.value||t||n))return!1;e.preventDefault(),e.stopImmediatePropagation();let r=c.property(`__zoom`).k||1,i=Bf();if(!re.value&&e.ctrlKey&&h.value&&i){let t=Os(e),n=df(e),i=r*2**n;o.scaleTo(c,i,t,e);return}let a=e.deltaMode===1?20:1,s=d.value===md.Vertical?0:e.deltaX*a,l=d.value===md.Horizontal?0:e.deltaY*a;!i&&e.shiftKey&&d.value!==md.Vertical&&!s&&l&&(s=l,l=0),o.translateBy(c,-(s/r)*f.value,-(l/r)*f.value);let u=fe(c.property(`__zoom`));M&&clearTimeout(M),j.value?(b.move({event:e,flowTransform:u}),b.viewportChange(u),M=setTimeout(()=>{b.moveEnd({event:e,flowTransform:u}),b.viewportChangeEnd(u),j.value=!1},150)):(j.value=!0,b.moveStart({event:e,flowTransform:u}),b.viewportChangeStart(u))},{passive:!1}):l!==void 0&&c.on(`wheel.zoom`,function(e,t){let n=!_.value&&e.type===`wheel`&&!e.ctrlKey,r=P.value||g.value,i=h.value&&e.ctrlKey;if(!r&&!u.value&&!i&&e.type===`wheel`||n||pe(e,v.value))return null;e.preventDefault(),l.call(this,e,t)},{passive:!1})},{immediate:!0})});function ue(e,t){return t===2&&Array.isArray(e)&&e.includes(2)}function de(e,t){return e.x!==t.x&&!Number.isNaN(t.x)||e.y!==t.y&&!Number.isNaN(t.y)||e.zoom!==t.k&&!Number.isNaN(t.k)}function fe(e){return{x:e.x,y:e.y,zoom:e.k}}function pe(e,t){return e.target.closest(`.${t}`)}return(e,t)=>(l(),V(`div`,{ref_key:`viewportRef`,ref:k,class:`vue-flow__viewport vue-flow__container`},[H(Nm,{"is-selecting":ce.value,"selection-key-pressed":R(ie),class:q({connecting:le.value,dragging:R(C),draggable:R(p)===!0||Array.isArray(R(p))&&R(p).includes(0)})},{default:Y(()=>[H(Pm,null,{default:Y(()=>[r(e.$slots,`default`)]),_:3})]),_:3},8,[`is-selecting`,`selection-key-pressed`,`class`])],512))}}),Im=[`id`],Lm=[`id`],Rm=[`id`],zm=z({name:`A11yDescriptions`,compatConfig:{MODE:3},setup(e){let{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=Dm();return(e,i)=>(l(),V(G,null,[U(`div`,{id:`${R(wd)}-${R(t)}`,style:{display:`none`}},` Press enter or space to select a node. `+B(R(n)?``:`You can then use the arrow keys to move the node around.`)+` You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. `,9,Im),U(`div`,{id:`${R(Td)}-${R(t)}`,style:{display:`none`}},` Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. `,8,Lm),R(n)?L(``,!0):(l(),V(`div`,{key:0,id:`${R(Ed)}-${R(t)}`,"aria-live":`assertive`,"aria-atomic":`true`,style:{position:`absolute`,width:`1px`,height:`1px`,margin:`-1px`,border:`0`,padding:`0`,overflow:`hidden`,clip:`rect(0px, 0px, 0px, 0px)`,"clip-path":`inset(100%)`}},B(R(r)),9,Rm))],64))}});function Bm(){let e=Dm();T(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function Vm(e,t,n){return n===X.Left?e-t:n===X.Right?e+t:e}function Hm(e,t,n){return n===X.Top?e-t:n===X.Bottom?e+t:e}var Um=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=X.Top,type:i}){return tt(`circle`,{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:Vm(t,e,r),cy:Hm(n,e,r),r:e,stroke:`transparent`,fill:`transparent`})};Um.props=[`radius`,`centerX`,`centerY`,`position`,`type`],Um.compatConfig={MODE:3};var Wm=Um,Gm=z({name:`Edge`,compatConfig:{MODE:3},props:[`id`],setup(e){let{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:a,nodesSelectionActive:o,noPanClassName:s,getEdgeTypes:c,removeSelectedEdges:l,findEdge:u,findNode:d,isValidConnection:f,multiSelectionActive:p,disableKeyboardA11y:m,elementsSelectable:h,edgesUpdatable:g,edgesFocusable:_,hooks:v}=Dm(),y=I(()=>u(e.id)),{emit:b,on:x}=xp(y.value,a),S=ot(vp),C=Ae(),w=F(!1),T=F(!1),E=F(``),D=F(null),O=F(`source`),k=F(null),A=_e(()=>y.value.selectable===void 0?h.value:y.value.selectable),j=_e(()=>y.value.updatable===void 0?g.value:y.value.updatable),M=_e(()=>y.value.focusable===void 0?_.value:y.value.focusable);ee(gp,e.id),ee(_p,k);let N=I(()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class),te=I(()=>y.value.style instanceof Function?y.value.style(y.value):y.value.style),ne=I(()=>{let e=y.value.type||`default`,t=S?.[`edge-${e}`];if(t)return t;let n=y.value.template??c.value[e];if(typeof n==`string`&&C){let t=Object.keys(C.appContext.components);t&&t.includes(e)&&(n=Fe(e,!1))}return n&&typeof n!=`string`?n:(a.error(new If(Pf.EDGE_TYPE_MISSING,n)),!1)}),{handlePointerDown:re}=wp({nodeId:E,handleId:D,type:O,isValidConnection:f,edgeUpdaterType:O,onEdgeUpdate:ae,onEdgeUpdateEnd:oe});return()=>{let n=d(y.value.source),o=d(y.value.target),l=`pathOptions`in y.value?y.value.pathOptions:{};if(!n&&!o)return a.error(new If(Pf.EDGE_SOURCE_TARGET_MISSING,y.value.id,y.value.source,y.value.target)),null;if(!n)return a.error(new If(Pf.EDGE_SOURCE_MISSING,y.value.id,y.value.source)),null;if(!o)return a.error(new If(Pf.EDGE_TARGET_MISSING,y.value.id,y.value.target)),null;if(!y.value||y.value.hidden||n.hidden||o.hidden)return null;let u;u=r.value===fd.Strict?n.handleBounds.source:[...n.handleBounds.source||[],...n.handleBounds.target||[]];let f=jf(u,y.value.sourceHandle),p;p=r.value===fd.Strict?o.handleBounds.target:[...o.handleBounds.target||[],...o.handleBounds.source||[]];let m=jf(p,y.value.targetHandle),h=f?.position||X.Bottom,g=m?.position||X.Top,{x:_,y:b}=Af(n,f,h),{x:S,y:C}=Af(o,m,g);return y.value.sourceX=_,y.value.sourceY=b,y.value.targetX=S,y.value.targetY=C,tt(`g`,{ref:k,key:e.id,"data-id":e.id,class:[`vue-flow__edge`,`vue-flow__edge-${ne.value===!1?`default`:y.value.type||`default`}`,s.value,N.value,{updating:w.value,selected:y.value.selected,animated:y.value.animated,inactive:!A.value&&!v.value.edgeClick.hasListeners()}],tabIndex:M.value?0:void 0,"aria-label":y.value.ariaLabel===null?void 0:y.value.ariaLabel??`Edge from ${y.value.source} to ${y.value.target}`,"aria-describedby":M.value?`${Td}-${t}`:void 0,"aria-roledescription":`edge`,role:M.value?`group`:`img`,...y.value.domAttributes,onClick:ce,onContextmenu:le,onDblclick:ue,onMouseenter:de,onMousemove:fe,onMouseleave:pe,onKeyDown:M.value?ge:void 0},[T.value?null:tt(ne.value===!1?c.value.default:ne.value,{id:e.id,sourceNode:n,targetNode:o,source:y.value.source,target:y.value.target,type:y.value.type,updatable:j.value,selected:y.value.selected,animated:y.value.animated,label:y.value.label,labelStyle:y.value.labelStyle,labelShowBg:y.value.labelShowBg,labelBgStyle:y.value.labelBgStyle,labelBgPadding:y.value.labelBgPadding,labelBgBorderRadius:y.value.labelBgBorderRadius,data:y.value.data,events:{...y.value.events,...x},style:te.value,markerStart:`url('#${uf(y.value.markerStart,t)}')`,markerEnd:`url('#${uf(y.value.markerEnd,t)}')`,sourcePosition:h,targetPosition:g,sourceX:_,sourceY:b,targetX:S,targetY:C,sourceHandleId:y.value.sourceHandle,targetHandleId:y.value.targetHandle,interactionWidth:y.value.interactionWidth,...l}),[j.value===`source`||j.value===!0?[tt(`g`,{onMousedown:me,onMouseenter:ie,onMouseout:P},tt(Wm,{position:h,centerX:_,centerY:b,radius:i.value,type:`source`,"data-type":`source`}))]:null,j.value===`target`||j.value===!0?[tt(`g`,{onMousedown:he,onMouseenter:ie,onMouseout:P},tt(Wm,{position:g,centerX:S,centerY:C,radius:i.value,type:`target`,"data-type":`target`}))]:null]])};function ie(){w.value=!0}function P(){w.value=!1}function ae(e,t){b.update({event:e,edge:y.value,connection:t})}function oe(e){b.updateEnd({event:e,edge:y.value}),T.value=!1}function se(e,t){e.button===0&&(T.value=!0,E.value=t?y.value.target:y.value.source,D.value=(t?y.value.targetHandle:y.value.sourceHandle)??null,O.value=t?`target`:`source`,b.updateStart({event:e,edge:y.value}),re(e))}function ce(e){var t;let r={event:e,edge:y.value};A.value&&(o.value=!1,y.value.selected&&p.value?(l([y.value]),(t=k.value)==null||t.blur()):n([y.value])),b.click(r)}function le(e){b.contextMenu({event:e,edge:y.value})}function ue(e){b.doubleClick({event:e,edge:y.value})}function de(e){b.mouseEnter({event:e,edge:y.value})}function fe(e){b.mouseMove({event:e,edge:y.value})}function pe(e){b.mouseLeave({event:e,edge:y.value})}function me(e){se(e,!0)}function he(e){se(e,!1)}function ge(t){var r;!m.value&&Dd.includes(t.key)&&A.value&&(t.key===`Escape`?((r=k.value)==null||r.blur(),l([u(e.id)])):n([u(e.id)]))}}}),Km=z({name:`ConnectionLine`,compatConfig:{MODE:3},setup(){let{id:e,connectionMode:t,connectionStartHandle:n,connectionEndHandle:r,connectionPosition:i,connectionLineType:a,connectionLineStyle:o,connectionLineOptions:s,connectionStatus:c,viewport:l,findNode:u}=Dm(),d=ot(vp)?.[`connection-line`],f=I(()=>u(n.value?.nodeId)),p=I(()=>u(r.value?.nodeId)??null),m=I(()=>({x:(i.value.x-l.value.x)/l.value.zoom,y:(i.value.y-l.value.y)/l.value.zoom})),h=I(()=>s.value.markerStart?`url(#${uf(s.value.markerStart,e)})`:``),g=I(()=>s.value.markerEnd?`url(#${uf(s.value.markerEnd,e)})`:``);return()=>{if(!f.value||!n.value)return null;let e=n.value.id,i=n.value.type,l=f.value.handleBounds,u=l?.[i]??[];if(t.value===fd.Loose){let e=l?.[i===`source`?`target`:`source`]??[];u=[...u,...e]}if(!u)return null;let _=(e?u.find(t=>t.id===e):u[0])??null,v=_?.position??X.Top,{x:y,y:b}=Af(f.value,_,v),x=null;p.value&&(x=t.value===fd.Strict?p.value.handleBounds[i===`source`?`target`:`source`]?.find(e=>e.id===r.value?.id)||null:[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]]?.find(e=>e.id===r.value?.id)||null);let S=r.value?.position??(v?$f[v]:null);if(!v||!S)return null;let C=a.value??s.value.type??dd.Bezier,w=``,T={sourceX:y,sourceY:b,sourcePosition:v,targetX:m.value.x,targetY:m.value.y,targetPosition:S};return C===dd.Bezier?[w]=cm(T):C===dd.Step?[w]=gm({...T,borderRadius:0}):C===dd.SmoothStep?[w]=gm(T):C===dd.SimpleBezier?[w]=um(T):w=`M${y},${b} ${m.value.x},${m.value.y}`,tt(`svg`,{class:`vue-flow__edges vue-flow__connectionline vue-flow__container`},tt(`g`,{class:`vue-flow__connection`},d?tt(d,{sourceX:y,sourceY:b,sourcePosition:v,targetX:m.value.x,targetY:m.value.y,targetPosition:S,sourceNode:f.value,sourceHandle:_,targetNode:p.value,targetHandle:x,markerEnd:g.value,markerStart:h.value,connectionStatus:c.value}):tt(`path`,{d:w,class:[s.value.class,c.value,`vue-flow__connection-path`],style:{...o.value,...s.value.style},"marker-end":g.value,"marker-start":h.value})))}}}),qm=[`id`,`markerWidth`,`markerHeight`,`markerUnits`,`orient`],Jm=z({name:`MarkerType`,compatConfig:{MODE:3},props:{id:{},type:{},color:{default:`none`},width:{default:12.5},height:{default:12.5},markerUnits:{default:`strokeWidth`},orient:{default:`auto-start-reverse`},strokeWidth:{default:1}},setup(e){return(e,t)=>(l(),V(`marker`,{id:e.id,class:`vue-flow__arrowhead`,viewBox:`-10 -10 20 20`,refX:`0`,refY:`0`,markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===R(pd).ArrowClosed?(l(),V(`polyline`,{key:0,style:Je({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":`round`,"stroke-linejoin":`round`,points:`-5,-4 0,0 -5,4 -5,-4`},null,4)):L(``,!0),e.type===R(pd).Arrow?(l(),V(`polyline`,{key:1,style:Je({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":`round`,"stroke-linejoin":`round`,fill:`none`,points:`-5,-4 0,0 -5,4`},null,4)):L(``,!0)],8,qm))}}),Ym={class:`vue-flow__marker vue-flow__container`,"aria-hidden":`true`},Xm=z({name:`MarkerDefinitions`,compatConfig:{MODE:3},setup(e){let{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=Dm(),a=I(()=>{let e=new Set,a=[],o=n=>{if(n){let r=uf(n,t);e.has(r)||(typeof n==`object`?a.push({...n,id:r,color:n.color||i.value}):a.push({id:r,color:i.value,type:n}),e.add(r))}};for(let e of[r.value.markerEnd,r.value.markerStart])o(e);for(let e of n.value)for(let t of[e.markerStart,e.markerEnd])o(t);return a.sort((e,t)=>e.id.localeCompare(t.id))});return(e,t)=>(l(),V(`svg`,Ym,[U(`defs`,null,[(l(!0),V(G,null,Le(a.value,e=>(l(),K(Jm,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,[`id`,`type`,`color`,`width`,`height`,`markerUnits`,`stroke-width`,`orient`]))),128))])]))}}),Zm=z({name:`Edges`,compatConfig:{MODE:3},setup(e){let{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=Dm();return(e,i)=>(l(),V(G,null,[H(Xm),(l(!0),V(G,null,Le(R(n),e=>(l(),V(`svg`,{key:e.id,class:`vue-flow__edges vue-flow__container`,style:Je({zIndex:R(Nf)(e,R(t),R(r))})},[H(R(Gm),{id:e.id},null,8,[`id`])],4))),128)),H(R(Km))],64))}}),Qm=z({name:`Node`,compatConfig:{MODE:3},props:[`id`,`resizeObserver`],setup(e){let{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:a,emits:o,removeSelectedNodes:s,addSelectedNodes:c,updateNodeDimensions:l,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:p,disableKeyboardA11y:m,ariaLiveMessage:h,snapToGrid:g,snapGrid:_,nodeDragThreshold:v,nodesDraggable:y,elementsSelectable:b,nodesConnectable:x,nodesFocusable:S,hooks:C}=Dm(),w=F(null);ee(hp,w),ee(mp,e.id);let E=ot(vp),D=Ae(),O=kp(),{node:k,parentNode:A}=Ep(e.id),{emit:j,on:M}=Op(k,o),N=_e(()=>k.draggable===void 0?y.value:k.draggable),te=_e(()=>k.selectable===void 0?b.value:k.selectable),ne=_e(()=>k.connectable===void 0?x.value:k.connectable),re=_e(()=>k.focusable===void 0?S.value:k.focusable),ie=I(()=>te.value||N.value||C.value.nodeClick.hasListeners()||C.value.nodeDoubleClick.hasListeners()||C.value.nodeMouseEnter.hasListeners()||C.value.nodeMouseMove.hasListeners()||C.value.nodeMouseLeave.hasListeners()),ae=_e(()=>!!k.dimensions.width&&!!k.dimensions.height),se=I(()=>{let e=k.type||`default`,t=E?.[`node-${e}`];if(t)return t;let n=k.template||d.value[e];if(typeof n==`string`&&D){let t=Object.keys(D.appContext.components);t&&t.includes(e)&&(n=Fe(e,!1))}return n&&typeof n!=`string`?n:(o.error(new If(Pf.NODE_TYPE_MISSING,n)),!1)}),ce=yp({id:e.id,el:w,disabled:()=>!N.value,selectable:te,dragHandle:()=>k.dragHandle,onStart(e){j.dragStart(e)},onDrag(e){j.drag(e)},onStop(e){j.dragStop(e)},onClick(e){be(e)}}),le=I(()=>k.class instanceof Function?k.class(k):k.class),ue=I(()=>{let e=(k.style instanceof Function?k.style(k):k.style)||{},t=k.width instanceof Function?k.width(k):k.width,n=k.height instanceof Function?k.height(k):k.height;return!e.width&&t&&(e.width=typeof t==`string`?t:`${t}px`),!e.height&&n&&(e.height=typeof n==`string`?n:`${n}px`),e}),de=_e(()=>Number(k.zIndex??ue.value.zIndex??0));return u(t=>{(t.includes(e.id)||!t.length)&&pe()}),oe(()=>{T(()=>k.hidden,(t=!1,n,r)=>{!t&&w.value&&(e.resizeObserver.observe(w.value),r(()=>{w.value&&e.resizeObserver.unobserve(w.value)}))},{immediate:!0,flush:`post`})}),T([()=>k.type,()=>k.sourcePosition,()=>k.targetPosition],()=>{P(()=>{l([{id:e.id,nodeElement:w.value,forceUpdate:!0}])})}),T([()=>k.position.x,()=>k.position.y,()=>A.value?.computedPosition.x,()=>A.value?.computedPosition.y,()=>A.value?.computedPosition.z,de,()=>k.selected,()=>k.dimensions.height,()=>k.dimensions.width,()=>A.value?.dimensions.height,()=>A.value?.dimensions.width],([e,t,n,r,i,a])=>{let o={x:e,y:t,z:a+(p.value&&k.selected?1e3:0)};n!==void 0&&r!==void 0?k.computedPosition=cf({x:n,y:r,z:i},o):k.computedPosition=o},{flush:`post`,immediate:!0}),T([()=>k.extent,f],([e,t],[n,r])=>{(e!==n||t!==r)&&fe()}),k.extent===`parent`||typeof k.extent==`object`&&`range`in k.extent&&k.extent.range===`parent`?ua(()=>ae).toBe(!0).then(fe):fe(),()=>k.hidden?null:tt(`div`,{ref:w,"data-id":k.id,class:[`vue-flow__node`,`vue-flow__node-${se.value===!1?`default`:k.type||`default`}`,{[n.value]:N.value,dragging:ce?.value,draggable:N.value,selected:k.selected,selectable:te.value,parent:k.isParent},le.value],style:{visibility:ae.value?`visible`:`hidden`,zIndex:k.computedPosition.z??de.value,transform:`translate(${k.computedPosition.x}px,${k.computedPosition.y}px)`,pointerEvents:ie.value?`all`:`none`,...ue.value},tabIndex:re.value?0:void 0,role:re.value?`group`:void 0,"aria-describedby":m.value?void 0:`${wd}-${t}`,"aria-label":k.ariaLabel,"aria-roledescription":`node`,...k.domAttributes,onMouseenter:me,onMousemove:he,onMouseleave:ge,onContextmenu:ve,onClick:be,onDblclick:ye,onKeydown:xe},[tt(se.value===!1?d.value.default:se.value,{id:k.id,type:k.type,data:k.data,events:{...k.events,...M},selected:k.selected,resizing:k.resizing,dragging:ce.value,connectable:ne.value,position:k.computedPosition,dimensions:k.dimensions,isValidTargetPos:k.isValidTargetPos,isValidSourcePos:k.isValidSourcePos,parent:k.parentNode,parentNodeId:k.parentNode,zIndex:k.computedPosition.z??de.value,targetPosition:k.targetPosition,sourcePosition:k.sourcePosition,label:k.label,dragHandle:k.dragHandle,onUpdateNodeInternals:pe})]);function fe(){let e=k.computedPosition,{computedPosition:t,position:n}=kf(k,g.value?Hf(e,_.value):e,o.error,f.value,A.value);(k.computedPosition.x!==t.x||k.computedPosition.y!==t.y)&&(k.computedPosition={...k.computedPosition,...t}),(k.position.x!==n.x||k.position.y!==n.y)&&(k.position=n)}function pe(){w.value&&l([{id:e.id,nodeElement:w.value,forceUpdate:!0}])}function me(e){ce?.value||j.mouseEnter({event:e,node:k})}function he(e){ce?.value||j.mouseMove({event:e,node:k})}function ge(e){ce?.value||j.mouseLeave({event:e,node:k})}function ve(e){return j.contextMenu({event:e,node:k})}function ye(e){return j.doubleClick({event:e,node:k})}function be(e){te.value&&(!r.value||!N.value||v.value>0)&&ip(k,a.value,c,s,i,!1,w.value),j.click({event:e,node:k})}function xe(e){if(!(vd(e)||m.value))if(Dd.includes(e.key)&&te.value){let t=e.key===`Escape`;ip(k,a.value,c,s,i,t,w.value)}else N.value&&k.selected&&Od[e.key]&&(e.preventDefault(),h.value=`Moved selected node ${e.key.replace(`Arrow`,``).toLowerCase()}. New position, x: ${~~k.position.x}, y: ${~~k.position.y}`,O({x:Od[e.key].x,y:Od[e.key].y},e.shiftKey))}}});function $m(e={includeHiddenNodes:!1}){let{nodes:t}=Dm();return I(()=>{if(t.value.length===0)return!1;for(let n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}var eh={class:`vue-flow__nodes vue-flow__container`},th=z({name:`Nodes`,compatConfig:{MODE:3},setup(e){let{getNodes:t,updateNodeDimensions:n,emits:r}=Dm(),i=$m(),a=F();return T(i,e=>{e&&P(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),oe(()=>{a.value=new ResizeObserver(e=>{let t=e.map(e=>({id:e.target.getAttribute(`data-id`),nodeElement:e.target,forceUpdate:!0}));P(()=>n(t))})}),rt(()=>a.value?.disconnect()),(e,n)=>(l(),V(`div`,eh,[a.value?(l(!0),V(G,{key:0},Le(R(t),(e,t,n,r)=>{let i=[e.id];if(r&&r.key===e.id&&Se(r,i))return r;let o=(l(),K(R(Qm),{id:e.id,key:e.id,"resize-observer":a.value},null,8,[`id`,`resize-observer`]));return o.memo=i,o},n,0),128)):L(``,!0)]))}});function nh(){let{emits:e}=Dm();oe(()=>{if(np()){let t=document.querySelector(`.vue-flow__pane`);t&&window.getComputedStyle(t).zIndex!==`1`&&e.error(new If(Pf.MISSING_STYLES))}})}var rh=U(`div`,{class:`vue-flow__edge-labels`},null,-1),ih=z({name:`VueFlow`,compatConfig:{MODE:3},props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:`nodesChange.edgesChange.nodesInitialized.paneReady.init.updateNodeInternals.error.connect.connectStart.connectEnd.clickConnectStart.clickConnectEnd.moveStart.move.moveEnd.selectionDragStart.selectionDrag.selectionDragStop.selectionContextMenu.selectionStart.selectionEnd.viewportChangeStart.viewportChange.viewportChangeEnd.paneScroll.paneClick.paneContextMenu.paneMouseEnter.paneMouseMove.paneMouseLeave.edgeUpdate.edgeContextMenu.edgeMouseEnter.edgeMouseMove.edgeMouseLeave.edgeDoubleClick.edgeClick.edgeUpdateStart.edgeUpdateEnd.nodeContextMenu.nodeMouseEnter.nodeMouseMove.nodeMouseLeave.nodeDoubleClick.nodeClick.nodeDragStart.nodeDrag.nodeDragStop.miniMapNodeClick.miniMapNodeDoubleClick.miniMapNodeMouseEnter.miniMapNodeMouseMove.miniMapNodeMouseLeave.update:modelValue.update:nodes.update:edges`.split(`.`),setup(e,{expose:t,emit:n}){let i=e,a=y(),o=_a(i,`modelValue`,n),s=_a(i,`nodes`,n),c=_a(i,`edges`,n),u=Dm(i),f=Ip({modelValue:o,nodes:s,edges:c},i,u);return Rp(n,u.hooks),Bm(),nh(),ee(vp,a),d(f),t(u),(e,t)=>(l(),V(`div`,{ref:R(u).vueFlowRef,class:`vue-flow`},[H(Fm,null,{default:Y(()=>[H(Zm),rh,H(th),r(e.$slots,`zoom-pane`)]),_:3}),r(e.$slots,`default`),H(zm)],512))}}),ah=z({name:`Panel`,compatConfig:{MODE:3},props:{position:{}},setup(e){let t=e,{userSelectionActive:n}=Dm(),i=I(()=>`${t.position}`.split(`-`));return(e,t)=>(l(),V(`div`,{class:q([`vue-flow__panel`,i.value]),style:Je({pointerEvents:R(n)?`none`:`all`})},[r(e.$slots,`default`)],6))}}),oh=(e=>(e.Lines=`lines`,e.Dots=`dots`,e))(oh||{}),sh=function({dimensions:e,size:t,color:n}){return tt(`path`,{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},ch=function({radius:e,color:t}){return tt(`circle`,{cx:e,cy:e,r:e,fill:t})};oh.Lines,oh.Dots;var lh={[oh.Dots]:`#81818a`,[oh.Lines]:`#eee`},uh=[`id`,`x`,`y`,`width`,`height`,`patternTransform`],dh={key:2,height:`100`,width:`100`},fh=[`fill`],ph=[`x`,`y`,`fill`],mh=z({name:`Background`,compatConfig:{MODE:3},props:{id:{},variant:{default:()=>oh.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){let{id:t,viewport:n}=Dm(),i=I(()=>{let t=n.value.zoom,[r,i]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],a=[r*t||1,i*t||1],o=e.size*t,[s,c]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],l=[s*t||1+a[0]/2,c*t||1+a[1]/2];return{scaledGap:a,offset:l,size:o}}),a=_e(()=>`pattern-${t}${e.id?`-${e.id}`:``}`),o=_e(()=>e.color||e.patternColor||lh[e.variant||oh.Dots]);return(e,t)=>(l(),V(`svg`,{class:`vue-flow__background vue-flow__container`,style:Je({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[r(e.$slots,`pattern-container`,{id:a.value},()=>[U(`pattern`,{id:a.value,x:R(n).x%i.value.scaledGap[0],y:R(n).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:`userSpaceOnUse`},[r(e.$slots,`pattern`,{},()=>[e.variant===R(oh).Lines?(l(),K(R(sh),{key:0,size:e.lineWidth,color:o.value,dimensions:i.value.scaledGap},null,8,[`size`,`color`,`dimensions`])):e.variant===R(oh).Dots?(l(),K(R(ch),{key:1,color:o.value,radius:i.value.size/2},null,8,[`color`,`radius`])):L(``,!0),e.bgColor?(l(),V(`svg`,dh,[U(`rect`,{width:`100%`,height:`100%`,fill:e.bgColor},null,8,fh)])):L(``,!0)])],8,uh)]),U(`rect`,{x:e.x,y:e.y,width:`100%`,height:`100%`,fill:`url(#${a.value})`},null,8,ph),r(e.$slots,`default`,{id:a.value})],4))}}),hh={value:()=>{}};function gh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new _h(n)}function _h(e){this._=e}function vh(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}_h.prototype=gh.prototype={constructor:_h,on:function(e,t){var n=this._,r=vh(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=yh(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=bh(n[i],e.name,t);else if(t==null)for(i in n)n[i]=bh(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _h(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function yh(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function bh(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=hh,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xh=`http://www.w3.org/1999/xhtml`,Sh={svg:`http://www.w3.org/2000/svg`,xhtml:xh,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function Ch(e){var t=e+=``,n=t.indexOf(`:`);return n>=0&&(t=e.slice(0,n))!==`xmlns`&&(e=e.slice(n+1)),Sh.hasOwnProperty(t)?{space:Sh[t],local:e}:e}function wh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xh&&t.documentElement.namespaceURI===xh?t.createElement(e):t.createElementNS(n,e)}}function Th(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Eh(e){var t=Ch(e);return(t.local?Th:wh)(t)}function Dh(){}function Oh(e){return e==null?Dh:function(){return this.querySelector(e)}}function kh(e){typeof e!=`function`&&(e=Oh(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=e.call(c,c.__data__,u,a))&&(`__data__`in c&&(l.__data__=c.__data__),s[u]=l);return new __(r,this._parents)}function Ah(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jh(){return[]}function Mh(e){return e==null?jh:function(){return this.querySelectorAll(e)}}function Nh(e){return function(){return Ah(e.apply(this,arguments))}}function Ph(e){e=typeof e==`function`?Nh(e):Mh(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(e.call(c,c.__data__,l,o)),i.push(c));return new __(r,i)}function Fh(e){return function(){return this.matches(e)}}function Ih(e){return function(t){return t.matches(e)}}var Lh=Array.prototype.find;function Rh(e){return function(){return Lh.call(this.children,e)}}function zh(){return this.firstElementChild}function Bh(e){return this.select(e==null?zh:Rh(typeof e==`function`?e:Ih(e)))}var Vh=Array.prototype.filter;function Hh(){return Array.from(this.children)}function Uh(e){return function(){return Vh.call(this.children,e)}}function Wh(e){return this.selectAll(e==null?Hh:Uh(typeof e==`function`?e:Ih(e)))}function Gh(e){typeof e!=`function`&&(e=Fh(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new __(r,this._parents)}function Kh(e){return Array(e.length)}function qh(){return new __(this._enter||this._groups.map(Kh),this._parents)}function Jh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Jh.prototype={constructor:Jh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Yh(e){return function(){return e}}function Xh(e,t,n,r,i,a){for(var o=0,s,c=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Jh(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function Zh(e,t,n,r,i,a,o){var s,c,l=new Map,u=t.length,d=a.length,f=Array(u),p;for(s=0;s<u;++s)(c=t[s])&&(f[s]=p=o.call(c,c.__data__,s,t)+``,l.has(p)?i[s]=c:l.set(p,c));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+``,(c=l.get(p))?(r[s]=c,c.__data__=a[s],l.delete(p)):n[s]=new Jh(e,a[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function Qh(e){return e.__data__}function $h(e,t){if(!arguments.length)return Array.from(this,Qh);var n=t?Zh:Xh,r=this._parents,i=this._groups;typeof e!=`function`&&(e=Yh(e));for(var a=i.length,o=Array(a),s=Array(a),c=Array(a),l=0;l<a;++l){var u=r[l],d=i[l],f=d.length,p=eg(e.call(u,u&&u.__data__,l,r)),m=p.length,h=s[l]=Array(m),g=o[l]=Array(m),_=c[l]=Array(f);n(u,d,h,g,_,p,t);for(var v=0,y=0,b,x;v<m;++v)if(b=h[v]){for(v>=y&&(y=v+1);!(x=g[y])&&++y<m;);b._next=x||null}}return o=new __(o,r),o._enter=s,o._exit=c,o}function eg(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function tg(){return new __(this._exit||this._groups.map(Kh),this._parents)}function ng(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e==`function`?(r=e(r),r&&=r.selection()):r=r.append(e+``),t!=null&&(i=t(i),i&&=i.selection()),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function rg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=Array(i),c=0;c<o;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)s[c]=n[c];return new __(s,this._parents)}function ig(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ag(e){e||=og;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(t)}return new __(i,this._parents).order()}function og(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cg(){return Array.from(this)}function lg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function ug(){let e=0;for(let t of this)++e;return e}function dg(){return!this.node()}function fg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function pg(e){return function(){this.removeAttribute(e)}}function mg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hg(e,t){return function(){this.setAttribute(e,t)}}function gg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _g(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yg(e,t){var n=Ch(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mg:pg:typeof t==`function`?n.local?vg:_g:n.local?gg:hg)(n,t))}function bg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xg(e){return function(){this.style.removeProperty(e)}}function Sg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Cg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function wg(e,t,n){return arguments.length>1?this.each((t==null?xg:typeof t==`function`?Cg:Sg)(e,t,n??``)):Tg(this.node(),e)}function Tg(e,t){return e.style.getPropertyValue(t)||bg(e).getComputedStyle(e,null).getPropertyValue(t)}function Eg(e){return function(){delete this[e]}}function Dg(e,t){return function(){this[e]=t}}function Og(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kg(e,t){return arguments.length>1?this.each((t==null?Eg:typeof t==`function`?Og:Dg)(e,t)):this.node()[e]}function Ag(e){return e.trim().split(/^|\s+/)}function jg(e){return e.classList||new Mg(e)}function Mg(e){this._node=e,this._names=Ag(e.getAttribute(`class`)||``)}Mg.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(`class`,this._names.join(` `)))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(`class`,this._names.join(` `)))},contains:function(e){return this._names.indexOf(e)>=0}};function Ng(e,t){for(var n=jg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Pg(e,t){for(var n=jg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fg(e){return function(){Ng(this,e)}}function Ig(e){return function(){Pg(this,e)}}function Lg(e,t){return function(){(t.apply(this,arguments)?Ng:Pg)(this,e)}}function Rg(e,t){var n=Ag(e+``);if(arguments.length<2){for(var r=jg(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t==`function`?Lg:t?Fg:Ig)(n,t))}function zg(){this.textContent=``}function Bg(e){return function(){this.textContent=e}}function Vg(e){return function(){this.textContent=e.apply(this,arguments)??``}}function Hg(e){return arguments.length?this.each(e==null?zg:(typeof e==`function`?Vg:Bg)(e)):this.node().textContent}function Ug(){this.innerHTML=``}function Wg(e){return function(){this.innerHTML=e}}function Gg(e){return function(){this.innerHTML=e.apply(this,arguments)??``}}function Kg(e){return arguments.length?this.each(e==null?Ug:(typeof e==`function`?Gg:Wg)(e)):this.node().innerHTML}function qg(){this.nextSibling&&this.parentNode.appendChild(this)}function Jg(){return this.each(qg)}function Yg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xg(){return this.each(Yg)}function Zg(e){var t=typeof e==`function`?e:Eh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qg(){return null}function $g(e,t){var n=typeof e==`function`?e:Eh(e),r=t==null?Qg:typeof t==`function`?t:Oh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function e_(){var e=this.parentNode;e&&e.removeChild(this)}function t_(){return this.each(e_)}function n_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i_(e){return this.select(e?r_:n_)}function a_(e){return arguments.length?this.property(`__data__`,e):this.node().__data__}function o_(e){return function(t){e.call(this,t,this.__data__)}}function s_(e){return e.trim().split(/^|\s+/).map(function(e){var t=``,n=e.indexOf(`.`);return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function c_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function l_(e,t,n){return function(){var r=this.__on,i,a=o_(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function u_(e,t,n){var r=s_(e+``),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?l_:c_,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function d_(e,t,n){var r=bg(e),i=r.CustomEvent;typeof i==`function`?i=new i(t,n):(i=r.document.createEvent(`Event`),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function f_(e,t){return function(){return d_(this,e,t)}}function p_(e,t){return function(){return d_(this,e,t.apply(this,arguments))}}function m_(e,t){return this.each((typeof t==`function`?p_:f_)(e,t))}function*h_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var g_=[null];function __(e,t){this._groups=e,this._parents=t}function v_(){return new __([[document.documentElement]],g_)}function y_(){return this}__.prototype=v_.prototype={constructor:__,select:kh,selectAll:Ph,selectChild:Bh,selectChildren:Wh,filter:Gh,data:$h,enter:qh,exit:tg,join:ng,merge:rg,selection:y_,order:ig,sort:ag,call:sg,nodes:cg,node:lg,size:ug,empty:dg,each:fg,attr:yg,style:wg,property:kg,classed:Rg,text:Hg,html:Kg,raise:Jg,lower:Xg,append:Zg,insert:$g,remove:t_,clone:i_,datum:a_,on:u_,dispatch:m_,[Symbol.iterator]:h_};function b_(e){return typeof e==`string`?new __([[document.querySelector(e)]],[document.documentElement]):new __([[e]],g_)}function x_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function S_(e,t){if(e=x_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var C_={capture:!0,passive:!1};function w_(e){e.preventDefault(),e.stopImmediatePropagation()}function T_(e){var t=e.document.documentElement,n=b_(e).on(`dragstart.drag`,w_,C_);`onselectstart`in t?n.on(`selectstart.drag`,w_,C_):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect=`none`)}function E_(e,t){var n=e.document.documentElement,r=b_(e).on(`dragstart.drag`,null);t&&(r.on(`click.drag`,w_,C_),setTimeout(function(){r.on(`click.drag`,null)},0)),`onselectstart`in n?r.on(`selectstart.drag`,null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function D_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function O_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function k_(){}var A_=.7,j_=1/A_,M_=`\\s*([+-]?\\d+)\\s*`,N_=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,P_=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,F_=/^#([0-9a-f]{3,8})$/,I_=RegExp(`^rgb\\(${M_},${M_},${M_}\\)$`),L_=RegExp(`^rgb\\(${P_},${P_},${P_}\\)$`),R_=RegExp(`^rgba\\(${M_},${M_},${M_},${N_}\\)$`),z_=RegExp(`^rgba\\(${P_},${P_},${P_},${N_}\\)$`),B_=RegExp(`^hsl\\(${N_},${P_},${P_}\\)$`),V_=RegExp(`^hsla\\(${N_},${P_},${P_},${N_}\\)$`),H_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D_(k_,q_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:U_,formatHex:U_,formatHex8:W_,formatHsl:G_,formatRgb:K_,toString:K_});function U_(){return this.rgb().formatHex()}function W_(){return this.rgb().formatHex8()}function G_(){return ov(this).formatHsl()}function K_(){return this.rgb().formatRgb()}function q_(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=F_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?J_(t):n===3?new Q_(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Y_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Y_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=I_.exec(e))?new Q_(t[1],t[2],t[3],1):(t=L_.exec(e))?new Q_(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R_.exec(e))?Y_(t[1],t[2],t[3],t[4]):(t=z_.exec(e))?Y_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B_.exec(e))?av(t[1],t[2]/100,t[3]/100,1):(t=V_.exec(e))?av(t[1],t[2]/100,t[3]/100,t[4]):H_.hasOwnProperty(e)?J_(H_[e]):e===`transparent`?new Q_(NaN,NaN,NaN,0):null}function J_(e){return new Q_(e>>16&255,e>>8&255,e&255,1)}function Y_(e,t,n,r){return r<=0&&(e=t=n=NaN),new Q_(e,t,n,r)}function X_(e){return e instanceof k_||(e=q_(e)),e?(e=e.rgb(),new Q_(e.r,e.g,e.b,e.opacity)):new Q_}function Z_(e,t,n,r){return arguments.length===1?X_(e):new Q_(e,t,n,r??1)}function Q_(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}D_(Q_,Z_,O_(k_,{brighter(e){return e=e==null?j_:j_**+e,new Q_(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?A_:A_**+e,new Q_(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Q_(rv(this.r),rv(this.g),rv(this.b),nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$_,formatHex:$_,formatHex8:ev,formatRgb:tv,toString:tv}));function $_(){return`#${iv(this.r)}${iv(this.g)}${iv(this.b)}`}function ev(){return`#${iv(this.r)}${iv(this.g)}${iv(this.b)}${iv((isNaN(this.opacity)?1:this.opacity)*255)}`}function tv(){let e=nv(this.opacity);return`${e===1?`rgb(`:`rgba(`}${rv(this.r)}, ${rv(this.g)}, ${rv(this.b)}${e===1?`)`:`, ${e})`}`}function nv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function iv(e){return e=rv(e),(e<16?`0`:``)+e.toString(16)}function av(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cv(e,t,n,r)}function ov(e){if(e instanceof cv)return new cv(e.h,e.s,e.l,e.opacity);if(e instanceof k_||(e=q_(e)),!e)return new cv;if(e instanceof cv)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new cv(o,s,c,e.opacity)}function sv(e,t,n,r){return arguments.length===1?ov(e):new cv(e,t,n,r??1)}function cv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}D_(cv,sv,O_(k_,{brighter(e){return e=e==null?j_:j_**+e,new cv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?A_:A_**+e,new cv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Q_(dv(e>=240?e-240:e+120,i,r),dv(e,i,r),dv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cv(lv(this.h),uv(this.s),uv(this.l),nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=nv(this.opacity);return`${e===1?`hsl(`:`hsla(`}${lv(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function lv(e){return e=(e||0)%360,e<0?e+360:e}function uv(e){return Math.max(0,Math.min(1,e||0))}function dv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var fv=e=>()=>e;function pv(e,t){return function(n){return e+n*t}}function mv(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function hv(e){return(e=+e)==1?gv:function(t,n){return n-t?mv(t,n,e):fv(isNaN(t)?n:t)}}function gv(e,t){var n=t-e;return n?pv(e,n):fv(isNaN(e)?t:e)}var _v=function e(t){var n=hv(t);function r(e,t){var r=n((e=Z_(e)).r,(t=Z_(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=gv(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r}(1);function vv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bv=new RegExp(yv.source,`g`);function xv(e){return function(){return e}}function Sv(e){return function(t){return e(t)+``}}function Cv(e,t){var n=yv.lastIndex=bv.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=yv.exec(e))&&(i=bv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:vv(r,i)})),n=bv.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Sv(c[0].x):xv(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}var wv=180/Math.PI,Tv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ev(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*wv,skewX:Math.atan(c)*wv,scaleX:o,scaleY:s}}var Dv;function Ov(e){let t=new(typeof DOMMatrix==`function`?DOMMatrix:WebKitCSSMatrix)(e+``);return t.isIdentity?Tv:Ev(t.a,t.b,t.c,t.d,t.e,t.f)}function kv(e){return e==null||(Dv||=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),Dv.setAttribute(`transform`,e),!(e=Dv.transform.baseVal.consolidate()))?Tv:(e=e.matrix,Ev(e.a,e.b,e.c,e.d,e.e,e.f))}function Av(e,t,n,r){function i(e){return e.length?e.pop()+` `:``}function a(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push(`translate(`,null,t,null,n);s.push({i:c-4,x:vv(e,i)},{i:c-2,x:vv(r,a)})}else (i||a)&&o.push(`translate(`+i+t+a+n)}function o(e,t,n,a){e===t?t&&n.push(i(n)+`rotate(`+t+r):(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+`rotate(`,null,r)-2,x:vv(e,t)}))}function s(e,t,n,a){e===t?t&&n.push(i(n)+`skewX(`+t+r):a.push({i:n.push(i(n)+`skewX(`,null,r)-2,x:vv(e,t)})}function c(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+`scale(`,null,`,`,null,`)`);o.push({i:s-4,x:vv(e,n)},{i:s-2,x:vv(t,r)})}else (n!==1||r!==1)&&a.push(i(a)+`scale(`+n+`,`+r+`)`)}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t=-1,n=i.length,a;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join(``)}}}var jv=Av(Ov,`px, `,`px)`,`deg)`),Mv=Av(kv,`, `,`)`,`)`),Nv=1e-12;function Pv(e){return((e=Math.exp(e))+1/e)/2}function Fv(e){return((e=Math.exp(e))-1/e)/2}function Iv(e){return((e=Math.exp(2*e))-1)/(e+1)}var Lv=function e(t,n,r){function i(e,i){var a=e[0],o=e[1],s=e[2],c=i[0],l=i[1],u=i[2],d=c-a,f=l-o,p=d*d+f*f,m,h;if(p<Nv)h=Math.log(u/s)/t,m=function(e){return[a+e*d,o+e*f,s*Math.exp(t*e*h)]};else{var g=Math.sqrt(p),_=(u*u-s*s+r*p)/(2*s*n*g),v=(u*u-s*s-r*p)/(2*u*n*g),y=Math.log(Math.sqrt(_*_+1)-_);h=(Math.log(Math.sqrt(v*v+1)-v)-y)/t,m=function(e){var r=e*h,i=Pv(y),c=s/(n*g)*(i*Iv(t*r+y)-Fv(y));return[a+c*d,o+c*f,s*i/Pv(t*r+y)]}}return m.duration=h*1e3*t/Math.SQRT2,m}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n,i=r*r;return e(n,r,i)},i}(Math.SQRT2,2,4),Rv=0,zv=0,Bv=0,Vv=1e3,Hv,Uv,Wv=0,Gv=0,Kv=0,qv=typeof performance==`object`&&performance.now?performance:Date,Jv=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yv(){return Gv||=(Jv(Xv),qv.now()+Kv)}function Xv(){Gv=0}function Zv(){this._call=this._time=this._next=null}Zv.prototype=Qv.prototype={constructor:Zv,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?Yv():+n)+(t==null?0:+t),!this._next&&Uv!==this&&(Uv?Uv._next=this:Hv=this,Uv=this),this._call=e,this._time=n,ry()},stop:function(){this._call&&(this._call=null,this._time=1/0,ry())}};function Qv(e,t,n){var r=new Zv;return r.restart(e,t,n),r}function $v(){Yv(),++Rv;for(var e=Hv,t;e;)(t=Gv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rv}function ey(){Gv=(Wv=qv.now())+Kv,Rv=zv=0;try{$v()}finally{Rv=0,ny(),Gv=0}}function ty(){var e=qv.now(),t=e-Wv;t>Vv&&(Kv-=t,Wv=e)}function ny(){for(var e,t=Hv,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Hv=n);Uv=e,ry(r)}function ry(e){Rv||(zv&&=clearTimeout(zv),e-Gv>24?(e<1/0&&(zv=setTimeout(ey,e-qv.now()-Kv)),Bv&&=clearInterval(Bv)):(Bv||=(Wv=qv.now(),setInterval(ty,Vv)),Rv=1,Jv(ey)))}function iy(e,t,n){var r=new Zv;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}var ay=gh(`start`,`end`,`cancel`,`interrupt`),oy=[],sy=0,cy=1,ly=2,uy=3,dy=4,fy=5,py=6;function my(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;vy(e,n,{name:t,index:r,group:i,on:ay,tween:oy,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:sy})}function hy(e,t){var n=_y(e,t);if(n.state>sy)throw Error(`too late; already scheduled`);return n}function gy(e,t){var n=_y(e,t);if(n.state>uy)throw Error(`too late; already running`);return n}function _y(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error(`transition not found`);return n}function vy(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qv(a,0,n.time);function a(e){n.state=cy,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,u,d,f;if(n.state!==cy)return c();for(l in r)if(f=r[l],f.name===n.name){if(f.state===uy)return iy(o);f.state===dy?(f.state=py,f.timer.stop(),f.on.call(`interrupt`,e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=py,f.timer.stop(),f.on.call(`cancel`,e,e.__data__,f.index,f.group),delete r[l])}if(iy(function(){n.state===uy&&(n.state=dy,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=ly,n.on.call(`start`,e,e.__data__,n.index,n.group),n.state===ly){for(n.state=uy,i=Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=fy,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);n.state===fy&&(n.on.call(`end`,e,e.__data__,n.index,n.group),c())}function c(){for(var i in n.state=py,n.timer.stop(),delete r[t],r)return;delete e.__transition}}function yy(e,t){var n=e.__transition,r,i,a=!0,o;if(n){for(o in t=t==null?null:t+``,n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>ly&&r.state<fy,r.state=py,r.timer.stop(),r.on.call(i?`interrupt`:`cancel`,e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function by(e){return this.each(function(){yy(this,e)})}function xy(e,t){var n,r;return function(){var i=gy(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Sy(e,t,n){var r,i;if(typeof n!=`function`)throw Error();return function(){var a=gy(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Cy(e,t){var n=this._id;if(e+=``,arguments.length<2){for(var r=_y(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?xy:Sy)(n,e,t))}function wy(e,t,n){var r=e._id;return e.each(function(){var e=gy(this,r);(e.value||={})[t]=n.apply(this,arguments)}),function(e){return _y(e,r).value[t]}}function Ty(e,t){var n;return(typeof t==`number`?vv:t instanceof q_?_v:(n=q_(t))?(t=n,_v):Cv)(e,t)}function Ey(e){return function(){this.removeAttribute(e)}}function Dy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oy(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function ky(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Ay(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function jy(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function My(e,t){var n=Ch(e),r=n===`transform`?Mv:Ty;return this.attrTween(e,typeof t==`function`?(n.local?jy:Ay)(n,r,wy(this,`attr.`+e,t)):t==null?(n.local?Dy:Ey)(n):(n.local?ky:Oy)(n,r,t))}function Ny(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Py(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Fy(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Py(e,i)),n}return i._value=t,i}function Iy(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ny(e,i)),n}return i._value=t,i}function Ly(e,t){var n=`attr.`+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=`function`)throw Error();var r=Ch(e);return this.tween(n,(r.local?Fy:Iy)(r,t))}function Ry(e,t){return function(){hy(this,e).delay=+t.apply(this,arguments)}}function zy(e,t){return t=+t,function(){hy(this,e).delay=t}}function By(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?Ry:zy)(t,e)):_y(this.node(),t).delay}function Vy(e,t){return function(){gy(this,e).duration=+t.apply(this,arguments)}}function Hy(e,t){return t=+t,function(){gy(this,e).duration=t}}function Uy(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?Vy:Hy)(t,e)):_y(this.node(),t).duration}function Wy(e,t){if(typeof t!=`function`)throw Error();return function(){gy(this,e).ease=t}}function Gy(e){var t=this._id;return arguments.length?this.each(Wy(t,e)):_y(this.node(),t).ease}function Ky(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=`function`)throw Error();gy(this,e).ease=n}}function qy(e){if(typeof e!=`function`)throw Error();return this.each(Ky(this._id,e))}function Jy(e){typeof e!=`function`&&(e=Fh(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new Cb(r,this._parents,this._name,this._id)}function Yy(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=Array(r),s=0;s<a;++s)for(var c=t[s],l=n[s],u=c.length,d=o[s]=Array(u),f,p=0;p<u;++p)(f=c[p]||l[p])&&(d[p]=f);for(;s<r;++s)o[s]=t[s];return new Cb(o,this._parents,this._name,this._id)}function Xy(e){return(e+``).trim().split(/^|\s+/).every(function(e){var t=e.indexOf(`.`);return t>=0&&(e=e.slice(0,t)),!e||e===`start`})}function Zy(e,t,n){var r,i,a=Xy(t)?hy:gy;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function Qy(e,t){var n=this._id;return arguments.length<2?_y(this.node(),n).on.on(e):this.each(Zy(n,e,t))}function $y(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function eb(){return this.on(`end.remove`,$y(this._id))}function tb(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=Oh(e));for(var r=this._groups,i=r.length,a=Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&(`__data__`in u&&(d.__data__=u.__data__),l[f]=d,my(l[f],t,n,f,l,_y(u,n)));return new Cb(a,this._parents,t,n)}function nb(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=Mh(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),p,m=_y(u,n),h=0,g=f.length;h<g;++h)(p=f[h])&&my(p,t,n,h,f,m);a.push(f),o.push(u)}return new Cb(a,o,t,n)}var rb=v_.prototype.constructor;function ib(){return new rb(this._groups,this._parents)}function ab(e,t){var n,r,i;return function(){var a=Tg(this,e),o=(this.style.removeProperty(e),Tg(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function ob(e){return function(){this.style.removeProperty(e)}}function sb(e,t,n){var r,i=n+``,a;return function(){var o=Tg(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function cb(e,t,n){var r,i,a;return function(){var o=Tg(this,e),s=n(this),c=s+``;return s??(c=s=(this.style.removeProperty(e),Tg(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function lb(e,t){var n,r,i,a=`style.`+t,o=`end.`+a,s;return function(){var c=gy(this,e),l=c.on,u=c.value[a]==null?s||=ob(t):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function ub(e,t,n){var r=(e+=``)==`transform`?jv:Ty;return t==null?this.styleTween(e,ab(e,r)).on(`end.style.`+e,ob(e)):typeof t==`function`?this.styleTween(e,cb(e,r,wy(this,`style.`+e,t))).each(lb(this._id,e)):this.styleTween(e,sb(e,r,t),n).on(`end.style.`+e,null)}function db(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fb(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&db(e,a,n)),r}return a._value=t,a}function pb(e,t,n){var r=`style.`+(e+=``);if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=`function`)throw Error();return this.tween(r,fb(e,t,n??``))}function mb(e){return function(){this.textContent=e}}function hb(e){return function(){this.textContent=e(this)??``}}function gb(e){return this.tween(`text`,typeof e==`function`?hb(wy(this,`text`,e)):mb(e==null?``:e+``))}function _b(e){return function(t){this.textContent=e.call(this,t)}}function vb(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_b(r)),t}return r._value=e,r}function yb(e){var t=`text`;if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=`function`)throw Error();return this.tween(t,vb(e))}function bb(){for(var e=this._name,t=this._id,n=wb(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=_y(c,t);my(c,e,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Cb(r,this._parents,e,n)}function xb(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var n=gy(this,r),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}),i===0&&a()})}var Sb=0;function Cb(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wb(){return++Sb}var Tb=v_.prototype;Cb.prototype={constructor:Cb,select:tb,selectAll:nb,selectChild:Tb.selectChild,selectChildren:Tb.selectChildren,filter:Jy,merge:Yy,selection:ib,transition:bb,call:Tb.call,nodes:Tb.nodes,node:Tb.node,size:Tb.size,empty:Tb.empty,each:Tb.each,on:Qy,attr:My,attrTween:Ly,style:ub,styleTween:pb,text:gb,textTween:yb,remove:eb,tween:Cy,delay:By,duration:Uy,ease:Gy,easeVarying:qy,end:xb,[Symbol.iterator]:Tb[Symbol.iterator]};function Eb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Db={time:null,delay:0,duration:250,ease:Eb};function Ob(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}function kb(e){var t,n;e instanceof Cb?(t=e._id,e=e._name):(t=wb(),(n=Db).time=Yv(),e=e==null?null:e+``);for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&my(c,e,t,l,o,n||Ob(c,t));return new Cb(r,this._parents,e,t)}v_.prototype.interrupt=by,v_.prototype.transition=kb;var Ab=e=>()=>e;function jb(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Mb(e,t,n){this.k=e,this.x=t,this.y=n}Mb.prototype={constructor:Mb,scale:function(e){return e===1?this:new Mb(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Mb(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return`translate(`+this.x+`,`+this.y+`) scale(`+this.k+`)`}};var Nb=new Mb(1,0,0);Mb.prototype;function Pb(e){e.stopImmediatePropagation()}function Fb(e){e.preventDefault(),e.stopImmediatePropagation()}function Ib(e){return(!e.ctrlKey||e.type===`wheel`)&&!e.button}function Lb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute(`viewBox`)?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rb(){return this.__zoom||Nb}function zb(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Bb(){return navigator.maxTouchPoints||`ontouchstart`in this}function Vb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Hb(){var e=Ib,t=Lb,n=Vb,r=zb,i=Bb,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,c=Lv,l=gh(`start`,`zoom`,`end`),u,d,f,p=500,m=150,h=0,g=10;function _(e){e.property(`__zoom`,Rb).on(`wheel.zoom`,w,{passive:!1}).on(`mousedown.zoom`,T).on(`dblclick.zoom`,E).filter(i).on(`touchstart.zoom`,D).on(`touchmove.zoom`,O).on(`touchend.zoom touchcancel.zoom`,k).style(`-webkit-tap-highlight-color`,`rgba(0,0,0,0)`)}_.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property(`__zoom`,Rb),e===i?i.interrupt().each(function(){S(this,arguments).event(r).start().zoom(null,typeof t==`function`?t.apply(this,arguments):t).end()}):x(e,t,n,r)},_.scaleBy=function(e,t,n,r){_.scaleTo(e,function(){var e=this.__zoom.k,n=typeof t==`function`?t.apply(this,arguments):t;return e*n},n,r)},_.scaleTo=function(e,r,i,a){_.transform(e,function(){var e=t.apply(this,arguments),a=this.__zoom,s=i==null?b(e):typeof i==`function`?i.apply(this,arguments):i,c=a.invert(s),l=typeof r==`function`?r.apply(this,arguments):r;return n(y(v(a,l),s,c),e,o)},i,a)},_.translateBy=function(e,r,i,a){_.transform(e,function(){return n(this.__zoom.translate(typeof r==`function`?r.apply(this,arguments):r,typeof i==`function`?i.apply(this,arguments):i),t.apply(this,arguments),o)},null,a)},_.translateTo=function(e,r,i,a,s){_.transform(e,function(){var e=t.apply(this,arguments),s=this.__zoom,c=a==null?b(e):typeof a==`function`?a.apply(this,arguments):a;return n(Nb.translate(c[0],c[1]).scale(s.k).translate(typeof r==`function`?-r.apply(this,arguments):-r,typeof i==`function`?-i.apply(this,arguments):-i),e,o)},a,s)};function v(e,t){return t=Math.max(a[0],Math.min(a[1],t)),t===e.k?e:new Mb(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Mb(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,n,r,i){e.on(`start.zoom`,function(){S(this,arguments).event(i).start()}).on(`interrupt.zoom end.zoom`,function(){S(this,arguments).event(i).end()}).tween(`zoom`,function(){var e=this,a=arguments,o=S(e,a).event(i),s=t.apply(e,a),l=r==null?b(s):typeof r==`function`?r.apply(e,a):r,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),d=e.__zoom,f=typeof n==`function`?n.apply(e,a):n,p=c(d.invert(l).concat(u/d.k),f.invert(l).concat(u/f.k));return function(e){if(e===1)e=f;else{var t=p(e),n=u/t[2];e=new Mb(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function S(e,t,n){return!n&&e.__zooming||new C(e,t)}function C(e,n){this.that=e,this.args=n,this.active=0,this.sourceEvent=null,this.extent=t.apply(e,n),this.taps=0}C.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit(`start`)),this},zoom:function(e,t){return this.mouse&&e!==`mouse`&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&e!==`touch`&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&e!==`touch`&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit(`zoom`),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit(`end`)),this},emit:function(e){var t=b_(this.that).datum();l.call(e,this.that,new jb(e,{sourceEvent:this.sourceEvent,target:_,type:e,transform:this.that.__zoom,dispatch:l}),t)}};function w(t,...i){if(!e.apply(this,arguments))return;var s=S(this,i).event(t),c=this.__zoom,l=Math.max(a[0],Math.min(a[1],c.k*2**r.apply(this,arguments))),u=S_(t);if(s.wheel)(s.mouse[0][0]!==u[0]||s.mouse[0][1]!==u[1])&&(s.mouse[1]=c.invert(s.mouse[0]=u)),clearTimeout(s.wheel);else if(c.k===l)return;else s.mouse=[u,c.invert(u)],yy(this),s.start();Fb(t),s.wheel=setTimeout(d,m),s.zoom(`mouse`,n(y(v(c,l),s.mouse[0],s.mouse[1]),s.extent,o));function d(){s.wheel=null,s.end()}}function T(t,...r){if(f||!e.apply(this,arguments))return;var i=t.currentTarget,a=S(this,r,!0).event(t),s=b_(t.view).on(`mousemove.zoom`,d,!0).on(`mouseup.zoom`,p,!0),c=S_(t,i),l=t.clientX,u=t.clientY;T_(t.view),Pb(t),a.mouse=[c,this.__zoom.invert(c)],yy(this),a.start();function d(e){if(Fb(e),!a.moved){var t=e.clientX-l,r=e.clientY-u;a.moved=t*t+r*r>h}a.event(e).zoom(`mouse`,n(y(a.that.__zoom,a.mouse[0]=S_(e,i),a.mouse[1]),a.extent,o))}function p(e){s.on(`mousemove.zoom mouseup.zoom`,null),E_(e.view,a.moved),Fb(e),a.event(e).end()}}function E(r,...i){if(e.apply(this,arguments)){var a=this.__zoom,c=S_(r.changedTouches?r.changedTouches[0]:r,this),l=a.invert(c),u=a.k*(r.shiftKey?.5:2),d=n(y(v(a,u),c,l),t.apply(this,i),o);Fb(r),s>0?b_(this).transition().duration(s).call(x,d,c,r):b_(this).call(_.transform,d,c,r)}}function D(t,...n){if(e.apply(this,arguments)){var r=t.touches,i=r.length,a=S(this,n,t.changedTouches.length===i).event(t),o,s,c,l;for(Pb(t),s=0;s<i;++s)c=r[s],l=S_(c,this),l=[l,this.__zoom.invert(l),c.identifier],a.touch0?!a.touch1&&a.touch0[2]!==l[2]&&(a.touch1=l,a.taps=0):(a.touch0=l,o=!0,a.taps=1+!!u);u&&=clearTimeout(u),o&&(a.taps<2&&(d=l[0],u=setTimeout(function(){u=null},p)),yy(this),a.start())}}function O(e,...t){if(this.__zooming){var r=S(this,t).event(e),i=e.changedTouches,a=i.length,s,c,l,u;for(Fb(e),s=0;s<a;++s)c=i[s],l=S_(c,this),r.touch0&&r.touch0[2]===c.identifier?r.touch0[0]=l:r.touch1&&r.touch1[2]===c.identifier&&(r.touch1[0]=l);if(c=r.that.__zoom,r.touch1){var d=r.touch0[0],f=r.touch0[1],p=r.touch1[0],m=r.touch1[1],h=(h=p[0]-d[0])*h+(h=p[1]-d[1])*h,g=(g=m[0]-f[0])*g+(g=m[1]-f[1])*g;c=v(c,Math.sqrt(h/g)),l=[(d[0]+p[0])/2,(d[1]+p[1])/2],u=[(f[0]+m[0])/2,(f[1]+m[1])/2]}else if(r.touch0)l=r.touch0[0],u=r.touch0[1];else return;r.zoom(`touch`,n(y(c,l,u),r.extent,o))}}function k(e,...t){if(this.__zooming){var n=S(this,t).event(e),r=e.changedTouches,i=r.length,a,o;for(Pb(e),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),a=0;a<i;++a)o=r[a],n.touch0&&n.touch0[2]===o.identifier?delete n.touch0:n.touch1&&n.touch1[2]===o.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),n.taps===2&&(o=S_(o,this),Math.hypot(d[0]-o[0],d[1]-o[1])<g)){var s=b_(this).on(`dblclick.zoom`);s&&s.apply(this,arguments)}}}return _.wheelDelta=function(e){return arguments.length?(r=typeof e==`function`?e:Ab(+e),_):r},_.filter=function(t){return arguments.length?(e=typeof t==`function`?t:Ab(!!t),_):e},_.touchable=function(e){return arguments.length?(i=typeof e==`function`?e:Ab(!!e),_):i},_.extent=function(e){return arguments.length?(t=typeof e==`function`?e:Ab([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),_):t},_.scaleExtent=function(e){return arguments.length?(a[0]=+e[0],a[1]=+e[1],_):[a[0],a[1]]},_.translateExtent=function(e){return arguments.length?(o[0][0]=+e[0][0],o[1][0]=+e[1][0],o[0][1]=+e[0][1],o[1][1]=+e[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(e){return arguments.length?(n=e,_):n},_.duration=function(e){return arguments.length?(s=+e,_):s},_.interpolate=function(e){return arguments.length?(c=e,_):c},_.on=function(){var e=l.on.apply(l,arguments);return e===l?_:e},_.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,_):Math.sqrt(h)},_.tapDistance=function(e){return arguments.length?(g=+e,_):g},_}var Ub=Symbol(`MiniMapSlots`),Wb=[`id`,`x`,`y`,`rx`,`ry`,`width`,`height`,`fill`,`stroke`,`stroke-width`,`shape-rendering`],Gb=z({name:`MiniMapNode`,compatConfig:{MODE:3},inheritAttrs:!1,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:[`click`,`dblclick`,`mouseenter`,`mousemove`,`mouseleave`],setup(e,{emit:t}){let n=e,r=ot(Ub),i=M(),a=_e(()=>i.style??{});function o(e){t(`click`,e)}function s(e){t(`dblclick`,e)}function c(e){t(`mouseenter`,e)}function u(e){t(`mousemove`,e)}function d(e){t(`mouseleave`,e)}return(e,t)=>!e.hidden&&e.dimensions.width!==0&&e.dimensions.height!==0?(l(),V(G,{key:0},[R(r)[`node-${n.type}`]?(l(),K(k(R(r)[`node-${n.type}`]),Ve(J({key:0},{...n,...e.$attrs})),null,16)):(l(),V(`rect`,J({key:1,id:e.id},e.$attrs,{class:[`vue-flow__minimap-node`,{selected:e.selected,dragging:e.dragging}],x:e.position.x,y:e.position.y,rx:e.borderRadius,ry:e.borderRadius,width:e.dimensions.width,height:e.dimensions.height,fill:e.color||a.value.background||a.value.backgroundColor,stroke:e.strokeColor,"stroke-width":e.strokeWidth,"shape-rendering":e.shapeRendering,onClick:o,onDblclick:s,onMouseenter:c,onMousemove:u,onMouseleave:d}),null,16,Wb))],64)):L(``,!0)}}),Kb=[`width`,`height`,`viewBox`,`aria-labelledby`],qb=[`id`],Jb=[`d`,`fill`,`stroke`,`stroke-width`],Yb=z({name:`MiniMap`,compatConfig:{MODE:3},props:{nodeColor:{type:[String,Function],default:`#e2e2e2`},nodeStrokeColor:{type:[String,Function],default:`transparent`},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:`rgb(240, 240, 240, 0.6)`},maskStrokeColor:{default:`none`},maskStrokeWidth:{default:1},position:{default:`bottom-right`},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:`Vue Flow mini map`},inversePan:{type:Boolean,default:!1},zoomStep:{default:1},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:[`click`,`nodeClick`,`nodeDblclick`,`nodeMouseenter`,`nodeMousemove`,`nodeMouseleave`],setup(e,{emit:t}){let n=y(),r=M(),{id:i,edges:a,viewport:o,translateExtent:s,dimensions:c,emits:u,d3Selection:d,d3Zoom:f,getNodesInitialized:p}=Dm(),m=F();ee(Ub,n);let h=_e(()=>e.width??r.style?.width??200),g=_e(()=>e.height??r.style?.height??150),_=typeof window>`u`||window.chrome?`crispEdges`:`geometricPrecision`,v=I(()=>typeof e.nodeColor==`string`?()=>e.nodeColor:e.nodeColor),b=I(()=>typeof e.nodeStrokeColor==`string`?()=>e.nodeStrokeColor:e.nodeStrokeColor),x=I(()=>typeof e.nodeClassName==`string`?()=>e.nodeClassName:typeof e.nodeClassName==`function`?e.nodeClassName:()=>``),S=I(()=>$d(p.value.filter(e=>!e.hidden))),C=I(()=>({x:-o.value.x/o.value.zoom,y:-o.value.y/o.value.zoom,width:c.value.width/o.value.zoom,height:c.value.height/o.value.zoom})),w=I(()=>p.value&&p.value.length?Qd(S.value,C.value):C.value),T=I(()=>{let e=w.value.width/h.value,t=w.value.height/g.value;return Math.max(e,t)}),E=I(()=>{let t=T.value*h.value,n=T.value*g.value,r=e.offsetScale*T.value;return{offset:r,x:w.value.x-(t-w.value.width)/2-r,y:w.value.y-(n-w.value.height)/2-r,width:t+r*2,height:n+r*2}}),D=I(()=>!E.value.x||!E.value.y?``:`
    M${E.value.x-E.value.offset},${E.value.y-E.value.offset}
    h${E.value.width+E.value.offset*2}
    v${E.value.height+E.value.offset*2}
    h${-E.value.width-E.value.offset*2}z
    M${C.value.x+e.maskBorderRadius},${C.value.y}
    h${C.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${C.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(C.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(C.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);re(t=>{if(m.value){let n=b_(m.value),r=Hb().wheelDelta(t=>df(t)*(e.zoomStep/10)).on(`zoom`,e.pannable?t=>{if(t.sourceEvent.type!==`mousemove`||!d.value||!f.value)return;let n=T.value*Math.max(1,o.value.zoom)*(e.inversePan?-1:1),r={x:o.value.x-t.sourceEvent.movementX*n,y:o.value.y-t.sourceEvent.movementY*n},i=[[0,0],[c.value.width,c.value.height]],a=Nb.translate(r.x,r.y).scale(o.value.zoom),l=f.value.constrain()(a,i,s.value);f.value.transform(d.value,l)}:()=>{}).on(`zoom.wheel`,e.zoomable?t=>{if(t.sourceEvent.type!==`wheel`||!d.value||!f.value)return;let n=t.sourceEvent.ctrlKey&&Bf()?10:1,r=-t.sourceEvent.deltaY*(t.sourceEvent.deltaMode===1?.05:t.sourceEvent.deltaMode?1:.002)*e.zoomStep,i=o.value.zoom*2**(r*n);f.value.scaleTo(d.value,i)}:()=>{});n.call(r),t(()=>{n.on(`zoom`,null)})}},{flush:`post`});function O(e){let[n,r]=S_(e);t(`click`,{event:e,position:{x:n,y:r}})}function k(e,n){let r={event:e,node:n,connectedEdges:tf([n],a.value)};u.miniMapNodeClick(r),t(`nodeClick`,r)}function A(e,n){let r={event:e,node:n,connectedEdges:tf([n],a.value)};u.miniMapNodeDoubleClick(r),t(`nodeDblclick`,r)}function j(e,n){let r={event:e,node:n,connectedEdges:tf([n],a.value)};u.miniMapNodeMouseEnter(r),t(`nodeMouseenter`,r)}function N(e,n){let r={event:e,node:n,connectedEdges:tf([n],a.value)};u.miniMapNodeMouseMove(r),t(`nodeMousemove`,r)}function te(e,n){let r={event:e,node:n,connectedEdges:tf([n],a.value)};u.miniMapNodeMouseLeave(r),t(`nodeMouseleave`,r)}return(e,t)=>(l(),K(R(ah),{position:e.position,class:q([`vue-flow__minimap`,{pannable:e.pannable,zoomable:e.zoomable}])},{default:Y(()=>[(l(),V(`svg`,{ref_key:`el`,ref:m,width:h.value,height:g.value,viewBox:[E.value.x,E.value.y,E.value.width,E.value.height].join(` `),role:`img`,"aria-labelledby":`vue-flow__minimap-${R(i)}`,onClick:O},[e.ariaLabel?(l(),V(`title`,{key:0,id:`vue-flow__minimap-${R(i)}`},B(e.ariaLabel),9,qb)):L(``,!0),(l(!0),V(G,null,Le(R(p),t=>(l(),K(Gb,{id:t.id,key:t.id,f:``,position:t.computedPosition,dimensions:t.dimensions,selected:t.selected,dragging:t.dragging,style:Je(t.style),class:q(x.value(t)),color:v.value(t),"border-radius":e.nodeBorderRadius,"stroke-color":b.value(t),"stroke-width":e.nodeStrokeWidth,"shape-rendering":R(_),type:t.type,hidden:t.hidden,onClick:e=>k(e,t),onDblclick:e=>A(e,t),onMouseenter:e=>j(e,t),onMousemove:e=>N(e,t),onMouseleave:e=>te(e,t)},null,8,[`id`,`position`,`dimensions`,`selected`,`dragging`,`style`,`class`,`color`,`border-radius`,`stroke-color`,`stroke-width`,`shape-rendering`,`type`,`hidden`,`onClick`,`onDblclick`,`onMouseenter`,`onMousemove`,`onMouseleave`]))),128)),U(`path`,{class:`vue-flow__minimap-mask`,d:D.value,fill:e.maskColor,stroke:e.maskStrokeColor,"stroke-width":e.maskStrokeWidth,"fill-rule":`evenodd`},null,8,Jb)],8,Kb))]),_:1},8,[`position`,`class`]))}}),Xb={name:`ControlButton`,compatConfig:{MODE:3}},Zb=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},Qb={type:`button`,class:`vue-flow__controls-button`};function $b(e,t,n,i,a,o){return l(),V(`button`,Qb,[r(e.$slots,`default`)])}var ex=Zb(Xb,[[`render`,$b]]),tx={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 32 32`},nx=[U(`path`,{d:`M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z`},null,-1)];function rx(e,t){return l(),V(`svg`,tx,nx)}var ix={render:rx},ax={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 32 5`},ox=[U(`path`,{d:`M0 0h32v4.2H0z`},null,-1)];function sx(e,t){return l(),V(`svg`,ax,ox)}var cx={render:sx},lx={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 32 30`},ux=[U(`path`,{d:`M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z`},null,-1)];function dx(e,t){return l(),V(`svg`,lx,ux)}var fx={render:dx},px={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 25 32`},mx=[U(`path`,{d:`M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z`},null,-1)];function hx(e,t){return l(),V(`svg`,px,mx)}var gx={render:hx},_x={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 25 32`},vx=[U(`path`,{d:`M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z`},null,-1)];function yx(e,t){return l(),V(`svg`,_x,vx)}var bx={render:yx},xx=z({name:`Controls`,compatConfig:{MODE:3},props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>hd.BottomLeft}},emits:[`zoomIn`,`zoomOut`,`fitView`,`interactionChange`],setup(e,{emit:t}){let{nodesDraggable:n,nodesConnectable:i,elementsSelectable:a,setInteractive:o,zoomIn:s,zoomOut:c,fitView:u,viewport:d,minZoom:f,maxZoom:p}=Dm(),m=_e(()=>n.value||i.value||a.value),h=_e(()=>d.value.zoom<=f.value),g=_e(()=>d.value.zoom>=p.value);function _(){s(),t(`zoomIn`)}function v(){c(),t(`zoomOut`)}function y(){u(e.fitViewParams),t(`fitView`)}function b(){o(!m.value),t(`interactionChange`,!m.value)}return(e,t)=>(l(),K(R(ah),{class:`vue-flow__controls`,position:e.position},{default:Y(()=>[r(e.$slots,`top`),e.showZoom?(l(),V(G,{key:0},[r(e.$slots,`control-zoom-in`,{},()=>[H(ex,{class:`vue-flow__controls-zoomin`,disabled:g.value,onClick:_},{default:Y(()=>[r(e.$slots,`icon-zoom-in`,{},()=>[(l(),K(k(R(ix))))])]),_:3},8,[`disabled`])]),r(e.$slots,`control-zoom-out`,{},()=>[H(ex,{class:`vue-flow__controls-zoomout`,disabled:h.value,onClick:v},{default:Y(()=>[r(e.$slots,`icon-zoom-out`,{},()=>[(l(),K(k(R(cx))))])]),_:3},8,[`disabled`])])],64)):L(``,!0),e.showFitView?r(e.$slots,`control-fit-view`,{key:1},()=>[H(ex,{class:`vue-flow__controls-fitview`,onClick:y},{default:Y(()=>[r(e.$slots,`icon-fit-view`,{},()=>[(l(),K(k(R(fx))))])]),_:3})]):L(``,!0),e.showInteractive?r(e.$slots,`control-interactive`,{key:2},()=>[e.showInteractive?(l(),K(ex,{key:0,class:`vue-flow__controls-interactive`,onClick:b},{default:Y(()=>[m.value?r(e.$slots,`icon-unlock`,{key:0},()=>[(l(),K(k(R(bx))))]):L(``,!0),m.value?L(``,!0):r(e.$slots,`icon-lock`,{key:1},()=>[(l(),K(k(R(gx))))])]),_:3})):L(``,!0)]):L(``,!0),r(e.$slots,`default`)]),_:3},8,[`position`]))}});const Sx=[{title:``,icon:`edge-style`,items:[{key:`edgeType`,label:``,type:`select`,defaultValue:`default`,options:[{label:` (Bezier)`,value:`default`},{label:` (Simple Bezier)`,value:`simplebezier`},{label:` (Smooth Step)`,value:`smoothstep`},{label:` (Step)`,value:`step`},{label:` (Straight)`,value:`straight`}],description:``},{key:`edgeStrokeWidth`,label:``,type:`range`,defaultValue:2,range:{min:1,max:8,step:.5},unit:`px`,description:``},{key:`edgeColor`,label:``,type:`color`,defaultValue:`#94a3b8`,description:``},{key:`edgeSelectedColor`,label:``,type:`color`,defaultValue:`#3b82f6`,description:``},{key:`edgeDragColor`,label:``,type:`color`,defaultValue:`#6366f1`,description:``},{key:`edgeAnimated`,label:``,type:`checkbox`,defaultValue:!1,description:``}]},{title:``,icon:`canvas`,items:[{key:`showBackground`,label:``,type:`checkbox`,defaultValue:!0},{key:`backgroundPattern`,label:``,type:`select`,defaultValue:`dots`,options:[{label:` (Dots)`,value:`dots`},{label:` (Lines)`,value:`lines`}]},{key:`backgroundGap`,label:``,type:`range`,defaultValue:15,range:{min:10,max:30,step:5},unit:`px`},{key:`backgroundColor`,label:``,type:`color`,defaultValue:`#f8fafc`},{key:`backgroundPatternColor`,label:``,type:`color`,defaultValue:`#e2e8f0`}]},{title:``,icon:`widget`,items:[{key:`showMiniMap`,label:``,type:`checkbox`,defaultValue:!0,description:``},{key:`showControls`,label:``,type:`checkbox`,defaultValue:!0,description:``},{key:`snapToGrid`,label:``,type:`checkbox`,defaultValue:!0,description:``}]},{title:``,icon:`layout`,items:[{key:`autoLayoutDirection`,label:``,type:`select`,defaultValue:`LR`,options:[{label:`  `,value:`LR`},{label:`  `,value:`RL`},{label:`  `,value:`TB`},{label:`  `,value:`BT`}],description:``},{key:`autoLayoutNodeSpacing`,label:``,type:`range`,defaultValue:160,range:{min:10,max:320,step:10},unit:`px`,description:``},{key:`autoLayoutRankSpacing`,label:``,type:`range`,defaultValue:240,range:{min:10,max:480,step:10},unit:`px`,description:``},{key:`autoLayoutPadding`,label:``,type:`range`,defaultValue:120,range:{min:0,max:300,step:10},unit:`px`,description:``}]},{title:``,icon:`zoom-range`,items:[{key:`minZoom`,label:``,type:`range`,defaultValue:.25,range:{min:.1,max:1,step:.05},unit:`x`,description:``},{key:`maxZoom`,label:``,type:`range`,defaultValue:2,range:{min:1,max:4,step:.5},unit:`x`,description:``}]}],Cx={:{category:``,headerFrom:`#a855f7`,headerTo:`#7c3aed`,portColor:`#c084fc`,portBorder:`#a855f7`,portHoverColor:`#7e22ce`,selectedBorder:`#a855f7`},:{category:``,headerFrom:`#3b82f6`,headerTo:`#2563eb`,portColor:`#60a5fa`,portBorder:`#3b82f6`,portHoverColor:`#1d4ed8`,selectedBorder:`#3b82f6`},:{category:``,headerFrom:`#10b981`,headerTo:`#059669`,portColor:`#34d399`,portBorder:`#10b981`,portHoverColor:`#047857`,selectedBorder:`#10b981`},:{category:``,headerFrom:`#f59e0b`,headerTo:`#d97706`,portColor:`#fbbf24`,portBorder:`#f59e0b`,portHoverColor:`#b45309`,selectedBorder:`#f59e0b`},:{category:``,headerFrom:`#ec4899`,headerTo:`#db2777`,portColor:`#f472b6`,portBorder:`#ec4899`,portHoverColor:`#be185d`,selectedBorder:`#ec4899`},:{category:``,headerFrom:`#6366f1`,headerTo:`#4f46e5`,portColor:`#818cf8`,portBorder:`#6366f1`,portHoverColor:`#4338ca`,selectedBorder:`#6366f1`},:{category:``,headerFrom:`#f43f5e`,headerTo:`#e11d48`,portColor:`#fb7185`,portBorder:`#f43f5e`,portHoverColor:`#be123c`,selectedBorder:`#f43f5e`},:{category:``,headerFrom:`#f59e0b`,headerTo:`#d97706`,portColor:`#fbbf24`,portBorder:`#f59e0b`,portHoverColor:`#b45309`,selectedBorder:`#f59e0b`},:{category:``,headerFrom:`#8b5cf6`,headerTo:`#7c3aed`,portColor:`#a78bfa`,portBorder:`#8b5cf6`,portHoverColor:`#6d28d9`,selectedBorder:`#8b5cf6`}};function wx(e){return Cx[e]||{category:``,headerFrom:`#64748b`,headerTo:`#475569`,portColor:`#94a3b8`,portBorder:`#64748b`,portHoverColor:`#334155`,selectedBorder:`#64748b`}}const Tx={containerDefaults:{width:360,height:240,headerHeight:48,padding:{top:24,right:24,bottom:24,left:24}},childEstimate:{width:320,height:160}};var{containerDefaults:Ex}=Tx;const Dx={top:Ex.padding.top,right:Ex.padding.right,bottom:Ex.padding.bottom,left:Ex.padding.left},Ox=Ex.width,kx=Ex.height,Ax=Ex.headerHeight,jx=Tx.childEstimate.width,Mx=Tx.childEstimate.height,Nx=`edge-layer-container`;function Px(e){return JSON.parse(JSON.stringify(e))}function Fx(e){return{...e}}function Ix(e){let t=Fx(Dx);if(!e||typeof e!=`object`||!e)return t;let n=e,r=e=>typeof e==`number`&&Number.isFinite(e);return r(n.x)&&(r(n.left)||(t.left=n.x),r(n.right)||(t.right=n.x)),r(n.y)&&(r(n.top)||(t.top=n.y),r(n.bottom)||(t.bottom=n.y)),r(n.top)&&(t.top=n.top),r(n.right)&&(t.right=n.right),r(n.bottom)&&(t.bottom=n.bottom),r(n.left)&&(t.left=n.left),t}function Lx(e){delete e.selected,delete e.dragging,delete e.positionAbsolute,delete e.extent}function Rx(e){return e.type===`loopContainer`?`loopContainer`:e.data?.variant?String(e.data.variant):e.id.split(`_`)[0]||`node`}function zx(e){return`${Rx(e)}_${Date.now()}_${Math.random().toString(36).slice(2,9)}`}function Bx(e){return e.data?.variant?String(e.data.variant):e.id.split(`_`)[0]||e.type||``}function Vx(e){let t=e;return t.dimensions?.width??t.data?.width??jx}function Hx(e){let t=e;return t.dimensions?.height??t.data?.height??Mx}function Ux(e){if(!e)return;let t=window?.__updateNodeInternals;typeof t==`function`&&requestAnimationFrame(()=>t(e))}function Wx(e,t,n){let r=n.get(e.id);if(r)return r;let i=e.position?.x??0,a=e.position?.y??0,o={x:i,y:a};if(e.parentNode){let r=t.get(e.parentNode);if(r){let e=Wx(r,t,n);o.x+=e.x,o.y+=e.y}}return n.set(e.id,o),o}function Gx(e,t){let n=0,r=e.parentNode;for(;r;){let e=t.get(r);if(!e)break;n+=1,r=e.parentNode}return n}var Kx={nodes:`nodeEditor:nodes`,edges:`nodeEditor:edges`},qx=250;function Jx(e){if(typeof window>`u`)return[];try{let t=window.localStorage.getItem(e);if(!t)return[];let n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.warn(`: ${e}`,t),[]}}function Yx(e,t){let n=null,r=!1;function i(){if(!(typeof window>`u`||!r)){r=!1;try{window.localStorage.setItem(Kx.nodes,JSON.stringify(e.value)),window.localStorage.setItem(Kx.edges,JSON.stringify(t.value))}catch(e){console.warn(``,e)}}}function a(e=!1){if(!(typeof window>`u`)){if(r=!0,e){n!==null&&(window.clearTimeout(n),n=null),i();return}n===null&&(n=window.setTimeout(()=>{n=null,i()},qx))}}return typeof window<`u`&&window.addEventListener(`beforeunload`,()=>{n!==null&&(window.clearTimeout(n),n=null),i()}),{schedulePersist:a,flushPersistentState:i}}function Xx(){return{nodes:Jx(Kx.nodes),edges:Jx(Kx.edges)}}function Zx(e,t){function n(e){return e?typeof e==`string`?e.split(/\s+/).filter(Boolean):Array.isArray(e)?e.flatMap(e=>typeof e==`string`?e.split(/\s+/).filter(Boolean):[]).filter(Boolean):typeof e==`object`?Object.entries(e).filter(([,e])=>!!e).map(([e])=>e).filter(Boolean):[]:[]}function r(e){if(!e)return;let t=typeof e.class==`string`?e.class.split(/\s+/).filter(e=>e&&e!==`node-layer-container`&&e!==`node-layer-child`):[];(e.type===`loopContainer`||e.data?.isContainer)&&t.push(`node-layer-container`),e.parentNode&&t.push(`node-layer-child`),e.class=t.join(` `)}function i(){}function a(t){if(!t)return;let r=n(t.class).filter(e=>e!==Nx),i=e.value.find(e=>e.id===t.source),a=e.value.find(e=>e.id===t.target),o=i?.parentNode??null,s=a?.parentNode??null,c=!!(o&&o===s||i?.type===`loopContainer`&&s===i.id||a?.type===`loopContainer`&&o===a.id);c&&(r.push(Nx),typeof window<`u`&&requestAnimationFrame(()=>{let e=document.querySelector(`[data-id="${t.id}"]`)?.parentElement;e&&(c?e.classList.add(Nx):e.classList.remove(Nx))}))}function o(){t.value.forEach(e=>a(e))}return{applyNodeLayerClass:r,refreshNodeLayerClasses:i,applyEdgeLayerClass:a,refreshEdgeLayerClasses:o}}function Qx(e,t,n){let r=F([]),i=F(-1),a=!1,o=!1;function s(e,t){return JSON.stringify({nodes:e.map(e=>({id:e.id,type:e.type,position:e.position,data:e.data,...e.parentNode?{parentNode:e.parentNode}:{},...e.expandParent?{expandParent:e.expandParent}:{},...e.width?{width:e.width}:{},...e.height?{height:e.height}:{},...e.style?{style:e.style}:{}})),edges:t.map(e=>({id:e.id,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle}))})}function c(){return s(e.value,t.value)}function l(){if(i.value<0||i.value>=r.value.length)return null;let e=r.value[i.value];return e?s(e.nodes,e.edges):null}function u(){if(!a||o)return;let s=c(),u=l();if(s===u)return;let d={nodes:JSON.parse(JSON.stringify(e.value)),edges:JSON.parse(JSON.stringify(t.value))};i.value<r.value.length-1&&(r.value=r.value.slice(0,i.value+1)),r.value.push(d),i.value++,r.value.length>50&&(r.value.shift(),i.value--),n()}let d=Di(()=>{u()},500);function f(a,s){if(i.value<=0)return;o=!0,i.value--;let c=r.value[i.value];c&&(e.value=JSON.parse(JSON.stringify(c.nodes)),t.value=JSON.parse(JSON.stringify(c.edges)),a(c),s()),o=!1,n()}function p(a,s){if(i.value>=r.value.length-1)return;o=!0,i.value++;let c=r.value[i.value];c&&(e.value=JSON.parse(JSON.stringify(c.nodes)),t.value=JSON.parse(JSON.stringify(c.edges)),a(c),s()),o=!1,n()}function m(){r.value=[],i.value=-1}function h(){a||(r.value=[{nodes:JSON.parse(JSON.stringify(e.value)),edges:JSON.parse(JSON.stringify(t.value))}],i.value=0,a=!0,console.log(`%c  (: 1)`,`color: #10b981; font-weight: bold`))}function g(){o=!0}function _(){o=!1,u()}function v(){return{totalRecords:r.value.length,currentIndex:i.value,canUndo:y.value,canRedo:b.value,records:r.value.map((e,t)=>({index:t,nodesCount:e.nodes.length,edgesCount:e.edges.length,isCurrent:t===i.value}))}}let y=I(()=>i.value>0),b=I(()=>i.value<r.value.length-1),x=I(()=>r.value);return{canUndo:y,canRedo:b,historyRecords:x,recordHistory:u,recordHistoryDebounced:d,undo:f,redo:p,clearHistory:m,initializeHistory:h,batchStart:g,batchEnd:_,getHistoryDebugInfo:v}}function $x(e,t,n){let r=F(null),i=F(null),a=F(!1),o=I(()=>e.value.find(e=>e.id===r.value));function s(e){r.value=e,e===null&&(a.value=!1),i.value&&i.value!==e&&(i.value=null)}function c(e){r.value=e,a.value=!0}function l(){a.value=!1}function u(t){t&&e.value.some(e=>e.id===t)&&(r.value=t,i.value=t)}function d(){i.value&&=null}function f(r,i){let a=e.value.find(e=>e.id===r);if(!a?.data)return;let o=typeof i==`string`?i.trim():``,s=a.data.label||``,c=o.length>0?o:s;a.data.label!==c&&(a.data={...a.data,label:c},t(),n())}return{selectedNodeId:r,selectedNode:o,renamingNodeId:i,isNodeEditorVisible:a,selectNode:s,openNodeEditor:c,closeNodeEditor:l,startRenamingNode:u,stopRenamingNode:d,renameNode:f}}function eS(e,t,n,r,i){function a(e){t.value.push(e),n(e),i()}function o(e){t.value=t.value.filter(t=>t.id!==e),r(),i()}function s(n){if(n.source===n.target)return console.warn(``),!1;if(t.value.some(e=>e.source===n.source&&e.sourceHandle===n.sourceHandle&&e.target===n.target&&e.targetHandle===n.targetHandle))return console.warn(``),!1;let r=e.value.find(e=>e.id===n.source),i=e.value.find(e=>e.id===n.target);if(!r||!i)return console.warn(``),!1;let a=r.parentNode||null,o=i.parentNode||null,s=r.type===`loopContainer`,c=i.type===`loopContainer`,l=new Set([`loop-left`,`loop-right`]),u=n.sourceHandle===`loop`,d=n.targetHandle===`loop-in`;if(u){if(r.data?.config?.containerId!==n.target)return console.warn(``),!1;if(n.targetHandle!==`loop-in`)return console.warn(``),!1}if(d){if(i.data?.config?.forNodeId!==n.source)return console.warn(``),!1;if(n.sourceHandle!==`loop`)return console.warn(``),!1}if(s&&l.has(n.sourceHandle||``)&&o!==r.id||c&&l.has(n.targetHandle||``)&&a!==i.id)return console.warn(``),!1;let f=r.data?.inputs?.some(e=>e.id===n.sourceHandle),p=r.data?.outputs?.some(e=>e.id===n.sourceHandle),m=i.data?.inputs?.some(e=>e.id===n.targetHandle),h=i.data?.outputs?.some(e=>e.id===n.targetHandle),g=s&&n.sourceHandle===`loop-left`,_=c&&n.targetHandle===`loop-left`,v=s&&n.sourceHandle===`loop-right`,y=c&&n.targetHandle===`loop-right`;return g&&!m?(console.warn(``),!1):_?(console.warn(``),!1):y&&!p?(console.warn(``),!1):v?(console.warn(``),!1):!(p&&m)&&!(f&&h)?(console.warn(``),!1):a&&!s&&!c&&o!==a||o&&!s&&!c&&a!==o?(console.warn(``),!1):!0}return{addEdge:a,removeEdge:o,validateConnection:s}}var tS=new Set;function nS(e){function t(e){let t=e.data||{},n=t.config||{},r=e.style||{},i=e=>{if(typeof e==`number`)return e;if(typeof e==`string`){let t=parseFloat(e);return Number.isFinite(t)?t:void 0}},a=i(r?.width),o=i(r?.height),s=i(e.width),c=i(e.height),l=i(e.dimensions?.width),u=i(e.dimensions?.height);return{width:t.width??a??s??l??Ox,height:t.height??o??c??u??kx,headerHeight:n.headerHeight??Ax,padding:Ix(n.padding)}}function n(e){let t=e.data||{},n=[{id:`loop-in`,name:``,type:`any`},{id:`loop-right`,name:``,type:`any`}],r=[{id:`loop-left`,name:``,type:`any`}];e.data={config:{},...t,inputs:n,outputs:r}}function r(e,t,n){let r=t.padding.left,i=t.headerHeight+t.padding.top,a=Math.max(e.x,r),o=Math.max(e.y,i);return{x:a,y:o}}function i(e,n,r){let i=Math.max(n,Ox),a=Math.max(r,kx),o=t(e),s=typeof e.width==`number`?e.width:o.width,c=typeof e.height==`number`?e.height:o.height,l=Math.abs(s-i)>.5,u=Math.abs(c-a)>.5;(l||u)&&tS.add(e.id),e.data={...e.data,config:e.data?.config||{},inputs:e.data?.inputs||[],outputs:e.data?.outputs||[],width:i,height:a},e.width=i,e.height=a,e.style={...e.style||{},width:`${i}px`,height:`${a}px`}}function a(n,r,a){let o=t(n),s=o.padding,c=o.headerHeight+s.top,l=Vx(r),u=Hx(r),d=s.left-a.x,f=c-a.y;if(d=d>0?d:0,f=f>0?f:0,d!==0||f!==0){let t=e.value.filter(e=>e.parentNode===n.id&&e.id!==r.id),i=()=>{n.position||={x:0,y:0}};d!==0&&(i(),n.position.x-=d),f!==0&&(i(),n.position.y-=f),t.length>0&&t.forEach(e=>{let t=e.position?.x??0,n=e.position?.y??0;e.position={x:t+d,y:n+f}})}let p={x:a.x+d,y:a.y+f},m=Math.max(o.width,p.x+l+s.right),h=Math.max(o.height,p.y+u+s.bottom);return i(n,m,h),{config:t(n),position:p}}function o(e,n){let r=Vx(e),i=t(n),o={x:Math.max(i.padding.left,(i.width-r)/2),y:i.headerHeight+i.padding.top},{config:s}=a(n,e,o),l=Vx(e),u=Math.max(s.padding.left,(s.width-l)/2),d=s.headerHeight+s.padding.top;e.position={x:u,y:d},c(n)}function s(i){let a=e.value.find(e=>e.id===i);if(!a)return;n(a);let s=t(a),c=e.value.filter(e=>e.parentNode===i);if(c.length===0){let e=Ox,t=kx,n=typeof a.width==`number`?a.width:s.width,r=typeof a.height==`number`?a.height:s.height,i=Math.abs(n-e)>.5,o=Math.abs(r-t)>.5;(i||o)&&tS.add(a.id),a.data={...a.data,config:a.data?.config||{},inputs:a.data?.inputs||[],outputs:a.data?.outputs||[],width:e,height:t},a.width=e,a.height=t,a.style={...a.style||{},width:`${e}px`,height:`${t}px`};return}if(c.length===1&&c[0]){o(c[0],a);return}let l=s.headerHeight+s.padding.top,u=s.padding.left,d=l;c.forEach(e=>{let t=r(e.position,s,e);e.position=t;let n=Vx(e),i=Hx(e);u=Math.max(u,t.x+n),d=Math.max(d,t.y+i)});let f=Math.max(Ox,u+s.padding.right),p=Math.max(kx,d+s.padding.bottom),m=typeof a.width==`number`?a.width:s.width,h=typeof a.height==`number`?a.height:s.height,g=Math.abs(m-f)>.5,_=Math.abs(h-p)>.5;(g||_)&&tS.add(a.id),a.data={...a.data,config:a.data?.config||{},inputs:a.data?.inputs||[],outputs:a.data?.outputs||[],width:f,height:p},a.width=f,a.height=p,a.style={...a.style||{},width:`${f}px`,height:`${p}px`}}function c(n){let r=t(n),i=e.value.filter(e=>e.parentNode===n.id);if(i.length===0){let e=Ox,t=kx,i=typeof n.width==`number`?n.width:r.width,a=typeof n.height==`number`?n.height:r.height,o=Math.abs(i-e)>.5,s=Math.abs(a-t)>.5;(o||s)&&tS.add(n.id),n.data={...n.data,config:n.data?.config||{},inputs:n.data?.inputs||[],outputs:n.data?.outputs||[],width:e,height:t},n.width=e,n.height=t,n.style={...n.style||{},width:`${e}px`,height:`${t}px`};return}let a=r.padding.left,o=r.headerHeight+r.padding.top;i.forEach(e=>{let t=Vx(e),n=Hx(e),r=e.position.x,i=e.position.y;a=Math.max(a,r+t),o=Math.max(o,i+n)});let s=Math.max(Ox,a+r.padding.right),c=Math.max(kx,o+r.padding.bottom),l=typeof n.width==`number`?n.width:r.width,u=typeof n.height==`number`?n.height:r.height,d=Math.abs(l-s)>.5,f=Math.abs(u-c)>.5;(d||f)&&(tS.add(n.id),n.data={...n.data,config:n.data?.config||{},inputs:n.data?.inputs||[],outputs:n.data?.outputs||[],width:s,height:c},n.width=s,n.height=c,n.style={...n.style||{},width:`${s}px`,height:`${c}px`},Ux(n.id))}function l(t,n,r=`normal`){let i=e.value.find(e=>e.id===t);i&&i.data&&(i.data.isHighlighted=n,i.data.highlightType=n?r:void 0)}return{getContainerVisualConfig:t,layoutContainerChildren:s,updateContainerBounds:c,ensureContainerCapacity:a,clampChildPosition:r,setContainerHighlight:l,skipDimensionUpdate:tS}}var rS=Wt(((e,t)=>{var n=`\0`,r=`\0`,i=``,a=class{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>void 0;_defaultEdgeLabelFn=()=>void 0;_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(e){e&&(this._isDirected=Object.hasOwn(e,`directed`)?e.directed:!0,this._isMultigraph=Object.hasOwn(e,`multigraph`)?e.multigraph:!1,this._isCompound=Object.hasOwn(e,`compound`)?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[r]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!=`function`&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(t=>Object.keys(e._in[t]).length===0)}sinks(){var e=this;return this.nodes().filter(t=>Object.keys(e._out[t]).length===0)}setNodes(e,t){var n=arguments,r=this;return e.forEach(function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return Object.hasOwn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var t=this;if(Object.hasOwn(this._nodes,e)){var n=e=>t.removeEdge(t._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(e){t.setParent(e)}),delete this._children[e]),Object.keys(this._in[e]).forEach(n),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw Error(`Cannot set parent in a non-compound graph`);if(t===void 0)t=r;else{t+=``;for(var n=t;n!==void 0;n=this.parent(n))if(n===e)throw Error(`Setting `+t+` as parent of `+e+` would create a cycle`);this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}}children(e=r){if(this._isCompound){var t=this._children[e];if(t)return Object.keys(t)}else if(e===r)return this.nodes();else if(this.hasNode(e))return[]}predecessors(e){var t=this._preds[e];if(t)return Object.keys(t)}successors(e){var t=this._sucs[e];if(t)return Object.keys(t)}neighbors(e){var t=this.predecessors(e);if(t){let r=new Set(t);for(var n of this.successors(e))r.add(n);return Array.from(r.values())}}isLeaf(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;Object.entries(this._nodes).forEach(function([n,r]){e(n)&&t.setNode(n,r)}),Object.values(this._edgeObjs).forEach(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};function i(e){var a=n.parent(e);return a===void 0||t.hasNode(a)?(r[e]=a,a):a in r?r[a]:i(a)}return this._isCompound&&t.nodes().forEach(e=>t.setParent(e,i(e))),t}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!=`function`&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return e.reduce(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,t,n,r,i=!1,a=arguments[0];typeof a==`object`&&a&&`v`in a?(e=a.v,t=a.w,n=a.name,arguments.length===2&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=``+e,t=``+t,n!==void 0&&(n=``+n);var s=c(this._isDirected,e,t,n);if(Object.hasOwn(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(n!==void 0&&!this._isMultigraph)throw Error(`Cannot set a named edge when isMultigraph = false`);this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(e,t,n);var u=l(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[s]=u,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][s]=u,this._out[e][s]=u,this._edgeCount++,this}edge(e,t,n){var r=arguments.length===1?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[r]}edgeAsObj(){let e=this.edge(...arguments);return typeof e==`object`?e:{label:e}}hasEdge(e,t,n){var r=arguments.length===1?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return Object.hasOwn(this._edgeLabels,r)}removeEdge(e,t,n){var r=arguments.length===1?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=Object.values(n);return t?r.filter(e=>e.v===t):r}}outEdges(e,t){var n=this._out[e];if(n){var r=Object.values(n);return t?r.filter(e=>e.w===t):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}};function o(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function c(e,t,r,a){var o=``+t,s=``+r;if(!e&&o>s){var c=o;o=s,s=c}return o+i+s+i+(a===void 0?n:a)}function l(e,t,n,r){var i=``+t,a=``+n;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}function u(e,t){return c(e,t.v,t.w,t.name)}t.exports=a})),iS=Wt(((e,t)=>{t.exports=`2.2.4`})),aS=Wt(((e,t)=>{t.exports={Graph:rS(),version:iS()}})),oS=Wt(((e,t)=>{var n=rS();t.exports={write:r,read:o};function r(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function i(e){return e.nodes().map(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function a(e){return e.edges().map(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return t.name!==void 0&&(r.name=t.name),n!==void 0&&(r.value=n),r})}function o(e){var t=new n(e.options).setGraph(e.value);return e.nodes.forEach(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),e.edges.forEach(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}})),sS=Wt(((e,t)=>{t.exports=n;function n(e){var t={},n=[],r;function i(n){Object.hasOwn(t,n)||(t[n]=!0,r.push(n),e.successors(n).forEach(i),e.predecessors(n).forEach(i))}return e.nodes().forEach(function(e){r=[],i(e),r.length&&n.push(r)}),n}})),cS=Wt(((e,t)=>{t.exports=class{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority}min(){if(this.size()===0)throw Error(`Queue underflow`);return this._arr[0].key}add(e,t){var n=this._keyIndices;if(e=String(e),!Object.hasOwn(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error(`New priority is greater than current priority. Key: `+e+` Old: `+this._arr[n].priority+` New: `+t);this._arr[n].priority=t,this._decrease(n)}_heapify(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))}_decrease(e){for(var t=this._arr,n=t[e].priority,r;e!==0&&(r=e>>1,!(t[r].priority<n));)this._swap(e,r),e=r}_swap(e,t){var n=this._arr,r=this._keyIndices,i=n[e],a=n[t];n[e]=a,n[t]=i,r[a.key]=e,r[i.key]=t}}})),lS=Wt(((e,t)=>{var n=cS();t.exports=i;var r=()=>1;function i(e,t,n,i){return a(e,String(t),n||r,i||function(t){return e.outEdges(t)})}function a(e,t,r,i){var a={},o=new n,s,c,l=function(e){var t=e.v===s?e.w:e.v,n=a[t],i=r(e),l=c.distance+i;if(i<0)throw Error(`dijkstra does not allow negative edge weights. Bad edge: `+e+` Weight: `+i);l<n.distance&&(n.distance=l,n.predecessor=s,o.decrease(t,l))};for(e.nodes().forEach(function(e){var n=e===t?0:1/0;a[e]={distance:n},o.add(e,n)});o.size()>0&&(s=o.removeMin(),c=a[s],c.distance!==1/0);)i(s).forEach(l);return a}})),uS=Wt(((e,t)=>{var n=lS();t.exports=r;function r(e,t,r){return e.nodes().reduce(function(i,a){return i[a]=n(e,a,t,r),i},{})}})),dS=Wt(((e,t)=>{t.exports=n;function n(e){var t=0,n=[],r={},i=[];function a(o){var s=r[o]={onStack:!0,lowlink:t,index:t++};if(n.push(o),e.successors(o).forEach(function(e){Object.hasOwn(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(a(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))}),s.lowlink===s.index){var c=[],l;do l=n.pop(),r[l].onStack=!1,c.push(l);while(o!==l);i.push(c)}}return e.nodes().forEach(function(e){Object.hasOwn(r,e)||a(e)}),i}})),fS=Wt(((e,t)=>{var n=dS();t.exports=r;function r(e){return n(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}})),pS=Wt(((e,t)=>{t.exports=r;var n=()=>1;function r(e,t,r){return i(e,t||n,r||function(t){return e.outEdges(t)})}function i(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:1/0})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,a=t(n);r[e][i]={distance:a,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var a=r[n];i.forEach(function(n){var r=a[e],i=t[n],o=a[n],s=r.distance+i.distance;s<o.distance&&(o.distance=s,o.predecessor=i.predecessor)})})}),r}})),mS=Wt(((e,t)=>{function n(e){var t={},n={},i=[];function a(o){if(Object.hasOwn(n,o))throw new r;Object.hasOwn(t,o)||(n[o]=!0,t[o]=!0,e.predecessors(o).forEach(a),delete n[o],i.push(o))}if(e.sinks().forEach(a),Object.keys(t).length!==e.nodeCount())throw new r;return i}var r=class extends Error{constructor(){super(...arguments)}};t.exports=n,n.CycleException=r})),hS=Wt(((e,t)=>{var n=mS();t.exports=r;function r(e){try{n(e)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}})),gS=Wt(((e,t)=>{t.exports=n;function n(e,t,n){Array.isArray(t)||(t=[t]);var a=e.isDirected()?t=>e.successors(t):t=>e.neighbors(t),o=n===`post`?r:i,s=[],c={};return t.forEach(t=>{if(!e.hasNode(t))throw Error(`Graph does not have node: `+t);o(t,a,c,s)}),s}function r(e,t,n,r){for(var i=[[e,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):Object.hasOwn(n,o[0])||(n[o[0]]=!0,i.push([o[0],!0]),a(t(o[0]),e=>i.push([e,!1])))}}function i(e,t,n,r){for(var i=[e];i.length>0;){var o=i.pop();Object.hasOwn(n,o)||(n[o]=!0,r.push(o),a(t(o),e=>i.push(e)))}}function a(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}})),_S=Wt(((e,t)=>{var n=gS();t.exports=r;function r(e,t){return n(e,t,`post`)}})),vS=Wt(((e,t)=>{var n=gS();t.exports=r;function r(e,t){return n(e,t,`pre`)}})),yS=Wt(((e,t)=>{var n=rS(),r=cS();t.exports=i;function i(e,t){var i=new n,a={},o=new r,s;function c(e){var n=e.v===s?e.w:e.v,r=o.priority(n);if(r!==void 0){var i=t(e);i<r&&(a[n]=s,o.decrease(n,i))}}if(e.nodeCount()===0)return i;e.nodes().forEach(function(e){o.add(e,1/0),i.setNode(e)}),o.decrease(e.nodes()[0],0);for(var l=!1;o.size()>0;){if(s=o.removeMin(),Object.hasOwn(a,s))i.setEdge(s,a[s]);else if(l)throw Error(`Input graph is not connected: `+e);else l=!0;e.nodeEdges(s).forEach(c)}return i}})),bS=Wt(((e,t)=>{t.exports={components:sS(),dijkstra:lS(),dijkstraAll:uS(),findCycles:fS(),floydWarshall:pS(),isAcyclic:hS(),postorder:_S(),preorder:vS(),prim:yS(),tarjan:dS(),topsort:mS()}})),xS=Wt(((e,t)=>{var n=aS();t.exports={Graph:n.Graph,json:oS(),alg:bS(),version:n.version}})),SS=Wt(((e,t)=>{var n=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,t=e._prev;if(t!==e)return r(t),t}enqueue(e){let t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){let e=[],t=this._sentinel,n=t._prev;for(;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return`[`+e.join(`, `)+`]`}};function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if(e!==`_next`&&e!==`_prev`)return t}t.exports=n})),CS=Wt(((e,t)=>{var n=xS().Graph,r=SS();t.exports=a;var i=()=>1;function a(e,t){if(e.nodeCount()<=1)return[];let n=c(e,t||i);return o(n.graph,n.buckets,n.zeroIdx).flatMap(t=>e.outEdges(t.v,t.w))}function o(e,t,n){let r=[],i=t[t.length-1],a=t[0],o;for(;e.nodeCount();){for(;o=a.dequeue();)s(e,t,n,o);for(;o=i.dequeue();)s(e,t,n,o);if(e.nodeCount()){for(let i=t.length-2;i>0;--i)if(o=t[i].dequeue(),o){r=r.concat(s(e,t,n,o,!0));break}}}return r}function s(e,t,n,r,i){let a=i?[]:void 0;return e.inEdges(r.v).forEach(r=>{let o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,l(t,n,s)}),e.outEdges(r.v).forEach(r=>{let i=e.edge(r),a=r.w,o=e.node(a);o.in-=i,l(t,n,o)}),e.removeNode(r.v),a}function c(e,t){let i=new n,a=0,o=0;e.nodes().forEach(e=>{i.setNode(e,{v:e,in:0,out:0})}),e.edges().forEach(e=>{let n=i.edge(e.v,e.w)||0,r=t(e),s=n+r;i.setEdge(e.v,e.w,s),o=Math.max(o,i.node(e.v).out+=r),a=Math.max(a,i.node(e.w).in+=r)});let s=u(o+a+3).map(()=>new r),c=a+1;return i.nodes().forEach(e=>{l(s,c,i.node(e))}),{graph:i,buckets:s,zeroIdx:c}}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function u(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}})),wS=Wt(((e,t)=>{var n=xS().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:h,asNonCompoundGraph:a,buildLayerMatrix:l,intersectRect:c,mapValues:w,maxRank:g,normalizeRanks:u,notime:y,partition:_,pick:C,predecessorWeights:s,range:S,removeEmptyRanks:d,simplify:i,successorWeights:o,time:v,uniqueId:x,zipObject:T};function r(e,t,n,r){for(var i=r;e.hasNode(i);)i=x(r);return n.dummy=t,e.setNode(i,n),i}function i(e){let t=new n().setGraph(e.graph());return e.nodes().forEach(n=>t.setNode(n,e.node(n))),e.edges().forEach(n=>{let r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function a(e){let t=new n({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{e.children(n).length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdge(n,e.edge(n))}),t}function o(e){let t=e.nodes().map(t=>{let n={};return e.outEdges(t).forEach(t=>{n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return T(e.nodes(),t)}function s(e){let t=e.nodes().map(t=>{let n={};return e.inEdges(t).forEach(t=>{n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return T(e.nodes(),t)}function c(e,t){let n=e.x,r=e.y,i=t.x-n,a=t.y-r,o=e.width/2,s=e.height/2;if(!i&&!a)throw Error(`Not possible to find intersection inside of the rectangle`);let c,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),c=s*i/a,l=s):(i<0&&(o=-o),c=o,l=o*a/i),{x:n+c,y:r+l}}function l(e){let t=S(g(e)+1).map(()=>[]);return e.nodes().forEach(n=>{let r=e.node(n),i=r.rank;i!==void 0&&(t[i][r.order]=n)}),t}function u(e){let t=e.nodes().map(t=>{let n=e.node(t).rank;return n===void 0?Number.MAX_VALUE:n}),n=h(Math.min,t);e.nodes().forEach(t=>{let r=e.node(t);Object.hasOwn(r,`rank`)&&(r.rank-=n)})}function d(e){let t=e.nodes().map(t=>e.node(t).rank),n=h(Math.min,t),r=[];e.nodes().forEach(t=>{let i=e.node(t).rank-n;r[i]||(r[i]=[]),r[i].push(t)});let i=0,a=e.graph().nodeRankFactor;Array.from(r).forEach((t,n)=>{t===void 0&&n%a!==0?--i:t!==void 0&&i&&t.forEach(t=>e.node(t).rank+=i)})}function f(e,t,n,i){let a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=i),r(e,`border`,a,t)}function p(e,t=m){let n=[];for(let r=0;r<e.length;r+=t){let i=e.slice(r,r+t);n.push(i)}return n}var m=65535;function h(e,t){if(t.length>m){let n=p(t);return e.apply(null,n.map(t=>e.apply(null,t)))}else return e.apply(null,t)}function g(e){let t=e.nodes().map(t=>{let n=e.node(t).rank;return n===void 0?Number.MIN_VALUE:n});return h(Math.max,t)}function _(e,t){let n={lhs:[],rhs:[]};return e.forEach(e=>{t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function v(e,t){let n=Date.now();try{return t()}finally{console.log(e+` time: `+(Date.now()-n)+`ms`)}}function y(e,t){return t()}var b=0;function x(e){var t=++b;return e+(``+t)}function S(e,t,n=1){t??(t=e,e=0);let r=e=>e<t;n<0&&(r=e=>t<e);let i=[];for(let t=e;r(t);t+=n)i.push(t);return i}function C(e,t){let n={};for(let r of t)e[r]!==void 0&&(n[r]=e[r]);return n}function w(e,t){let n=t;return typeof t==`string`&&(n=e=>e[t]),Object.entries(e).reduce((e,[t,r])=>(e[t]=n(r,t),e),{})}function T(e,t){return e.reduce((e,n,r)=>(e[n]=t[r],e),{})}})),TS=Wt(((e,t)=>{var n=CS(),r=wS().uniqueId;t.exports={run:i,undo:o};function i(e){(e.graph().acyclicer===`greedy`?n(e,t(e)):a(e)).forEach(t=>{let n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r(`rev`))});function t(e){return t=>e.edge(t).weight}}function a(e){let t=[],n={},r={};function i(a){Object.hasOwn(r,a)||(r[a]=!0,n[a]=!0,e.outEdges(a).forEach(e=>{Object.hasOwn(n,e.w)?t.push(e):i(e.w)}),delete n[a])}return e.nodes().forEach(i),t}function o(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}})),ES=Wt(((e,t)=>{var n=wS();t.exports={run:r,undo:a};function r(e){e.graph().dummyChains=[],e.edges().forEach(t=>i(e,t))}function i(e,t){let r=t.v,i=e.node(r).rank,a=t.w,o=e.node(a).rank,s=t.name,c=e.edge(t),l=c.labelRank;if(o===i+1)return;e.removeEdge(t);let u,d,f;for(f=0,++i;i<o;++f,++i)c.points=[],d={width:0,height:0,edgeLabel:c,edgeObj:t,rank:i},u=n.addDummyNode(e,`edge`,d,`_d`),i===l&&(d.width=c.width,d.height=c.height,d.dummy=`edge-label`,d.labelpos=c.labelpos),e.setEdge(r,u,{weight:c.weight},s),f===0&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,a,{weight:c.weight},s)}function a(e){e.graph().dummyChains.forEach(t=>{let n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy===`edge-label`&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}})),DS=Wt(((e,t)=>{var{applyWithChunking:n}=wS();t.exports={longestPath:r,slack:i};function r(e){var t={};function r(i){var a=e.node(i);if(Object.hasOwn(t,i))return a.rank;t[i]=!0;let o=e.outEdges(i).map(t=>t==null?1/0:r(t.w)-e.edge(t).minlen);var s=n(Math.min,o);return s===1/0&&(s=0),a.rank=s}e.sources().forEach(r)}function i(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}})),OS=Wt(((e,t)=>{var n=xS().Graph,r=DS().slack;t.exports=i;function i(e){var t=new n({directed:!1}),i=e.nodes()[0],c=e.nodeCount();t.setNode(i,{});for(var l,u;a(t,e)<c;)l=o(t,e),u=t.hasNode(l.v)?r(e,l):-r(e,l),s(t,e,u);return t}function a(e,t){function n(i){t.nodeEdges(i).forEach(a=>{var o=a.v,s=i===o?a.w:o;!e.hasNode(s)&&!r(t,a)&&(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))})}return e.nodes().forEach(n),e.nodeCount()}function o(e,t){return t.edges().reduce((n,i)=>{let a=1/0;return e.hasNode(i.v)!==e.hasNode(i.w)&&(a=r(t,i)),a<n[0]?[a,i]:n},[1/0,null])[1]}function s(e,t,n){e.nodes().forEach(e=>t.node(e).rank+=n)}})),kS=Wt(((e,t)=>{var n=OS(),r=DS().slack,i=DS().longestPath,a=xS().alg.preorder,o=xS().alg.postorder,s=wS().simplify;t.exports=c,c.initLowLimValues=f,c.initCutValues=l,c.calcCutValue=d,c.leaveEdge=m,c.enterEdge=h,c.exchangeEdges=g;function c(e){e=s(e),i(e);var t=n(e);f(t),l(t,e);for(var r,a;r=m(t);)a=h(t,e,r),g(t,e,r,a)}function l(e,t){var n=o(e,e.nodes());n=n.slice(0,n.length-1),n.forEach(n=>u(e,t,n))}function u(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=d(e,t,n)}function d(e,t,n){var r=e.node(n).parent,i=!0,a=t.edge(n,r),o=0;return a||=(i=!1,t.edge(r,n)),o=a.weight,t.nodeEdges(n).forEach(a=>{var s=a.v===n,c=s?a.w:a.v;if(c!==r){var l=s===i,u=t.edge(a).weight;if(o+=l?u:-u,v(e,n,c)){var d=e.edge(n,c).cutvalue;o+=l?-d:d}}}),o}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,r,i){var a=n,o=e.node(r);return t[r]=!0,e.neighbors(r).forEach(i=>{Object.hasOwn(t,i)||(n=p(e,t,n,i,r))}),o.low=a,o.lim=n++,i?o.parent=i:delete o.parent,n}function m(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function h(e,t,n){var i=n.v,a=n.w;t.hasEdge(i,a)||(i=n.w,a=n.v);var o=e.node(i),s=e.node(a),c=o,l=!1;return o.lim>s.lim&&(c=s,l=!0),t.edges().filter(t=>l===y(e,e.node(t.v),c)&&l!==y(e,e.node(t.w),c)).reduce((e,n)=>r(t,n)<r(t,e)?n:e)}function g(e,t,n,r){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(r.v,r.w,{}),f(e),l(e,t),_(e,t)}function _(e,t){var n=e.nodes().find(e=>!t.node(e).parent),r=a(e,n);r=r.slice(1),r.forEach(n=>{var r=e.node(n).parent,i=t.edge(n,r),a=!1;i||(i=t.edge(r,n),a=!0),t.node(n).rank=t.node(r).rank+(a?i.minlen:-i.minlen)})}function v(e,t,n){return e.hasEdge(t,n)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}})),AS=Wt(((e,t)=>{var n=DS().longestPath,r=OS(),i=kS();t.exports=a;function a(e){var t=e.graph().ranker;if(t instanceof Function)return t(e);switch(e.graph().ranker){case`network-simplex`:c(e);break;case`tight-tree`:s(e);break;case`longest-path`:o(e);break;case`none`:break;default:c(e)}}var o=n;function s(e){n(e),r(e)}function c(e){i(e)}})),jS=Wt(((e,t)=>{t.exports=n;function n(e){let t=i(e);e.graph().dummyChains.forEach(n=>{let i=e.node(n),a=i.edgeObj,o=r(e,t,a.v,a.w),s=o.path,c=o.lca,l=0,u=s[l],d=!0;for(;n!==a.w;){if(i=e.node(n),d){for(;(u=s[l])!==c&&e.node(u).maxRank<i.rank;)l++;u===c&&(d=!1)}if(!d){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=i.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function r(e,t,n,r){let i=[],a=[],o=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),c,l;c=n;do c=e.parent(c),i.push(c);while(c&&(t[c].low>o||s>t[c].lim));for(l=c,c=r;(c=e.parent(c))!==l;)a.push(c);return{path:i.concat(a.reverse()),lca:l}}function i(e){let t={},n=0;function r(i){let a=n;e.children(i).forEach(r),t[i]={low:a,lim:n++}}return e.children().forEach(r),t}})),MS=Wt(((e,t)=>{var n=wS();t.exports={run:r,cleanup:s};function r(e){let t=n.addDummyNode(e,`root`,{},`_root`),r=a(e),s=Object.values(r),c=n.applyWithChunking(Math.max,s)-1,l=2*c+1;e.graph().nestingRoot=t,e.edges().forEach(t=>e.edge(t).minlen*=l);let u=o(e)+1;e.children().forEach(n=>i(e,t,l,u,c,r,n)),e.graph().nodeRankFactor=l}function i(e,t,r,a,o,s,c){let l=e.children(c);if(!l.length){c!==t&&e.setEdge(t,c,{weight:0,minlen:r});return}let u=n.addBorderNode(e,`_bt`),d=n.addBorderNode(e,`_bb`),f=e.node(c);e.setParent(u,c),f.borderTop=u,e.setParent(d,c),f.borderBottom=d,l.forEach(n=>{i(e,t,r,a,o,s,n);let l=e.node(n),f=l.borderTop?l.borderTop:n,p=l.borderBottom?l.borderBottom:n,m=l.borderTop?a:2*a,h=f===p?o-s[c]+1:1;e.setEdge(u,f,{weight:m,minlen:h,nestingEdge:!0}),e.setEdge(p,d,{weight:m,minlen:h,nestingEdge:!0})}),e.parent(c)||e.setEdge(t,u,{weight:0,minlen:o+s[c]})}function a(e){var t={};function n(r,i){var a=e.children(r);a&&a.length&&a.forEach(e=>n(e,i+1)),t[r]=i}return e.children().forEach(e=>n(e,1)),t}function o(e){return e.edges().reduce((t,n)=>t+e.edge(n).weight,0)}function s(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(t=>{e.edge(t).nestingEdge&&e.removeEdge(t)})}})),NS=Wt(((e,t)=>{var n=wS();t.exports=r;function r(e){function t(n){let r=e.children(n),a=e.node(n);if(r.length&&r.forEach(t),Object.hasOwn(a,`minRank`)){a.borderLeft=[],a.borderRight=[];for(let t=a.minRank,r=a.maxRank+1;t<r;++t)i(e,`borderLeft`,`_bl`,n,a,t),i(e,`borderRight`,`_br`,n,a,t)}}e.children().forEach(t)}function i(e,t,r,i,a,o){let s={width:0,height:0,rank:o,borderType:t},c=a[t][o-1],l=n.addDummyNode(e,`border`,s,r);a[t][o]=l,e.setParent(l,i),c&&e.setEdge(c,l,{weight:1})}})),PS=Wt(((e,t)=>{t.exports={adjust:n,undo:r};function n(e){let t=e.graph().rankdir.toLowerCase();(t===`lr`||t===`rl`)&&i(e)}function r(e){let t=e.graph().rankdir.toLowerCase();(t===`bt`||t===`rl`)&&o(e),(t===`lr`||t===`rl`)&&(c(e),i(e))}function i(e){e.nodes().forEach(t=>a(e.node(t))),e.edges().forEach(t=>a(e.edge(t)))}function a(e){let t=e.width;e.width=e.height,e.height=t}function o(e){e.nodes().forEach(t=>s(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(s),Object.hasOwn(n,`y`)&&s(n)})}function s(e){e.y=-e.y}function c(e){e.nodes().forEach(t=>l(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(l),Object.hasOwn(n,`x`)&&l(n)})}function l(e){let t=e.x;e.x=e.y,e.y=t}})),FS=Wt(((e,t)=>{var n=wS();t.exports=r;function r(e){let t={},r=e.nodes().filter(t=>!e.children(t).length),i=r.map(t=>e.node(t).rank),a=n.applyWithChunking(Math.max,i),o=n.range(a+1).map(()=>[]);function s(n){if(t[n])return;t[n]=!0;let r=e.node(n);o[r.rank].push(n),e.successors(n).forEach(s)}return r.sort((t,n)=>e.node(t).rank-e.node(n).rank).forEach(s),o}})),IS=Wt(((e,t)=>{var n=wS().zipObject;t.exports=r;function r(e,t){let n=0;for(let r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}function i(e,t,r){let i=n(r,r.map((e,t)=>t)),a=t.flatMap(t=>e.outEdges(t).map(t=>({pos:i[t.w],weight:e.edge(t).weight})).sort((e,t)=>e.pos-t.pos)),o=1;for(;o<r.length;)o<<=1;let s=2*o-1;--o;let c=Array(s).fill(0),l=0;return a.forEach(e=>{let t=e.pos+o;c[t]+=e.weight;let n=0;for(;t>0;)t%2&&(n+=c[t+1]),t=t-1>>1,c[t]+=e.weight;l+=e.weight*n}),l}})),LS=Wt(((e,t)=>{t.exports=n;function n(e,t=[]){return t.map(t=>{let n=e.inEdges(t);if(n.length){let r=n.reduce((t,n)=>{let r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:t}})}})),RS=Wt(((e,t)=>{var n=wS();t.exports=r;function r(e,t){let n={};e.forEach((e,t)=>{let r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};e.barycenter!==void 0&&(r.barycenter=e.barycenter,r.weight=e.weight)}),t.edges().forEach(e=>{let t=n[e.v],r=n[e.w];t!==void 0&&r!==void 0&&(r.indegree++,t.out.push(n[e.w]))});let r=Object.values(n).filter(e=>!e.indegree);return i(r)}function i(e){let t=[];function r(e){return t=>{t.merged||(t.barycenter===void 0||e.barycenter===void 0||t.barycenter>=e.barycenter)&&a(e,t)}}function i(t){return n=>{n.in.push(t),--n.indegree===0&&e.push(n)}}for(;e.length;){let n=e.pop();t.push(n),n.in.reverse().forEach(r(n)),n.out.forEach(i(n))}return t.filter(e=>!e.merged).map(e=>n.pick(e,[`vs`,`i`,`barycenter`,`weight`]))}function a(e,t){let n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}})),zS=Wt(((e,t)=>{var n=wS();t.exports=r;function r(e,t){let r=n.partition(e,e=>Object.hasOwn(e,`barycenter`)),o=r.lhs,s=r.rhs.sort((e,t)=>t.i-e.i),c=[],l=0,u=0,d=0;o.sort(a(!!t)),d=i(c,s,d),o.forEach(e=>{d+=e.vs.length,c.push(e.vs),l+=e.barycenter*e.weight,u+=e.weight,d=i(c,s,d)});let f={vs:c.flat(!0)};return u&&(f.barycenter=l/u,f.weight=u),f}function i(e,t,n){let r;for(;t.length&&(r=t[t.length-1]).i<=n;)t.pop(),e.push(r.vs),n++;return n}function a(e){return(t,n)=>t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}})),BS=Wt(((e,t)=>{var n=LS(),r=RS(),i=zS();t.exports=a;function a(e,t,c,l){let u=e.children(t),d=e.node(t),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};f&&(u=u.filter(e=>e!==f&&e!==p));let h=n(e,u);h.forEach(t=>{if(e.children(t.v).length){let n=a(e,t.v,c,l);m[t.v]=n,Object.hasOwn(n,`barycenter`)&&s(t,n)}});let g=r(h,c);o(g,m);let _=i(g,l);if(f&&(_.vs=[f,_.vs,p].flat(!0),e.predecessors(f).length)){let t=e.node(e.predecessors(f)[0]),n=e.node(e.predecessors(p)[0]);Object.hasOwn(_,`barycenter`)||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+t.order+n.order)/(_.weight+2),_.weight+=2}return _}function o(e,t){e.forEach(e=>{e.vs=e.vs.flatMap(e=>t[e]?t[e].vs:e)})}function s(e,t){e.barycenter===void 0?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}})),VS=Wt(((e,t)=>{var n=xS().Graph,r=wS();t.exports=i;function i(e,t,r){let i=a(e),o=new n({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(t=>e.node(t));return e.nodes().forEach(n=>{let a=e.node(n),s=e.parent(n);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(n),o.setParent(n,s||i),e[r](n).forEach(t=>{let r=t.v===n?t.w:t.v,i=o.edge(r,n),a=i===void 0?0:i.weight;o.setEdge(r,n,{weight:e.edge(t).weight+a})}),Object.hasOwn(a,`minRank`)&&o.setNode(n,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}function a(e){for(var t;e.hasNode(t=r.uniqueId(`_root`)););return t}})),HS=Wt(((e,t)=>{t.exports=n;function n(e,t,n){let r={},i;n.forEach(n=>{let a=e.parent(n),o,s;for(;a;){if(o=e.parent(a),o?(s=r[o],r[o]=a):(s=i,i=a),s&&s!==a){t.setEdge(s,a);return}a=o}})}})),US=Wt(((e,t)=>{var n=FS(),r=IS(),i=BS(),a=VS(),o=HS(),s=xS().Graph,c=wS();t.exports=l;function l(e,t){if(t&&typeof t.customOrder==`function`){t.customOrder(e,l);return}let i=c.maxRank(e),a=u(e,c.range(1,i+1),`inEdges`),o=u(e,c.range(i-1,-1,-1),`outEdges`),s=n(e);if(f(e,s),t&&t.disableOptimalOrderHeuristic)return;let p=1/0,m;for(let t=0,n=0;n<4;++t,++n){d(t%2?a:o,t%4>=2),s=c.buildLayerMatrix(e);let i=r(e,s);i<p&&(n=0,m=Object.assign({},s),p=i)}f(e,m)}function u(e,t,n){return t.map(function(t){return a(e,t,n)})}function d(e,t){let n=new s;e.forEach(function(e){let r=e.graph().root,a=i(e,r,n,t);a.vs.forEach((t,n)=>e.node(t).order=n),o(e,n,a.vs)})}function f(e,t){Object.values(t).forEach(t=>t.forEach((t,n)=>e.node(t).order=n))}})),WS=Wt(((e,t)=>{var n=xS().Graph,r=wS();t.exports={positionX:h,findType1Conflicts:i,findType2Conflicts:a,addConflict:s,hasConflict:c,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:p,findSmallestWidthAlignment:f,balance:m};function i(e,t){let n={};function r(t,r){let i=0,a=0,c=t.length,l=r[r.length-1];return r.forEach((t,u)=>{let d=o(e,t),f=d?e.node(d).order:c;(d||t===l)&&(r.slice(a,u+1).forEach(t=>{e.predecessors(t).forEach(r=>{let a=e.node(r),o=a.order;(o<i||f<o)&&!(a.dummy&&e.node(t).dummy)&&s(n,r,t)})}),a=u+1,i=f)}),r}return t.length&&t.reduce(r),n}function a(e,t){let n={};function i(t,i,a,o,c){let l;r.range(i,a).forEach(r=>{l=t[r],e.node(l).dummy&&e.predecessors(l).forEach(t=>{let r=e.node(t);r.dummy&&(r.order<o||r.order>c)&&s(n,t,l)})})}function a(t,n){let r=-1,a,o=0;return n.forEach((s,c)=>{if(e.node(s).dummy===`border`){let t=e.predecessors(s);t.length&&(a=e.node(t[0]).order,i(n,o,c,r,a),o=c,r=a)}i(n,o,n.length,a,t.length)}),n}return t.length&&t.reduce(a),n}function o(e,t){if(e.node(t).dummy)return e.predecessors(t).find(t=>e.node(t).dummy)}function s(e,t,n){if(t>n){let e=t;t=n,n=e}let r=e[t];r||(e[t]=r={}),r[n]=!0}function c(e,t,n){if(t>n){let e=t;t=n,n=e}return!!e[t]&&Object.hasOwn(e[t],n)}function l(e,t,n,r){let i={},a={},o={};return t.forEach(e=>{e.forEach((e,t)=>{i[e]=e,a[e]=e,o[e]=t})}),t.forEach(e=>{let t=-1;e.forEach(e=>{let s=r(e);if(s.length){s=s.sort((e,t)=>o[e]-o[t]);let r=(s.length-1)/2;for(let l=Math.floor(r),u=Math.ceil(r);l<=u;++l){let r=s[l];a[e]===e&&t<o[r]&&!c(n,e,r)&&(a[r]=e,a[e]=i[e]=i[r],t=o[r])}}})}),{root:i,align:a}}function u(e,t,n,r,i){let a={},o=d(e,t,n,i),s=i?`borderLeft`:`borderRight`;function c(e,t){let n=o.nodes(),r=n.pop(),i={};for(;r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}function l(e){a[e]=o.inEdges(e).reduce((e,t)=>Math.max(e,a[t.v]+o.edge(t)),0)}function u(t){let n=o.outEdges(t).reduce((e,t)=>Math.min(e,a[t.w]-o.edge(t)),1/0),r=e.node(t);n!==1/0&&r.borderType!==s&&(a[t]=Math.max(a[t],n))}return c(l,o.predecessors.bind(o)),c(u,o.successors.bind(o)),Object.keys(r).forEach(e=>a[e]=a[n[e]]),a}function d(e,t,r,i){let a=new n,o=e.graph(),s=g(o.nodesep,o.edgesep,i);return t.forEach(t=>{let n;t.forEach(t=>{let i=r[t];if(a.setNode(i),n){var o=r[n],c=a.edge(o,i);a.setEdge(o,i,Math.max(s(e,t,n),c||0))}n=t})}),a}function f(e,t){return Object.values(t).reduce((t,n)=>{let r=-1/0,i=1/0;Object.entries(n).forEach(([t,n])=>{let a=_(e,t)/2;r=Math.max(n+a,r),i=Math.min(n-a,i)});let a=r-i;return a<t[0]&&(t=[a,n]),t},[1/0,null])[1]}function p(e,t){let n=Object.values(t),i=r.applyWithChunking(Math.min,n),a=r.applyWithChunking(Math.max,n);[`u`,`d`].forEach(n=>{[`l`,`r`].forEach(o=>{let s=n+o,c=e[s];if(c===t)return;let l=Object.values(c),u=i-r.applyWithChunking(Math.min,l);o!==`l`&&(u=a-r.applyWithChunking(Math.max,l)),u&&(e[s]=r.mapValues(c,e=>e+u))})})}function m(e,t){return r.mapValues(e.ul,(n,r)=>{if(t)return e[t.toLowerCase()][r];{let t=Object.values(e).map(e=>e[r]).sort((e,t)=>e-t);return(t[1]+t[2])/2}})}function h(e){let t=r.buildLayerMatrix(e),n=Object.assign(i(e,t),a(e,t)),o={},s;[`u`,`d`].forEach(i=>{s=i===`u`?t:Object.values(t).reverse(),[`l`,`r`].forEach(t=>{t===`r`&&(s=s.map(e=>Object.values(e).reverse()));let a=(i===`u`?e.predecessors:e.successors).bind(e),c=l(e,s,n,a),d=u(e,s,c.root,c.align,t===`r`);t===`r`&&(d=r.mapValues(d,e=>-e)),o[i+t]=d})});let c=f(e,o);return p(o,c),m(o,e.graph().align)}function g(e,t,n){return(r,i,a)=>{let o=r.node(i),s=r.node(a),c=0,l;if(c+=o.width/2,Object.hasOwn(o,`labelpos`))switch(o.labelpos.toLowerCase()){case`l`:l=-o.width/2;break;case`r`:l=o.width/2;break}if(l&&(c+=n?l:-l),l=0,c+=(o.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,Object.hasOwn(s,`labelpos`))switch(s.labelpos.toLowerCase()){case`l`:l=s.width/2;break;case`r`:l=-s.width/2;break}return l&&(c+=n?l:-l),l=0,c}}function _(e,t){return e.node(t).width}})),GS=Wt(((e,t)=>{var n=wS(),r=WS().positionX;t.exports=i;function i(e){e=n.asNonCompoundGraph(e),a(e),Object.entries(r(e)).forEach(([t,n])=>e.node(t).x=n)}function a(e){let t=n.buildLayerMatrix(e),r=e.graph().ranksep,i=0;t.forEach(t=>{let n=t.reduce((t,n)=>{let r=e.node(n).height;return t>r?t:r},0);t.forEach(t=>e.node(t).y=i+n/2),i+=n+r})}})),KS=Wt(((e,t)=>{var n=TS(),r=ES(),i=AS(),a=wS().normalizeRanks,o=jS(),s=wS().removeEmptyRanks,c=MS(),l=NS(),u=PS(),d=US(),f=GS(),p=wS(),m=xS().Graph;t.exports=h;function h(e,t){let n=t&&t.debugTiming?p.time:p.notime;n(`layout`,()=>{let r=n(`  buildLayoutGraph`,()=>E(e));n(`  runLayout`,()=>g(r,n,t)),n(`  updateInputGraph`,()=>_(e,r))})}function g(e,t,m){t(`    makeSpaceForEdgeLabels`,()=>D(e)),t(`    removeSelfEdges`,()=>ne(e)),t(`    acyclic`,()=>n.run(e)),t(`    nestingGraph.run`,()=>c.run(e)),t(`    rank`,()=>i(p.asNonCompoundGraph(e))),t(`    injectEdgeLabelProxies`,()=>O(e)),t(`    removeEmptyRanks`,()=>s(e)),t(`    nestingGraph.cleanup`,()=>c.cleanup(e)),t(`    normalizeRanks`,()=>a(e)),t(`    assignRankMinMax`,()=>k(e)),t(`    removeEdgeLabelProxies`,()=>A(e)),t(`    normalize.run`,()=>r.run(e)),t(`    parentDummyChains`,()=>o(e)),t(`    addBorderSegments`,()=>l(e)),t(`    order`,()=>d(e,m)),t(`    insertSelfEdges`,()=>re(e)),t(`    adjustCoordinateSystem`,()=>u.adjust(e)),t(`    position`,()=>f(e)),t(`    positionSelfEdges`,()=>ie(e)),t(`    removeBorderNodes`,()=>te(e)),t(`    normalize.undo`,()=>r.undo(e)),t(`    fixupEdgeLabelCoords`,()=>M(e)),t(`    undoCoordinateSystem`,()=>u.undo(e)),t(`    translateGraph`,()=>ee(e)),t(`    assignNodeIntersects`,()=>j(e)),t(`    reversePoints`,()=>N(e)),t(`    acyclic.undo`,()=>n.undo(e))}function _(e,t){e.nodes().forEach(n=>{let r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,t.children(n).length&&(r.width=i.width,r.height=i.height))}),e.edges().forEach(n=>{let r=e.edge(n),i=t.edge(n);r.points=i.points,Object.hasOwn(i,`x`)&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var v=[`nodesep`,`edgesep`,`ranksep`,`marginx`,`marginy`],y={ranksep:50,edgesep:20,nodesep:50,rankdir:`tb`},b=[`acyclicer`,`ranker`,`rankdir`,`align`],x=[`width`,`height`,`rank`],S={width:0,height:0},C=[`minlen`,`weight`,`width`,`height`,`labeloffset`],w={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:`r`},T=[`labelpos`];function E(e){let t=new m({multigraph:!0,compound:!0}),n=ae(e.graph());return t.setGraph(Object.assign({},y,P(n,v),p.pick(n,b))),e.nodes().forEach(n=>{let r=ae(e.node(n)),i=P(r,x);Object.keys(S).forEach(e=>{i[e]===void 0&&(i[e]=S[e])}),t.setNode(n,i),t.setParent(n,e.parent(n))}),e.edges().forEach(n=>{let r=ae(e.edge(n));t.setEdge(n,Object.assign({},w,P(r,C),p.pick(r,T)))}),t}function D(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(n=>{let r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!==`c`&&(t.rankdir===`TB`||t.rankdir===`BT`?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function O(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.width&&n.height){let n=e.node(t.v),r={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};p.addDummyNode(e,`edge-proxy`,r,`_ep`)}})}function k(e){let t=0;e.nodes().forEach(n=>{let r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank))}),e.graph().maxRank=t}function A(e){e.nodes().forEach(t=>{let n=e.node(t);n.dummy===`edge-proxy`&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function ee(e){let t=1/0,n=0,r=1/0,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function c(e){let a=e.x,o=e.y,s=e.width,c=e.height;t=Math.min(t,a-s/2),n=Math.max(n,a+s/2),r=Math.min(r,o-c/2),i=Math.max(i,o+c/2)}e.nodes().forEach(t=>c(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);Object.hasOwn(n,`x`)&&c(n)}),t-=o,r-=s,e.nodes().forEach(n=>{let i=e.node(n);i.x-=t,i.y-=r}),e.edges().forEach(n=>{let i=e.edge(n);i.points.forEach(e=>{e.x-=t,e.y-=r}),Object.hasOwn(i,`x`)&&(i.x-=t),Object.hasOwn(i,`y`)&&(i.y-=r)}),a.width=n-t+o,a.height=i-r+s}function j(e){e.edges().forEach(t=>{let n=e.edge(t),r=e.node(t.v),i=e.node(t.w),a,o;n.points?(a=n.points[0],o=n.points[n.points.length-1]):(n.points=[],a=i,o=r),n.points.unshift(p.intersectRect(r,a)),n.points.push(p.intersectRect(i,o))})}function M(e){e.edges().forEach(t=>{let n=e.edge(t);if(Object.hasOwn(n,`x`))switch((n.labelpos===`l`||n.labelpos===`r`)&&(n.width-=n.labeloffset),n.labelpos){case`l`:n.x-=n.width/2+n.labeloffset;break;case`r`:n.x+=n.width/2+n.labeloffset;break}})}function N(e){e.edges().forEach(t=>{let n=e.edge(t);n.reversed&&n.points.reverse()})}function te(e){e.nodes().forEach(t=>{if(e.children(t).length){let n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(n.borderLeft[n.borderLeft.length-1]),o=e.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(o.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),e.nodes().forEach(t=>{e.node(t).dummy===`border`&&e.removeNode(t)})}function ne(e){e.edges().forEach(t=>{if(t.v===t.w){var n=e.node(t.v);n.selfEdges||=[],n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function re(e){p.buildLayerMatrix(e).forEach(t=>{var n=0;t.forEach((t,r)=>{var i=e.node(t);i.order=r+n,(i.selfEdges||[]).forEach(t=>{p.addDummyNode(e,`selfedge`,{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},`_se`)}),delete i.selfEdges})})}function ie(e){e.nodes().forEach(t=>{var n=e.node(t);if(n.dummy===`selfedge`){var r=e.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}function P(e,t){return p.mapValues(p.pick(e,t),Number)}function ae(e){var t={};return e&&Object.entries(e).forEach(([e,n])=>{typeof e==`string`&&(e=e.toLowerCase()),t[e]=n}),t}})),qS=Wt(((e,t)=>{var n=wS(),r=xS().Graph;t.exports={debugOrdering:i};function i(e){let t=n.buildLayerMatrix(e),i=new r({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(t=>{i.setNode(t,{label:t}),i.setParent(t,`layer`+e.node(t).rank)}),e.edges().forEach(e=>i.setEdge(e.v,e.w,{},e.name)),t.forEach((e,t)=>{let n=`layer`+t;i.setNode(n,{rank:`same`}),e.reduce((e,t)=>(i.setEdge(e,t,{style:`invis`}),t))}),i}})),JS=Wt(((e,t)=>{t.exports=`1.1.5`})),YS=Kt(Wt(((e,t)=>{t.exports={graphlib:xS(),layout:KS(),debug:qS(),util:{time:wS().time,notime:wS().notime},version:JS()}}))()),XS=new Map;function ZS(e,t,n,r,i,a,o,s,c,l,u,d,f){function p(t,n,o){let s=e.value.find(e=>e.id===t);if(!s)return;let{isDragging:c,recordHistory:l}=o;if(s.parentNode){let o=e.value.find(e=>e.id===s.parentNode);if(o&&o.type===`loopContainer`){if(XS.has(t)){s.position=n,l&&u();return}if(c){s.position=n,Ux(s.id);return}let{config:e,position:d}=r(o,s,n);s.position=i(d,e,s),Ux(s.id),a(o),Ux(o.id),l&&u();return}}s.position=n,Ux(s.id),l&&u()}function m(e,t,n=!1){p(e,t,{isDragging:n,recordHistory:!0})}function h(e,t){p(e,t,{isDragging:!0,recordHistory:!1})}function g(e,t){p(e,t,{isDragging:!1,recordHistory:!0})}function _(o,s){let c=e.value.filter(e=>e.parentNode===o.id);if(c.length===0)return;let l=new YS.default.graphlib.Graph;l.setDefaultEdgeLabel(()=>({})),l.setGraph({rankdir:s.direction,nodesep:s.nodesep,ranksep:s.ranksep,marginx:0,marginy:0});let u=new Set(c.map(e=>e.id));c.forEach(e=>{l.setNode(e.id,{width:Vx(e),height:Hx(e)})}),t.value.forEach(e=>{!u.has(e.source)||!u.has(e.target)||l.setEdge(e.source,e.target)}),YS.default.layout(l);let d=[],f=1/0,p=1/0;if(c.forEach(e=>{let t=l.node(e.id);if(!t)return;let n=Vx(e),r=Hx(e),i=t.x-n/2,a=t.y-r/2;i<f&&(f=i),a<p&&(p=a),d.push({child:e,rawX:i,rawY:a})}),d.length===0)return;let m=Number.isFinite(f)?f:0,h=Number.isFinite(p)?p:0,g=n(o);d.forEach(({child:e,rawX:t,rawY:n})=>{let a={x:t-m+g.padding.left+s.padding,y:n-h+g.headerHeight+g.padding.top+s.padding},{config:c,position:l}=r(o,e,a);e.position=i(l,c,e),g=c,Ux(e.id)}),a(o),Ux(o.id)}function v(n={}){let r=e.value.filter(e=>!e.parentNode);if(r.length===0)return;let i=n.direction??`LR`,a=n.nodesep??160,o=n.ranksep??240,s=n.padding??120,c=n.loopContainerGap??a,l=r.filter(e=>e.type!==`loopContainer`);if(l.length===0)return;let u=new YS.default.graphlib.Graph;u.setDefaultEdgeLabel(()=>({})),u.setGraph({rankdir:i,nodesep:a,ranksep:o,marginx:0,marginy:0});let m=new Set(l.map(e=>e.id));l.forEach(e=>{let t=Vx(e),n=Hx(e);u.setNode(e.id,{width:t,height:n})}),t.value.forEach(e=>{!m.has(e.source)||!m.has(e.target)||u.setEdge(e.source,e.target)}),YS.default.layout(u);let h=[],g=new Map;l.forEach(e=>{let t=u.node(e.id);if(!t)return;let n=Vx(e),r=Hx(e),i=t.x-n/2,a=t.y-r/2,o={node:e,x:i,y:a,width:n,height:r};h.push(o),e.data?.variant===`for`&&g.set(e.id,o)});let v=r.filter(e=>e.type===`loopContainer`);if(v.forEach(e=>{let t=Vx(e),n=Hx(e),r=e.position?.x??0,i=e.position?.y??0,a=e.data?.config?.forNodeId,o=g.get(a??``);o&&(r=o.x+(o.width-t)/2,i=o.y+o.height+c),h.push({node:e,x:r,y:i,width:t,height:n})}),h.length===0)return;let y=1/0,b=1/0;h.forEach(({x:e,y:t})=>{e<y&&(y=e),t<b&&(b=t)});let x=Number.isFinite(y)?y:0,S=Number.isFinite(b)?b:0;d(),h.forEach(({node:e,x:t,y:n})=>{let r={x:t-x+s,y:n-S+s};p(e.id,r,{isDragging:!1,recordHistory:!1})});let C={direction:i,nodesep:a,ranksep:o,padding:Math.min(s,64)};v.forEach(e=>{_(e,C)}),f()}function y(t){if(XS.has(t))return XS.get(t).containerId;let n=e.value.find(e=>e.id===t);if(!n||!n.parentNode)return null;let r=n.parentNode;return XS.set(t,{containerId:r}),r}function b(t,n){let u=XS.get(t);if(!u)return;XS.delete(t);let d=e.value.find(e=>e.id===t),f=e.value.find(e=>e.id===u.containerId);if(d){if(n.keepInContainer&&f){d.parentNode=f.id;let e={x:d.position.x,y:d.position.y},{config:t,position:n}=r(f,d,e);d.position=i(n,t,d),Ux(d.id),a(f),o(f.id),Ux(f.id)}else if(f){let e={x:f.position.x+d.position.x,y:f.position.y+d.position.y};d.parentNode=void 0,d.position=e,Ux(d.id),a(f),Ux(f.id)}else d.parentNode=void 0,Ux(d.id);s(),c(),n.recordHistory!==!1&&l()}}function x(t,n){let u=e.value.find(e=>e.id===t),d=e.value.find(e=>e.id===n);if(!u||!d)return;let f=u.position.x-d.position.x,p=u.position.y-d.position.y;u.parentNode=n,u.position={x:f,y:p};let{config:m,position:h}=r(d,u,u.position);u.position=i(h,m,u),Ux(t),a(d),o(n),s(),c(),l(),Ux(n)}return{updateNodePosition:m,handleNodeDrag:h,handleNodeDragStop:g,autoLayout:v,beginNodeDetachFromContainer:y,finalizeNodeDetachFromContainer:b,moveNodeIntoContainer:x}}var QS=null,$S=F(`initializing`),eC=F([]),tC=null;function nC(e){return tC||($S.value===`ready`?Promise.resolve():(tC=new Promise((t,n)=>{try{QS=new Worker(new URL(`/assets/workflowWorker-CDRusBmY.js`,``+import.meta.url),{type:`module`}),QS.onmessage=n=>{rC(n.data,e),n.data.type===`INITIALIZED`&&($S.value=`ready`,eC.value=n.data.payload.nodeMetadata,console.log(`[WorkflowWorker] Worker  ${eC.value.length} `),t())},QS.onerror=e=>{console.error(`[WorkflowWorker] Worker `,e),$S.value=`error`,n(e)},QS.postMessage({type:`INIT`}),console.log(`[WorkflowWorker] Worker ...`)}catch(e){console.error(`[WorkflowWorker] Worker `,e),$S.value=`error`,n(e)}}),tC))}function rC(e,t){switch(e.type){case`INITIALIZED`:break;case`WORKFLOW_EVENT`:{let{eventType:n,eventData:r}=e.payload;t.emit(n,r);break}case`ERROR`:console.error(`[WorkflowWorker] Worker `,e.payload);break;default:console.warn(`[WorkflowWorker]  Worker `,e)}}function iC(e,t,n,r){if(!QS)throw Error(`Worker `);if($S.value!==`ready`)throw Error(`Worker : ${$S.value}`);QS.postMessage({type:`EXECUTE_WORKFLOW`,payload:{executionId:e,workflowId:t,nodes:n,edges:r}}),console.log(`[WorkflowWorker] : ${e}`)}function aC(e){if(!e)throw Error(`workflowEmitter not provided. Make sure it's provided in main.ts`);return!QS&&$S.value===`initializing`&&nC(e).catch(e=>{console.error(`[WorkflowWorker] `,e)}),{status:$S,isReady:I(()=>$S.value===`ready`),nodeMetadata:eC,executeWorkflow:iC,waitForReady:()=>nC(e)}}const oC={mode:`worker`,serverUrl:`ws://localhost:3001`};var sC=`workflow-execution-mode`;function cC(){try{let e=new URLSearchParams(window.location.search),t={},n=e.get(`mode`);(n===`worker`||n===`server`)&&(t.mode=n);let r=e.get(`serverUrl`);return r&&(t.serverUrl=decodeURIComponent(r)),Object.keys(t).length>0?t:null}catch(e){return console.error(` URL :`,e),null}}function lC(e){try{let t=new URLSearchParams(window.location.search);t.set(`mode`,e.mode),t.set(`serverUrl`,encodeURIComponent(e.serverUrl));let n=`${window.location.pathname}?${t.toString()}`;window.history.replaceState({},``,n)}catch(e){console.error(` URL :`,e)}}function uC(){let e=cC();if(e){let t={...oC,...e};try{localStorage.setItem(sC,JSON.stringify(t))}catch(e){console.error(`:`,e)}return t}try{let e=localStorage.getItem(sC);if(e)return JSON.parse(e)}catch(e){console.error(`:`,e)}return oC}function dC(e){try{localStorage.setItem(sC,JSON.stringify(e)),lC(e)}catch(e){console.error(`:`,e)}}var fC=F(uC()),pC=null,mC=null,hC=null;function gC(){let e=ot(`workflowEmitter`);if(!e)throw Error(`workflowEmitter not provided. Make sure it's provided in main.ts`);function t(){return pC||=(console.log(`[ExecutionManager]  Worker `),aC(e)),pC}function n(t){return(!mC||hC!==t)&&(console.log(`[ExecutionManager] / Server : ${t}`),mC=Lt(e,t),hC=t),mC}function r(){return fC.value.mode===`worker`?t():n(fC.value.serverUrl)}let i=I(()=>r());function a(e){let i=fC.value.mode,a=fC.value.serverUrl,o=i!==e.mode,s=a!==e.serverUrl;console.log(`[ExecutionManager] :`,{from:fC.value,to:e,modeChanged:o,urlChanged:s}),fC.value=e,o?(console.log(`[ExecutionManager]  -> ${e.mode}`),e.mode===`worker`?(mC&&(console.log(`[ExecutionManager]  Server `),It(),mC=null,hC=null),t()):n(e.serverUrl)):s&&e.mode===`server`?(console.log(`[ExecutionManager]  Server  -> ${e.serverUrl}`),It(),mC=null,hC=null,n(e.serverUrl)):r()}function o(e,t,n,r){let a=i.value;fC.value.mode,a.executeWorkflow(e,t,n,r)}async function s(){await i.value.waitForReady()}return{config:I(()=>fC.value),mode:I(()=>fC.value.mode),serverUrl:I(()=>fC.value.serverUrl),isReady:I(()=>i.value?.isReady?.value??!1),status:I(()=>i.value?.status?.value??`disconnected`),nodeMetadata:I(()=>i.value?.nodeMetadata?.value??[]),updateConfig:a,executeWorkflow:o,waitForReady:s}}var _C=F({metadataMap:new Map,dynamicNodes:new Map,loadedFromWorker:!1});async function vC(e){if(!_C.value.loadedFromWorker)try{await e.waitForReady(),_C.value.metadataMap.clear();let t=e.nodeMetadata.value;t.forEach(e=>{_C.value.metadataMap.set(e.type,e)}),_C.value.loadedFromWorker=!0,console.log(`[NodeRegistry]   ${t.length}  (: ${e.mode.value})`)}catch(e){throw console.error(`[NodeRegistry]  `,e),e}}function yC(e){_C.value.dynamicNodes.set(e.type,e),_C.value.metadataMap.set(e.type,e)}function bC(e){e.forEach(e=>{yC(e)})}function xC(e){return _C.value.metadataMap.get(e)}function SC(){return Array.from(_C.value.metadataMap.values())}function CC(){let e={};return SC().forEach(t=>{let n=t.category;e[n]||(e[n]=[]),e[n].push(t)}),e}function wC(e){let t=e.toLowerCase().trim();return t?SC().filter(e=>e.type.toLowerCase().includes(t)||e.label.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)):SC()}function TC(e){return e?SC().filter(t=>t.category===e):CC()}function EC(e){return _C.value.metadataMap.has(e)}function DC(){return Array.from(_C.value.dynamicNodes.values())}function OC(){_C.value.dynamicNodes.forEach((e,t)=>{_C.value.metadataMap.delete(t)}),_C.value.dynamicNodes.clear()}function kC(){if(_C.value.metadataMap.size===0&&!_C.value.loadedFromWorker)try{let e=gC();vC(e).catch(e=>{console.error(`[NodeRegistry]  `,e)})}catch(e){console.error(`[NodeRegistry]  useWorkflowExecutionManager()  setup `,e)}return{state:I(()=>_C.value),getNodeMetadata:xC,getAllNodeMetadata:I(()=>SC()),getNodesByCategory:I(()=>CC()),searchNodes:wC,getNodesByCategoryFiltered:TC,hasNodeType:EC,registerNode:yC,registerNodes:bC,clearDynamicNodes:OC,getDynamicNodes:I(()=>DC())}}function AC(e,t,n,r,i,a,o,s,c,l,u){let d=kC();function f(t){let n=new Set(e.value.map(e=>e.data?.label).filter(e=>!!e));if(!n.has(t))return t;let r=0,i=RegExp(`^${t.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}\\s+(\\d+)$`);return n.forEach(e=>{if(e===t)r=Math.max(r,0);else{let t=e.match(i);if(t&&t[1]){let e=parseInt(t[1],10);r=Math.max(r,e)}}}),r===0?`${t} 1`:`${t} ${r+1}`}function p(s,c,l={}){let u=d.getNodeMetadata(s);if(!u)return console.error(`: ${s} Worker `),null;let p=`${s}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,m=u.label;m&&=f(m);let h={id:p,type:`custom`,position:{...c},data:{config:{...u.defaultConfig},inputs:u.inputs,outputs:u.outputs,label:m,category:u.category,variant:s}};if(l.parentNodeId&&(h.parentNode=l.parentNodeId),n(h),a(),e.value.push(h),l.parentNodeId&&(i(l.parentNodeId),r()),s===`for`&&h.data){let a=`${p}_body`;h.data.config={...h.data.config,containerId:a,headerHeight:Ax,padding:Fx(Dx)};let o={id:a,type:`loopContainer`,position:{x:h.position.x,y:h.position.y+220},data:{label:``,variant:`loop-container`,isContainer:!0,config:{forNodeId:p,headerHeight:Ax,padding:Fx(Dx)},width:Ox,height:kx,inputs:[{id:`loop-in`,name:``,type:`any`},{id:`loop-right`,name:``,type:`any`}],outputs:[{id:`loop-left`,name:``,type:`any`}],category:``},draggable:!0,selectable:!0,style:{width:`${Ox}px`,height:`${kx}px`}};e.value.push(o),n(o),r();let s=`${p}_to_${a}`;t.value.push({id:s,source:p,sourceHandle:`loop`,target:a,targetHandle:`loop-in`,updatable:!1}),i(a)}return o(),p}function m(t){let n=e.value.filter(e=>e.parentNode===t).map(e=>e.id),r=new Set([t,...n]);h(r)}function h(n){if(n.size===0)return;let a=new Set;e.value.forEach(e=>{n.has(e.id)&&e.parentNode&&a.add(e.parentNode)}),e.value=e.value.filter(e=>!n.has(e.id)),t.value=t.value.filter(e=>!n.has(e.source)&&!n.has(e.target)),r(),a.forEach(t=>{e.value.some(e=>e.id===t)&&i(t)})}function g(t,n,r){let i=e.value.find(e=>e.id===t);if(i){if(a(),i.type===`custom`&&i.data?.variant===`for`){let e=i.data?.config?.containerId;typeof e==`string`&&m(e)}i.type===`loopContainer`&&m(t),h(new Set([t])),n.value&&n.value===t&&l(null),r.value&&r.value===t&&u(),o()}}function _(t,n){let r=e.value.find(e=>e.id===t);r&&r.data&&(r.data={...r.data,...n},s())}function v(t,n){let r=e.value.find(e=>e.id===t);r?.data&&(r.data.config={...r.data.config,...n},r.id.split(`_`)[0]===`if`&&y(t,{recordHistory:!1}),s())}function y(n,i={}){let a=e.value.find(e=>e.id===n);if(!a?.data)return;let o=new wt,c=a.data.config||{},l=Array.isArray(c.conditions)?c.conditions:[],u=o.getOutputsForConfig({conditions:l}),d=(a.data.outputs||[]).map(e=>e.id).filter(e=>!u.some(t=>t.id===e));if(a.data={...a.data,outputs:u},d.length>0){let e=t.value.length;t.value=t.value.filter(e=>{if(e.source!==n)return!0;let t=e.sourceHandle??``;return!d.includes(t)}),t.value.length!==e&&r()}Ux(n),i.recordHistory!==!1&&s()}function b(t,n){let r=e.value.find(e=>e.id===t);r&&r.data&&(r.data.result=n,c())}function x(t){let n=e.value.find(e=>e.id===t);n&&n.data&&(n.data.resultExpanded=!n.data.resultExpanded,c())}function S(t,n,r){if(r.has(t)){r.delete(t);return}let a=e.value.find(e=>e.id===t);if(!a)return;let o=Math.max(n.width,0),c=Math.max(n.height,0);a.width=o,a.height=c,a.style={...a.style||{},width:`${o}px`,height:`${c}px`},a.type===`loopContainer`&&(a.data={...a.data,config:a.data?.config||{},inputs:a.data?.inputs||[],outputs:a.data?.outputs||[],width:o,height:c},i(t)),s()}return{createNodeByType:p,removeNode:g,removeNodesAndEdges:h,updateNodeData:_,updateNodeConfig:v,syncIfNodePorts:y,updateNodeResult:b,toggleResultExpanded:x,updateNodeDimensions:S,generateUniqueName:f}}function jC(e,t,n,r,i,a,o,s,c,l){let u=F(null);function d(){u.value=null}function f(n){if(!Array.isArray(n)||n.length===0){d();return}let r=new Set(n.filter(Boolean));if(r.size===0){d();return}let i=e.value.filter(e=>r.has(e.id));if(i.length===0){d();return}let a=new Map(e.value.map(e=>[e.id,e])),o=new Map,s=i.map(e=>{let t=Wx(e,a,o),n=Px(e);return Lx(n),{sourceId:e.id,node:n,absolutePosition:t}}),c=1/0,l=1/0;s.forEach(({absolutePosition:e})=>{c=Math.min(c,e.x),l=Math.min(l,e.y)});let f={x:Number.isFinite(c)?c:0,y:Number.isFinite(l)?l:0},p=t.value.filter(e=>r.has(e.source)&&r.has(e.target)).map(e=>Px(e));u.value={nodes:s,edges:p,anchor:f}}function p(){return!!(u.value&&u.value.nodes.length>0)}function m(d){let f=u.value;if(!f||f.nodes.length===0)return[];let p={x:d.x-f.anchor.x,y:d.y-f.anchor.y},m=new Map,h=new Map,g=new Map;f.nodes.forEach(e=>{let t=zx(e.node);m.set(e.sourceId,t),h.set(e.sourceId,{x:e.absolutePosition.x+p.x,y:e.absolutePosition.y+p.y}),g.set(e.sourceId,e.node)});let _=[...f.nodes].sort((e,t)=>Gx(e.node,g)-Gx(t.node,g)),v=new Set,y=[];s();try{_.forEach(t=>{let r=t.node,i=Px(r);Lx(i);let a=m.get(t.sourceId);if(!a)return;i.id=a;let s=h.get(t.sourceId);if(!s)return;let c=r.parentNode;if(c&&m.has(c)){let e=m.get(c);i.parentNode=e;let t=h.get(c);t?i.position={x:s.x-t.x,y:s.y-t.y}:i.position={...s},v.add(e)}else i.parentNode&&delete i.parentNode,i.position={...s};if(i.data){if(i.data={...i.data},i.data.config){i.data.config=Px(i.data.config);let e=i.data.config;[`containerId`,`forNodeId`].forEach(t=>{let n=e[t];typeof n==`string`&&(m.has(n)?e[t]=m.get(n):delete e[t])})}i.data.inputs&&(i.data.inputs=Px(i.data.inputs)),i.data.outputs&&(i.data.outputs=Px(i.data.outputs)),`result`in i.data&&delete i.data.result,`resultExpanded`in i.data&&delete i.data.resultExpanded,typeof i.data.label==`string`&&i.data.label&&(i.data.label=o(i.data.label))}n(i),e.value.push(i),y.push(i.id),i.type===`loopContainer`&&v.add(i.id),Ux(i.id)});let i=Date.now();f.edges.forEach((e,n)=>{let a=m.get(e.source),o=m.get(e.target);if(!a||!o)return;let s=Px(e);s.id=`edge_${i+n}_${Math.random().toString(36).slice(2,9)}`,s.source=a,s.target=o,t.value.push(s),r(s)}),v.forEach(t=>{let n=e.value.find(e=>e.id===t);n&&(a(n),Ux(n.id))})}finally{c(),i()}return l(),y}return{clipboard:u,clearClipboard:d,copyNodesToClipboard:f,hasClipboardData:p,pasteClipboardNodes:m}}function MC(e,t,n){let r=new Map(t.map(e=>[e.id,e])),i=IC(e,n),a=new Map,o=[];return i.forEach(e=>{let t=r.get(e);if(!t?.data?.result)return;let n=t.data.result.data.outputs,i=Object.entries(n||{});if(i.length===0)return;let s=t.data.label||e,c=t.data.label||e,l={id:e,label:c,valueType:`node`,value:null,children:[],nodeId:e};i.forEach(([,e])=>{let t=e.value,n=s;if(t&&typeof t==`object`&&!Array.isArray(t)&&`data`in t){let e=t.data,n=t.isError;e&&typeof e==`object`&&(t={...e,...n===void 0?{}:{isError:n}})}a.set(s,t);let r=LC(t,n,a);l.children?.push(...r)}),o.push(l)}),{tree:o,map:a}}function NC(e,t,n){let r=mi(e),i=new Map;return t.forEach(e=>{i.set(e.id,e.type)}),PC(r,i,n)}function PC(e,t,n,r){if(typeof e==`string`)return FC(e,n,r);if(Array.isArray(e))return e.map(e=>PC(e,t,n,r));if(e&&typeof e==`object`){let r={};return Object.entries(e).forEach(([e,i])=>{let a=t.get(e);r[e]=PC(i,t,n,a)}),r}return e}function FC(e,t,n){let r=[...e.matchAll(/\{\{\s*\$?([^{}]+?)\s*\}\}/g)];if(r.length===0)return VC(e,n);let i=r[0];if(!i)return VC(e,n);if(r.length===1&&e.trim()===i[0]){let r=i[1];if(!r)return e;let a=r.trim(),o=t.get(a);return o===void 0?e:VC(o,n)}let a=e;return r.forEach(([e,n])=>{if(!n)return;let r=n.trim();if(!t.has(r))return;let i=t.get(r),o=typeof i==`string`?i:JSON.stringify(i,null,2);a=a.replace(e,o)}),VC(a,n)}function IC(e,t){let n=new Set,r=[],i=e=>{t.filter(t=>t.target===e).forEach(e=>{n.has(e.source)||(n.add(e.source),r.push(e.source),i(e.source))})};return i(e),r}function LC(e,t,n){return e==null?[]:Array.isArray(e)?e.map((e,r)=>{let i=`${t}.${r}`;return n.set(i,e),{id:i,label:`[${r}]`,valueType:RC(e),reference:zC(i),value:e,children:LC(e,i,n)}}):typeof e==`object`?Object.entries(e).filter(([e])=>e!==`type`).map(([e,r])=>{let i=`${t}.${e}`;return n.set(i,r),{id:i,label:e,valueType:RC(r),reference:zC(i),value:r,children:LC(r,i,n)}}):[]}function RC(e){return e===null?`null`:e===void 0?`undefined`:Array.isArray(e)?`array`:typeof e}function zC(e){return`{{ ${e} }}`}function BC(e){if(!e||typeof e!=`string`)return``;let t=[...e.matchAll(/\{\{\s*([^{}]+?)\s*\}\}/g)];if(t.length===0)return e;let n=t.map(e=>{let t=e[1]?.trim();if(!t)return e[0];let n=t.split(`.`);if(n.length===0)return e[0];let r=n[0],i=n[n.length-1];return n.length===1||/^\d+$/.test(i||``)?r||e[0]:`${r} - ${i}`}),r=t[0];if(t.length===1&&r&&e.trim()===r[0])return n[0]||e;let i=e;return t.forEach((e,t)=>{i=i.replace(e[0],n[t]||e[0])}),i}function VC(e,t){if(!t)return e;switch(t){case`number`:if(typeof e==`number`)return e;if(typeof e==`string`){let t=e.trim();if(!t)return e;let n=Number(t);return Number.isNaN(n)?e:n}return typeof e==`boolean`?e?1:0:e;case`boolean`:if(typeof e==`boolean`)return e;if(typeof e==`string`){let t=e.trim().toLowerCase();if([`true`,`1`].includes(t))return!0;if([`false`,`0`].includes(t))return!1}return typeof e==`number`?e!==0:!!e;case`array`:if(Array.isArray(e))return e;if(typeof e==`string`)try{let t=JSON.parse(e);return Array.isArray(t)?t:e}catch{return e}return e;case`object`:if(e&&typeof e==`object`&&!Array.isArray(e))return e;if(typeof e==`string`)try{return JSON.parse(e)}catch{return e}return e;default:return e}}function HC(e,t,n,r){let i=F(!1),a=F(null),o=F(null),s=gC(),c=Me(),l=``,u=0;function d(e,t){let n=Date.now();t===l&&n-u<2e3||(l=t,u=n,c.showError(e,t))}async function f(){if(s.mode.value===`server`){let e=s.status.value;if(e===`error`||e===`disconnected`)return d(``,`${s.serverUrl.value}`),!1}if(s.isReady.value)return!0;let e=null;try{await Promise.race([s.waitForReady(),new Promise((t,n)=>{e=window.setTimeout(()=>{n(Error(` 5 `))},5e3)})])}catch(e){let t=e instanceof Error?e.message:String(e??``);return d(``,t),!1}finally{e&&window.clearTimeout(e)}return s.isReady.value?!0:(d(``,``),!1)}function p(n){let r={},i=t.value.filter(e=>e.target===n);for(let t of i){let n=e.value.find(e=>e.id===t.source);if(!n?.data?.result)continue;let i=t.targetHandle||`default`,a=t.sourceHandle||`result`,o=n.data.result.data.outputs||{},s=Object.keys(o),c=s.length>0,l;if(a&&a!==`result`)Object.prototype.hasOwnProperty.call(o,a)&&(l=o[a]);else if(c){let e=s[0];e!==void 0&&(l=o[e])}l?r[i]=l.value:c?r[i]=void 0:r[i]=n.data.result.data.raw??null}return r}function m(n){let{tree:r}=MC(n,e.value,t.value);return r}async function h(t){console.warn(`[useNodeExecution]   `,`\n   ID: ${t}`,`
   Worker `),e.value.find(e=>e.id===t)&&n(t,{duration:0,data:{outputs:{},raw:null,summary:``},status:`error`,error:` Worker`,timestamp:Date.now()})}async function g(n,r={}){if(i.value){c.showWarning(``,``);return}let l=new Map(e.value.map(e=>[e.id,e])),u=Array.from(l.values()).filter(e=>!e.data?.isContainer);if(u.length===0){o.value=``,c.showError(``,``);return}if(!u.find(e=>Bx(e)===`start`)){o.value=``,c.showError(``,``);return}if(!await f()){o.value=``;return}i.value=!0,o.value=null,a.value=null;let d=r.clearPreviousResult??!0;u.forEach(e=>{e.data&&(e.data.executionStatus=`pending`,e.data.executionError=void 0,d&&e.data.result&&delete e.data.result,e.data.resultExpanded=!1)}),e.value.forEach(e=>{e.data?.isContainer&&(e.data.executionStatus=void 0,e.data.executionError=void 0)});try{let e=u.map(e=>({id:e.id,type:e.type,parentNode:e.parentNode,data:JSON.parse(JSON.stringify(e.data??{}))})),r=t.value.filter(e=>!!e.source&&!!e.target).map(e=>({id:e.id,source:e.source,target:e.target,sourceHandle:e.sourceHandle??null,targetHandle:e.targetHandle??null}));console.log(`[useNodeExecution]  ID: ${n}: ${e.length}: ${r.length}`),console.log(`[useNodeExecution] : ${s.mode.value}`);let i=`exec_${Date.now()}`;return s.executeWorkflow(i,n,e,r),console.log(`[useNodeExecution]  ID: ${i} ID: ${n}`),i}catch(e){let t=e instanceof Error?e.message:String(e??``);throw o.value=t,a.value=null,c.showError(``,t,e instanceof Error?e.stack:void 0),u.forEach(e=>{e.data&&e.data.executionStatus===`pending`&&(e.data.executionStatus=`error`,e.data.executionError=t)}),i.value=!1,e}}return{isExecutingWorkflow:i,lastExecutionLog:a,lastExecutionError:o,collectNodeInputs:p,getAvailableVariables:m,executeNode:h,executeWorkflow:g}}const UC=he(`nodeEditor`,()=>{let e=Xx(),t=F(e.nodes),n=F(e.edges),{schedulePersist:r}=Yx(t,n),{applyNodeLayerClass:i,refreshNodeLayerClasses:a,applyEdgeLayerClass:o,refreshEdgeLayerClasses:s}=Zx(t,n);t.value.forEach(e=>i(e)),s(),t.value.forEach(e=>{`extent`in e&&e.extent&&delete e.extent,e.data&&e.data.config&&(e.data.config.padding=Ix(e.data.config.padding))}),n.value.forEach(e=>{e.sourceHandle===`loop-out`&&(e.sourceHandle=`loop-right`),e.targetHandle===`loop-out`&&(e.targetHandle=`loop-right`)});let{canUndo:c,canRedo:l,historyRecords:u,recordHistory:d,recordHistoryDebounced:f,undo:p,redo:m,clearHistory:h,initializeHistory:g,batchStart:_,batchEnd:v,getHistoryDebugInfo:y}=Qx(t,n,()=>r()),b=()=>{a(),s()},x=()=>p(b,b),S=()=>m(b,b),{getContainerVisualConfig:C,layoutContainerChildren:w,updateContainerBounds:T,ensureContainerCapacity:E,clampChildPosition:D,setContainerHighlight:O,skipDimensionUpdate:k}=nS(t);t.value.filter(e=>e.type===`loopContainer`).forEach(e=>{w(e.id)});let{selectedNodeId:A,selectedNode:ee,renamingNodeId:j,isNodeEditorVisible:M,selectNode:N,openNodeEditor:te,closeNodeEditor:ne,startRenamingNode:re,stopRenamingNode:ie,renameNode:P}=$x(t,d,r),{addEdge:ae,removeEdge:oe,validateConnection:se}=eS(t,n,o,s,d),{createNodeByType:ce,removeNode:le,updateNodeData:ue,updateNodeConfig:de,syncIfNodePorts:fe,updateNodeResult:pe,toggleResultExpanded:me,updateNodeDimensions:he,generateUniqueName:ge}=AC(t,n,i,s,w,_,v,f,r,N,ie),_e=e=>{le(e,A,j)},{updateNodePosition:ve,handleNodeDrag:ye,handleNodeDragStop:be,autoLayout:I,beginNodeDetachFromContainer:xe,finalizeNodeDetachFromContainer:Se,moveNodeIntoContainer:Ce}=ZS(t,n,C,E,D,T,w,a,s,d,f,_,v),{clipboard:L,clearClipboard:we,copyNodesToClipboard:Te,hasClipboardData:R,pasteClipboardNodes:Ee}=jC(t,n,i,o,s,T,ge,_,v,r),{isExecutingWorkflow:De,lastExecutionLog:Oe,lastExecutionError:ke,collectNodeInputs:Ae,getAvailableVariables:je,executeNode:z,executeWorkflow:Me}=HC(t,n,pe,r),B=(e=`default-workflow`,t)=>Me(e,t);Xe.on(Ft.COMPLETED,()=>{De.value=!1}),Xe.on(Ft.ERROR,()=>{De.value=!1});function Ne(){t.value=[],n.value=[],a(),s(),N(null),h(),r(!0)}function Pe(e,r){_(),t.value=[],n.value=[],t.value=e.map(e=>({...e})),n.value=r.map(e=>({...e})),a(),s(),v(),N(null)}return{nodes:t,edges:n,selectedNodeId:A,selectedNode:ee,isNodeEditorVisible:M,renamingNodeId:j,isExecutingWorkflow:De,lastExecutionLog:Oe,lastExecutionError:ke,clipboard:L,initializeHistory:g,canUndo:c,canRedo:l,undo:x,redo:S,batchStart:_,batchEnd:v,historyRecords:u,getHistoryDebugInfo:y,createNodeByType:ce,removeNode:_e,updateNodeData:ue,updateNodeConfig:de,syncIfNodePorts:fe,updateNodeResult:pe,toggleResultExpanded:me,updateNodeDimensions:(e,t)=>{he(e,t,k)},handleNodeDrag:ye,handleNodeDragStop:be,updateNodePosition:ve,autoLayout:I,beginNodeDetachFromContainer:xe,finalizeNodeDetachFromContainer:Se,moveNodeIntoContainer:Ce,addEdge:ae,removeEdge:oe,validateConnection:se,setContainerHighlight:O,layoutContainerChildren:w,clearClipboard:we,copyNodesToClipboard:Te,hasClipboardData:R,pasteClipboardNodes:Ee,selectNode:N,openNodeEditor:te,closeNodeEditor:ne,startRenamingNode:re,stopRenamingNode:ie,renameNode:P,collectNodeInputs:Ae,getAvailableVariables:je,executeNode:z,executeWorkflow:B,clearCanvas:Ne,loadWorkflowData:Pe}});var WC={},GC={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`currentColor`,width:`14`,height:`14`};function KC(e,t){return l(),V(`svg`,GC,[...t[0]||=[U(`path`,{d:`M8 5v14l11-7z`},null,-1)]])}var qC=W(WC,[[`render`,KC]]),JC={},YC={class:`w-3 h-3 transition-transform`,viewBox:`0 0 12 12`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function XC(e,t){return l(),V(`svg`,YC,[...t[0]||=[U(`path`,{d:`M4 2L8 6L4 10`,stroke:`currentColor`,"stroke-width":`2`},null,-1)]])}var ZC=W(JC,[[`render`,XC]]),QC={key:0,class:`space-y-0.5`},$C={key:0,class:`text-purple-600 dark:text-purple-400 font-medium`},ew={class:`text-gray-600 dark:text-gray-400`},tw={key:1,class:`text-gray-400 dark:text-gray-500 text-xs ml-1`},nw={class:`text-gray-400 dark:text-gray-500 text-xs ml-1`},rw={key:0,class:`space-y-0.5`},iw={key:1,class:`flex items-center gap-1 px-1`},aw={key:0,class:`text-purple-600 dark:text-purple-400 font-medium`},ow={key:1,class:`text-gray-500`},sw=[`title`],cw=z({__name:`JsonNode`,props:{data:{},name:{default:null},depth:{default:0},isRoot:{type:Boolean,default:!1},expandMode:{default:`none`},expandTrigger:{default:0},isFirstBranch:{type:Boolean,default:!0},forceExpand:{type:Boolean,default:!1}},setup(e){let t=e,n=F(t.depth<2),r=I(()=>t.data!==null&&typeof t.data==`object`),i=I(()=>t.data===null?`null`:Array.isArray(t.data)?`array`:typeof t.data),a=I(()=>Array.isArray(t.data)?`[`:typeof t.data==`object`&&t.data!==null?`{`:``),o=I(()=>{if(Array.isArray(t.data))return t.data.length===0?`]`:`${t.data.length} items`;if(typeof t.data==`object`&&t.data!==null){let e=Object.keys(t.data).length;return e===0?`}`:`${e} keys`}return``}),s=I(()=>Array.isArray(t.data)?`]`:typeof t.data==`object`&&t.data!==null?`}`:``),c=I(()=>r.value?(Array.isArray(t.data),t.data):[]),u=I(()=>Array.isArray(t.data)),d=I(()=>{switch(i.value){case`string`:return`"${t.data}"`;case`null`:return`null`;case`undefined`:return`undefined`;case`boolean`:case`number`:return String(t.data);default:return String(t.data)}}),f=I(()=>({string:`text-green-600 dark:text-green-400`,number:`text-blue-600 dark:text-blue-400`,boolean:`text-orange-600 dark:text-orange-400`,null:`text-gray-400 dark:text-gray-500 italic`,undefined:`text-gray-400 dark:text-gray-500 italic`})[i.value]||`text-gray-600 dark:text-gray-400`),p=()=>{n.value=!n.value},m=I(()=>!r.value||n.value?``:`... ${s.value||(u.value?`]`:`}`)}`);T(()=>[t.expandMode,t.expandTrigger,t.isFirstBranch,t.forceExpand],()=>{if(r.value&&t.expandTrigger){if(t.expandMode===`none`){n.value=!1;return}if(t.expandMode===`all`){n.value=!0;return}if(t.expandMode===`first`){if(t.forceExpand){n.value=!0;return}n.value=t.isFirstBranch}}},{immediate:!0});let h=e=>t.expandMode===`all`?!0:t.expandMode===`none`?!1:t.expandMode===`first`&&t.isFirstBranch?u.value?e===0:!0:!1,g=(e,n)=>t.expandMode!==`first`||!t.expandTrigger?!1:u.value&&n===0?typeof e==`object`&&!!e:!!(t.isFirstBranch&&(Array.isArray(e)||n===0&&typeof e==`object`&&e));return(i,s)=>{let _=Fe(`JsonNode`,!0);return l(),V(`div`,{class:q([`select-text`,e.isRoot?``:`pl-5`])},[r.value?(l(),V(`div`,QC,[U(`div`,{class:`flex items-center gap-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 rounded px-1 -mx-1 transition-colors`,onClick:p},[U(`span`,{class:q([`inline-flex items-center justify-center w-4 h-4 text-gray-400 transition-transform`,{"rotate-90":n.value}])},[H(ZC,{class:`w-3 h-3`})],2),e.name===null?L(``,!0):(l(),V(`span`,$C,B(e.name),1)),s[0]||=U(`span`,{class:`text-gray-500`},`: `,-1),U(`span`,ew,B(a.value),1),!n.value&&m.value?(l(),V(`span`,tw,B(m.value),1)):L(``,!0),U(`span`,nw,B(o.value),1)]),n.value?(l(),V(`div`,rw,[(l(!0),V(G,null,Le(c.value,(e,n,r)=>(l(),K(_,{key:String(n),name:String(n),data:e,depth:t.depth+1,"expand-mode":t.expandMode,"expand-trigger":t.expandTrigger,"is-first-branch":h(u.value?Number(n):r),"force-expand":g(e,u.value?Number(n):r)},null,8,[`name`,`data`,`depth`,`expand-mode`,`expand-trigger`,`is-first-branch`,`force-expand`]))),128))])):L(``,!0)])):(l(),V(`div`,iw,[s[1]||=U(`span`,{class:`inline-flex w-4 h-4`},null,-1),e.name===null?L(``,!0):(l(),V(`span`,aw,B(e.name),1)),e.name===null?L(``,!0):(l(),V(`span`,ow,`: `)),U(`span`,{class:q([`flex-1 min-w-0 truncate`,f.value]),title:d.value},B(d.value),11,sw)]))],2)}}}),lw={class:`font-mono text-sm leading-relaxed`},uw=z({__name:`JsonViewer`,props:{data:{},rootName:{default:`root`},expandMode:{default:`none`},expandTrigger:{default:0}},setup(e){return(t,n)=>(l(),V(`div`,lw,[H(cw,{data:e.data,name:e.rootName,depth:0,"is-root":!0,"is-first-branch":!0,"expand-mode":e.expandMode,"expand-trigger":e.expandTrigger},null,8,[`data`,`name`,`expand-mode`,`expand-trigger`])]))}}),dw={},fw={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function pw(e,t){return l(),V(`svg`,fw,[...t[0]||=[U(`rect`,{x:`4`,y:`4`,width:`12`,height:`12`,rx:`2`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M7 7L9 9M13 7L11 9M7 13L9 11M13 13L11 11`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var mw=W(dw,[[`render`,pw]]),hw={class:`flex items-center gap-2 min-w-0 shrink`},gw={class:`truncate`},_w={key:0,class:`mt-2 w-full`},vw={key:0,class:`relative p-3 rounded-md text-xs bg-green-50 border border-green-200 w-full space-y-3`},yw={key:0,class:`flex items-center gap-2 px-2 py-1 rounded-md bg-white border border-green-100 text-[11px] text-green-700`},bw={class:`font-medium`},xw={class:`text-green-400`},Sw={key:1,class:`space-y-3`},Cw={class:`flex flex-wrap items-center justify-between gap-2 rounded-md border border-green-100 bg-white px-3 py-2`},ww={class:`text-[11px] text-slate-600`},Tw={key:0,class:`ml-2 text-green-500`},Ew={key:1,class:`ml-2 text-red-500`},Dw={class:`flex items-center gap-2 text-[11px]`},Ow=[`disabled`],kw=[`disabled`],Aw={class:`flex flex-wrap gap-1`},jw=[`onClick`],Mw={key:0,class:`space-y-3 rounded-md border border-green-100 bg-white p-3`},Nw={class:`flex items-center justify-between text-[11px] text-slate-500`},Pw={class:`space-y-1`},Fw={class:`grid gap-2`},Iw={class:`text-[10px] font-semibold text-slate-500`},Lw={class:`mt-1`},Rw={key:0,class:`space-y-1`},zw={class:`space-y-1.5`},Bw={class:`text-[11px] font-mono text-slate-500 truncate mr-2`},Vw={class:`flex items-center gap-2`},Hw={class:`text-[10px] text-slate-400`},Uw={key:1,class:`space-y-1`},Ww={class:`max-h-[220px] overflow-auto rounded border border-slate-200 bg-white p-2`},Gw={key:2,class:`space-y-2`},Kw={class:`flex items-center justify-between px-2 py-1.5 border-b border-slate-100`},qw={class:`text-[11px] font-semibold text-slate-700`},Jw={class:`px-2 py-0.5 text-[10px] rounded-full bg-purple-100 text-purple-600 font-medium`},Yw={class:`max-h-[220px] overflow-auto p-2`},Xw={key:3,class:`bg-white border border-slate-200 rounded-md max-h-[240px] overflow-auto p-2`},Zw={key:4,class:`text-[11px] text-slate-500 bg-white border border-slate-200 rounded px-2 py-1`},Qw={key:1,class:`relative p-3 rounded-md text-xs bg-red-50 border border-red-200 w-full`},$w={class:`m-0 p-2 bg-white border border-red-200 rounded text-red-900 leading-relaxed break-all max-w-full overflow-auto`},eT={class:`mt-2 pt-2 border-t border-slate-200 text-[11px] text-slate-600`},tT={class:`w-[92vw] max-w-5xl h-[85vh] bg-white rounded-md shadow-2xl overflow-hidden flex flex-col`},nT={class:`flex items-center justify-between px-5 py-2 bg-slate-50 border-b border-slate-200`},rT={class:`flex items-center gap-3 text-xs text-slate-500`},iT={key:0},aT={class:`flex-1 overflow-auto bg-white p-5`},oT=z({__name:`NodeResult`,props:{result:{},expanded:{type:Boolean,default:!1}},emits:[`toggle`],setup(e,{emit:t}){let n=e,r=t,i=F(n.expanded),a=I(()=>n.result?.iterations??[]),o=I(()=>a.value.length>0),s=I(()=>a.value.length),c=F(0),u=I(()=>{let e=n.result?.data?.outputs;return e?Object.values(e).filter(e=>e&&e.value!==void 0):[]}),d=I(()=>o.value?u.value.filter(e=>e.id!==`loop`):u.value),f=I(()=>d.value.length>0),p=I(()=>n.result?.data?.raw),m=I(()=>n.result?{status:n.result.status,duration:n.result.duration,timestamp:n.result.timestamp,error:n.result.error,data:n.result.data,iterations:n.result.iterations}:null),h=F(!1),g=F(`none`),_=F(0),v=I(()=>{let e=n.result;if(!e)return null;let t=e.data?.raw,r=null;if(t&&typeof t==`object`&&t){let e=t.branch;typeof e==`string`&&e.trim()&&(r=e)}if(!r){let e=d.value.find(e=>e?.value&&typeof e.value==`object`);e&&(r=e.id)}if(!r)return null;let i=(e.data?.outputs??{})[r];return{id:r,label:i?.label||r}}),y=I(()=>o.value?a.value[c.value]??null:null),b=I(()=>{if(!y.value)return[];let e=y.value.nodeResults??{};return Object.entries(e).map(([e,t])=>({nodeId:e,result:t}))}),x=I(()=>{if(!y.value)return null;let e=y.value.nodeResults??{},t=Object.values(e);return t.length===0?null:t[t.length-1]?.data??null}),S=I(()=>{if(!o.value)return{success:0,error:0};let e=a.value.filter(e=>e.status===`success`).length,t=a.value.filter(e=>e.status===`error`).length;return{success:e,error:t}});T(()=>n.expanded,e=>{i.value=e}),T(()=>n.result?.iterations,()=>{c.value=0}),T(s,e=>{if(e===0){c.value=0;return}c.value>e-1&&(c.value=e-1)});function C(){i.value=!i.value,r(`toggle`,i.value)}function w(){h.value=!0,P(()=>{O()})}function E(){h.value=!1,g.value=`none`}function D(e){g.value=e,_.value++}function O(){D(`first`)}function k(){D(`all`)}function A(){D(`none`)}function ee(){c.value>0&&--c.value}function j(){c.value<s.value-1&&(c.value+=1)}function M(e){e>=0&&e<s.value&&(c.value=e)}function N(e){return e===`success`?``:e===`error`?``:e}function te(e){return e===`success`?`bg-green-100 text-green-600`:e===`error`?`bg-red-100 text-red-600`:`bg-slate-100 text-slate-500`}function ne(e){return e<1e3?`${e.toFixed(0)}ms`:`${(e/1e3).toFixed(2)}s`}function re(e){return new Date(e).toLocaleString(`zh-CN`)}function ie(e){let t=e.composedPath();for(let n of t){if(!(n instanceof HTMLElement))continue;let{scrollTop:t,scrollHeight:r,clientHeight:i,scrollWidth:a,clientWidth:o}=n,s=r>i;if(!s&&!(a>o))continue;let c=e.deltaY>0,l=e.deltaY<0,u=s&&t<r-i-1;if(c&&u||l&&s&&t>1){e.stopPropagation();return}}}return(t,n)=>(l(),V(G,null,[e.result?(l(),V(`div`,{key:0,class:`border-t border-slate-200 p-3 bg-white w-full rounded-b-xl overflow-hidden`,onWheel:ie,onDblclick:n[0]||=He(()=>{},[`stop`])},[U(`button`,{class:`w-full flex items-center justify-between px-2 py-1.5 bg-slate-50 border border-slate-200 rounded cursor-pointer transition-all duration-200 text-xs text-slate-600 hover:bg-slate-100 hover:border-slate-300`,onClick:C},[U(`span`,hw,[H(ZC,{class:q([i.value?`rotate-90`:``,`shrink-0`])},null,8,[`class`]),U(`span`,gw,B(i.value?``:``),1)]),U(`span`,{class:q([`px-2 py-0.5 rounded-md text-[11px] font-medium shrink-0`,e.result.status===`success`?`bg-green-100 text-green-600`:`bg-red-100 text-red-600`])},B(ne(e.result.duration)),3)]),H(ge,{name:`slide-down`},{default:Y(()=>[i.value?(l(),V(`div`,_w,[e.result.status===`success`?(l(),V(`div`,vw,[U(`button`,{class:`absolute top-2 right-2 w-5 h-5 flex items-center justify-center rounded-md border border-green-200/80 bg-white/80 text-green-600 hover:bg-white transition`,title:``,onClick:He(w,[`stop`])},[H(mw,{class:`w-3.5 h-3.5`})]),n[6]||=U(`div`,{class:`flex items-center gap-1.5 font-medium text-slate-800`},[U(`span`,{class:`flex items-center justify-center w-4 h-4 rounded-full text-[10px] font-bold bg-green-500 text-white shrink-0`},`  `),U(`span`,null,``)],-1),v.value?(l(),V(`div`,yw,[n[1]||=U(`span`,{class:`text-green-500 font-semibold`},``,-1),U(`span`,bw,B(v.value.label),1),U(`span`,xw,`(`+B(v.value.id)+`)`,1)])):L(``,!0),o.value?(l(),V(`div`,Sw,[U(`div`,Cw,[U(`div`,ww,[Ge(` :  `+B(s.value)+`  `,1),S.value.success?(l(),V(`span`,Tw,` `+B(S.value.success)+` `,1)):L(``,!0),S.value.error?(l(),V(`span`,Ew,` `+B(S.value.error)+` `,1)):L(``,!0)]),U(`div`,Dw,[U(`button`,{class:`px-2 py-0.5 rounded border border-slate-200 bg-white text-slate-600 transition disabled:opacity-50 disabled:cursor-not-allowed`,disabled:c.value===0,onClick:ee},`  `,8,Ow),U(`span`,null,`  `+B(s.value===0?0:c.value+1)+` / `+B(s.value)+`  `,1),U(`button`,{class:`px-2 py-0.5 rounded border border-slate-200 bg-white text-slate-600 transition disabled:opacity-50 disabled:cursor-not-allowed`,disabled:c.value>=s.value-1,onClick:j},`  `,8,kw)])]),U(`div`,Aw,[(l(!0),V(G,null,Le(a.value,(e,t)=>(l(),V(`button`,{key:t,class:q([`px-2 py-0.5 text-[10px] rounded border transition`,[t===c.value?`bg-indigo-500 text-white border-indigo-500`:`bg-white text-slate-500 border-slate-200`,a.value[t]?.status===`error`&&t!==c.value?`border-red-300 text-red-500`:``]]),onClick:e=>M(t)},B(t+1),11,jw))),128))]),y.value?(l(),V(`div`,Mw,[U(`div`,Nw,[U(`span`,null,[n[2]||=Ge(` `,-1),U(`span`,{class:q([`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium`,te(y.value.status)])},B(N(y.value.status)),3)]),U(`span`,null,``+B(ne(y.value.duration)),1)]),U(`div`,Pw,[n[3]||=U(`div`,{class:`text-[11px] font-semibold text-slate-600`},`  `,-1),U(`div`,Fw,[(l(!0),V(G,null,Le(y.value.variables,(e,t)=>(l(),V(`div`,{key:t,class:`rounded border border-slate-200 bg-slate-50 p-2`},[U(`div`,Iw,B(t),1),U(`div`,Lw,[H(uw,{data:e},null,8,[`data`])])]))),128))])]),b.value.length>0?(l(),V(`div`,Rw,[n[4]||=U(`div`,{class:`text-[11px] font-semibold text-slate-600`},`  `,-1),U(`div`,zw,[(l(!0),V(G,null,Le(b.value,e=>(l(),V(`div`,{key:e.nodeId,class:`flex items-center justify-between rounded border border-slate-200 bg-white px-2 py-1`},[U(`span`,Bw,B(e.nodeId),1),U(`span`,Vw,[U(`span`,Hw,B(ne(e.result.duration)),1),U(`span`,{class:q([`px-2 py-0.5 rounded-full text-[10px] font-medium`,te(e.result.status)])},B(N(e.result.status)),3)])]))),128))])])):L(``,!0),x.value?(l(),V(`div`,Uw,[n[5]||=U(`div`,{class:`text-[11px] font-semibold text-slate-600`},`  `,-1),U(`div`,Ww,[H(uw,{data:x.value,"root-name":`output`},null,8,[`data`])])])):L(``,!0)])):L(``,!0)])):L(``,!0),f.value?(l(),V(`div`,Gw,[(l(!0),V(G,null,Le(d.value,e=>(l(),V(`div`,{key:e.id,class:`bg-white border border-slate-200 rounded-md`},[U(`div`,Kw,[U(`span`,qw,B(e.label),1),U(`span`,Jw,B(e.type),1)]),U(`div`,Yw,[H(uw,{data:e.value,"root-name":e.id},null,8,[`data`,`root-name`])])]))),128))])):(l(),V(`div`,Xw,[H(uw,{data:p.value,"root-name":`result`},null,8,[`data`])])),e.result.data.summary?(l(),V(`div`,Zw,B(e.result.data.summary),1)):L(``,!0)])):(l(),V(`div`,Qw,[U(`button`,{class:`absolute top-2 right-2 w-7 h-7 flex items-center justify-center rounded-md border border-red-200/80 bg-white/80 text-red-600 hover:bg-white transition`,title:``,onClick:He(w,[`stop`])},[H(mw,{class:`w-3.5 h-3.5`})]),n[7]||=U(`div`,{class:`flex items-center gap-1.5 mb-2 font-medium text-slate-800`},[U(`span`,{class:`flex items-center justify-center w-4 h-4 rounded-full text-[10px] font-bold bg-red-500 text-white shrink-0`},`  `),U(`span`,null,``)],-1),U(`p`,$w,B(e.result.error),1)])),U(`div`,eT,[U(`span`,null,B(re(e.result.timestamp)),1)])])):L(``,!0)]),_:1})],32)):L(``,!0),(l(),K(Ne,{to:`body`},[H(ge,{name:`fade`},{default:Y(()=>[h.value&&e.result?(l(),V(`div`,{key:0,class:`fixed inset-0 z-999 bg-black/60 backdrop-blur-sm flex items-center justify-center p-6`,onClick:He(E,[`self`])},[U(`div`,tT,[U(`div`,{class:`flex items-center justify-between px-5 py-3 bg-slate-50 border-b border-slate-200`},[n[8]||=U(`div`,{class:`text-sm font-semibold text-slate-700`},``,-1),U(`button`,{class:`w-8 h-8 flex items-center justify-center rounded-lg bg-white text-slate-500 hover:text-slate-700 border border-slate-200/80 shadow-sm`,title:``,onClick:E},`  `)]),U(`div`,nT,[U(`div`,rT,[U(`span`,null,`: `+B(e.result.status===`success`?``:``),1),e.result.duration?(l(),V(`span`,iT,`: `+B(ne(e.result.duration)),1)):L(``,!0),U(`span`,null,`: `+B(re(e.result.timestamp)),1)]),U(`div`,{class:`flex items-center gap-2 text-[11px]`},[U(`button`,{class:`px-2 py-1 rounded-md border border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:text-slate-800 transition`,onClick:O},`  `),U(`button`,{class:`px-2 py-1 rounded-md border border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:text-slate-800 transition`,onClick:k},`  `),U(`button`,{class:`px-2 py-1 rounded-md border border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:text-slate-800 transition`,onClick:A},`  `)])]),U(`div`,aT,[H(uw,{data:m.value,"root-name":`result`,"expand-mode":g.value,"expand-trigger":_.value},null,8,[`data`,`expand-mode`,`expand-trigger`])])])])):L(``,!0)]),_:1})]))],64))}}),sT=W(oT,[[`__scopeId`,`data-v-0b096a98`]]);const cT={ellipse:`node-port--ellipse`,circle:`node-port--circle`};function lT(e){let{nodeId:t,watchSource:n,debounceDelay:r=100}=e,{updateNodeInternals:i}=Dm();function a(){P(()=>{setTimeout(()=>{i([t]),console.log(`updatePortPositions`,t)},50)})}let o=Di(a,r);return T(n,()=>{o()},{deep:!0,immediate:!1}),oe(()=>{a()}),{updatePortPositions:a,debouncedUpdatePortPositions:o}}var uT={},dT={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`currentColor`,xmlns:`http://www.w3.org/2000/svg`};function fT(e,t){return l(),V(`svg`,dT,[...t[0]||=[U(`path`,{d:`M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6z`},null,-1),U(`path`,{d:`M10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z`},null,-1)]])}var pT=W(uT,[[`render`,fT]]),mT={},hT={class:`w-3.5 h-3.5 text-purple-600`,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function gT(e,t){return l(),V(`svg`,hT,[...t[0]||=[U(`rect`,{x:`2`,y:`2`,width:`12`,height:`12`,rx:`2`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M2 6H14M6 2V14`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1)]])}var _T=W(mT,[[`render`,gT]]),vT={},yT={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`};function bT(e,t){return l(),V(`svg`,yT,[...t[0]||=[U(`path`,{"fill-rule":`evenodd`,d:`M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z`,"clip-rule":`evenodd`},null,-1)]])}var xT=W(vT,[[`render`,bT]]),ST={},CT={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`};function wT(e,t){return l(),V(`svg`,CT,[...t[0]||=[U(`path`,{"fill-rule":`evenodd`,d:`M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z`,"clip-rule":`evenodd`},null,-1)]])}var TT=W(ST,[[`render`,wT]]),ET={},DT={class:`w-4 h-4`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function OT(e,t){return l(),V(`svg`,DT,[...t[0]||=[U(`path`,{d:`M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1),U(`path`,{d:`M15 12a3 3 0 11-6 0 3 3 0 016 0z`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var kT=W(ET,[[`render`,OT]]),AT={},jT={class:`w-5 h-5`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function MT(e,t){return l(),V(`svg`,jT,[...t[0]||=[U(`path`,{d:`M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M10 1.25L11.5 4.5H14.75L12.25 6.75L13.5 10L10 7.75L6.5 10L7.75 6.75L5.25 4.5H8.5L10 1.25Z`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var NT=W(AT,[[`render`,MT]]),PT={},FT={class:`w-3.5 h-3.5 text-purple-600`,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function IT(e,t){return l(),V(`svg`,FT,[...t[0]||=[U(`path`,{d:`M2 8H14M2 8C2 4.68629 4.68629 2 8 2M2 8C2 11.3137 4.68629 14 8 14M14 8C14 4.68629 11.3137 2 8 2M14 8C14 11.3137 11.3137 14 8 14M8 2V14`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var LT=W(PT,[[`render`,IT]]),RT={},zT={class:`w-16 h-16 opacity-50`,viewBox:`0 0 64 64`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function BT(e,t){return l(),V(`svg`,zT,[...t[0]||=[U(`rect`,{x:`16`,y:`16`,width:`32`,height:`32`,rx:`4`,class:`stroke-slate-300`,"stroke-width":`2`},null,-1),U(`circle`,{cx:`32`,cy:`32`,r:`4`,class:`fill-slate-300`},null,-1)]])}var VT=W(RT,[[`render`,BT]]),HT={},UT={viewBox:`0 0 24 24`,class:`n8n-icon`,"aria-hidden":`true`,focusable:`false`,role:`img`,"data-icon":`external-link`};function WT(e,t){return l(),V(`svg`,UT,[...t[0]||=[U(`path`,{fill:`none`,stroke:`currentColor`,"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 3h6v6m-11 5L21 3m-3 10v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6`},null,-1)]])}var GT=W(HT,[[`render`,WT]]),KT={},qT={width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function JT(e,t){return l(),V(`svg`,qT,[...t[0]||=[U(`path`,{d:`M3.69653 4.35645L3.29907 4.80566L3.33813 4.97559H4.36157C4.15258 6.18457 3.99633 7.27441 3.69653 8.9541C3.33813 11.0967 3.13207 11.623 3.01 11.8154C2.90258 12.0059 2.74829 12.1045 2.5393 12.1045C2.30981 12.1045 1.89477 11.9229 1.67211 11.7168C1.59204 11.6621 1.49731 11.6758 1.39672 11.7422C1.19555 11.9121 1.00024 12.1738 1.00024 12.4082C0.988519 12.7246 1.41137 13 1.81469 13C2.17016 13 2.6936 12.7773 3.24438 12.2539C3.99731 11.54 4.56079 10.5605 5.03149 8.44336C5.33422 7.0918 5.4768 6.21289 5.68969 4.97656L6.96118 4.86133L7.23657 4.35645H5.80493C6.17504 2.02832 6.46411 1.68359 6.81957 1.68359C7.0559 1.68359 7.33129 1.86523 7.6477 2.22266C7.74145 2.35156 7.88207 2.33789 7.9895 2.25C8.17016 2.14258 8.39282 1.86719 8.40747 1.61719C8.41821 1.3418 8.09008 1 7.52563 1C7.01391 1 6.22973 1.3418 5.57055 2.01367C4.99243 2.62598 4.68969 3.39062 4.48071 4.35645H3.69653ZM7.76489 5.91504C8.15942 5.38965 8.39575 5.21484 8.51782 5.21484C8.64379 5.21484 8.74438 5.33887 8.9602 6.03613L9.32934 7.22656C8.61547 8.31836 8.09301 8.92676 7.77563 8.92676C7.67016 8.92676 7.56372 8.89355 7.48852 8.81934C7.4143 8.74512 7.33227 8.68359 7.25219 8.68359C6.99047 8.68359 6.66625 9.00098 6.66039 9.39453C6.65454 9.7959 6.93579 10.083 7.30493 10.083C7.93872 10.083 8.47485 9.46094 9.51 7.81152L9.81274 8.83203C10.0725 9.70898 10.3772 10.083 10.7581 10.083C11.2288 10.083 11.8616 9.68164 12.552 8.59668L12.2629 8.2666C11.8479 8.7666 11.5725 9.00098 11.4094 9.00098C11.2278 9.00098 11.0686 8.72363 10.8586 8.04199L10.4163 6.60352C10.678 6.21777 10.9358 5.89355 11.1623 5.63477C11.4319 5.32715 11.6399 5.19629 11.7815 5.19629C11.9006 5.19629 12.0041 5.24707 12.0686 5.31836C12.1536 5.41211 12.2043 5.45605 12.3049 5.45605C12.5325 5.45605 12.884 5.16699 12.8967 4.78418C12.9084 4.42871 12.6877 4.12598 12.3049 4.12598C11.7268 4.12598 11.217 4.62402 10.2356 6.08301L10.0334 5.45703C9.75024 4.57812 9.56274 4.12598 9.16821 4.12598C8.70922 4.12598 8.07836 4.69043 7.46118 5.58496L7.76489 5.91504Z`,fill:`#7D838F`},null,-1)]])}var YT=W(KT,[[`render`,JT],[`__scopeId`,`data-v-6c4a700e`]]),XT={},ZT={t:`1761820393760`,class:`icon`,viewBox:`0 0 1024 1024`,version:`1.1`,xmlns:`http://www.w3.org/2000/svg`,"p-id":`15758`,width:`200`,height:`200`};function QT(e,t){return l(),V(`svg`,ZT,[...t[0]||=[U(`path`,{d:`M320.512 256h92.48v46.08h-92.48V256z m469.184 113.504h46.72v46.08h-46.72v-46.08z m46.72 46.08h46.08V739.52h-46.08V415.584zM790.304 739.52h46.08v139.2h-46.08v-139.2z m-46.08 232.32H373.056v-93.12h-46.08v139.2h463.296v-139.2h-46.08v93.12z m-463.328-185.28h46.08v92.16h-46.08v-92.16z m-46.08-92.224h46.08v92.192h-46.08v-92.192z m-46.112-92.192h46.08v92.16h-46.08v-92.16z m-46.08-48.416h46.08v48.416h-46.08v-48.416z m155.68-59.2v-46.08H188.928l-46.336 105.28h46.336l25.216-59.2h84.16z`,fill:`#515151`,"p-id":`15759`},null,-1),U(`path`,{d:`M280.896 476.608v172.8h46.08V302.08h-46.08v174.464z m184.704-13.6V277.312h92.992V231.2H465.6v6.912h-46.08v224.896h46.08z m139.104 0v-139.616h92.8v-46.08h-138.88v185.696h46.08z m138.88 45.984v-139.52h46.112v-46.08h-92.192v185.6h46.08z`,fill:`#515151`,"p-id":`15760`},null,-1)]])}var $T=W(XT,[[`render`,QT]]),eE={},tE={class:`w-5 h-5`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function nE(e,t){return l(),V(`svg`,tE,[...t[0]||=[U(`rect`,{x:`7`,y:`2.5`,width:`6`,height:`4`,rx:`1`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`rect`,{x:`3`,y:`13.5`,width:`6`,height:`4`,rx:`1`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`rect`,{x:`11`,y:`13.5`,width:`6`,height:`4`,rx:`1`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M10 6.5V10M10 10L6 12M10 10L14 12`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var rE=W(eE,[[`render`,nE]]),iE={},aE={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`currentColor`};function oE(e,t){return l(),V(`svg`,aE,[...t[0]||=[U(`path`,{"fill-rule":`evenodd`,d:`M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z`,"clip-rule":`evenodd`},null,-1)]])}var sE=W(iE,[[`render`,oE]]),cE={},lE={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function uE(e,t){return l(),V(`svg`,lE,[...t[0]||=[U(`rect`,{x:`6`,y:`9`,width:`8`,height:`7`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M8 9V6C8 4.89543 8.89543 4 10 4C11.1046 4 12 4.89543 12 6V9`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var dE=W(cE,[[`render`,uE]]),fE={},pE={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function mE(e,t){return l(),V(`svg`,pE,[...t[0]||=[U(`rect`,{x:`3`,y:`3`,width:`14`,height:`14`,rx:`2`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`rect`,{x:`6`,y:`6`,width:`3`,height:`3`,rx:`0.5`,fill:`currentColor`},null,-1),U(`rect`,{x:`11`,y:`6`,width:`3`,height:`3`,rx:`0.5`,fill:`currentColor`,opacity:`0.5`},null,-1),U(`rect`,{x:`6`,y:`11`,width:`3`,height:`3`,rx:`0.5`,fill:`currentColor`,opacity:`0.5`},null,-1)]])}var hE=W(fE,[[`render`,mE]]),gE={},_E={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function vE(e,t){return l(),V(`svg`,_E,[...t[0]||=[U(`path`,{d:`M4 10H16`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var yE=W(gE,[[`render`,vE]]),bE={},xE={class:`w-6 h-6`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function SE(e,t){return l(),V(`svg`,xE,[...t[0]||=[U(`rect`,{x:`4`,y:`4`,width:`6`,height:`6`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`2`},null,-1),U(`rect`,{x:`14`,y:`4`,width:`6`,height:`6`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`2`},null,-1),U(`rect`,{x:`4`,y:`14`,width:`6`,height:`6`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`2`},null,-1),U(`rect`,{x:`14`,y:`14`,width:`6`,height:`6`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`2`},null,-1)]])}var CE=W(bE,[[`render`,SE]]),wE={},TE={class:`w-4 h-4`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function EE(e,t){return l(),V(`svg`,TE,[...t[0]||=[U(`path`,{d:`M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1),U(`path`,{d:`M21 12a9 9 0 11-18 0 9 9 0 0118 0z`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1)]])}var DE=W(wE,[[`render`,EE]]),OE={},kE={class:`w-4 h-4`,viewBox:`0 0 18 18`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function AE(e,t){return l(),V(`svg`,kE,[...t[0]||=[U(`path`,{d:`M9 4V14M4 9H14`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`},null,-1)]])}var jE=W(OE,[[`render`,AE]]),ME={},NE={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`};function PE(e,t){return l(),V(`svg`,NE,[...t[0]||=[U(`path`,{d:`M21 7v6h-6`},null,-1),U(`path`,{d:`M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7`},null,-1)]])}var FE=W(ME,[[`render`,PE]]),IE={},LE={class:`w-4 h-4`,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function RE(e,t){return l(),V(`svg`,LE,[...t[0]||=[U(`path`,{d:`M2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8C14 11.3137 11.3137 14 8 14`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1),U(`path`,{d:`M5 14L2 14L2 11`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var zE=W(IE,[[`render`,RE]]),BE={},VE={class:`w-4 h-4`,viewBox:`0 0 18 18`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function HE(e,t){return l(),V(`svg`,VE,[...t[0]||=[U(`circle`,{cx:`9`,cy:`9`,r:`3`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M9 1V3M9 15V17M17 9H15M3 9H1M14.5 14.5L13 13M5 5L3.5 3.5M14.5 3.5L13 5M5 13L3.5 14.5`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var UE=W(BE,[[`render`,HE]]),WE={},GE={class:`w-4 h-4`,viewBox:`0 0 18 18`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function KE(e,t){return l(),V(`svg`,GE,[...t[0]||=[U(`path`,{d:`M4 6H14M6 6V5C6 4.44772 6.44772 4 7 4H11C11.5523 4 12 4.44772 12 5V6M7.5 9V12M10.5 9V12M5 6H13V14C13 14.5523 12.5523 15 12 15H6C5.44772 15 5 14.5523 5 14V6Z`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,-1)]])}var qE=W(WE,[[`render`,KE]]),JE={},YE={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`};function XE(e,t){return l(),V(`svg`,YE,[...t[0]||=[U(`path`,{d:`M3 7v6h6`},null,-1),U(`path`,{d:`M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13`},null,-1)]])}var ZE=W(JE,[[`render`,XE]]),QE={},$E={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function eD(e,t){return l(),V(`svg`,$E,[...t[0]||=[U(`rect`,{x:`6`,y:`9`,width:`8`,height:`7`,rx:`1.5`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M8 9V6C8 4.89543 8.89543 4 10 4C11.1046 4 12 4.89543 12 6`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1),U(`path`,{d:`M8 6L6 4`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var tD=W(QE,[[`render`,eD]]),nD={},rD={class:`w-3.5 h-3.5 text-purple-600`,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function iD(e,t){return l(),V(`svg`,rD,[...t[0]||=[U(`rect`,{x:`2`,y:`2`,width:`5`,height:`5`,rx:`1`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`rect`,{x:`9`,y:`9`,width:`5`,height:`5`,rx:`1`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M4.5 7V9M7 4.5H9M7 11.5H9M11.5 7V9`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1)]])}var aD=W(nD,[[`render`,iD]]),oD={},sD={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function cD(e,t){return l(),V(`svg`,sD,[...t[0]||=[U(`circle`,{cx:`8`,cy:`8`,r:`5`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M8 6V10M6 8H10M12 12L16 16`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var lD=W(oD,[[`render`,cD]]),uD={},dD={class:`w-4 h-4`,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function fD(e,t){return l(),V(`svg`,dD,[...t[0]||=[U(`circle`,{cx:`8`,cy:`8`,r:`5`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M6 8H10M12 12L16 16`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var pD=W(uD,[[`render`,fD]]),mD={},hD={class:`w-3.5 h-3.5 text-purple-600`,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`};function gD(e,t){return l(),V(`svg`,hD,[...t[0]||=[U(`circle`,{cx:`7`,cy:`7`,r:`4`,stroke:`currentColor`,"stroke-width":`1.5`},null,-1),U(`path`,{d:`M10 10L13 13M7 5V9M5 7H9`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`},null,-1)]])}var _D=W(mD,[[`render`,gD]]),vD={class:`text-[10px]`},yD={class:`flex items-center gap-2 flex-1 text-[9px] tracking-wide relative z-10`},bD={key:0,class:`shrink-0 w-4 h-4 flex items-center justify-center text-white`},xD=[`innerHTML`],SD={key:2,class:`text-xs leading-none`},CD={class:`flex-1 min-w-0`},wD=[`onKeydown`],TD={key:1,class:`block truncate`},ED={class:`flex items-center gap-1.5 relative z-10`},DD={class:`relative`},OD=z({__name:`NodeWrapper`,props:{id:{},data:{},selected:{type:Boolean,default:!1},customHandles:{type:Boolean,default:!1},customGetHandleStyle:{}},setup(t){let n={IconBell:pT,IconCanvas:_T,IconCheck:xT,IconChevronDown:TT,IconChevronRight:ZC,IconClose:Be,IconCog:kT,IconConfig:NT,IconDocument:kt,IconEdgeStyle:LT,IconEmptyNode:VT,IconExternalLink:GT,IconFit:mw,IconFx:YT,IconHand:$T,IconLayout:rE,IconLink:sE,IconLock:dE,IconMap:hE,IconMinus:yE,IconNodeEditor:CE,IconPlay:qC,IconPlayCircle:DE,IconPlus:jE,IconRedo:FE,IconReset:zE,IconSettings:UE,IconTrash:qE,IconUndo:ZE,IconUnlock:tD,IconWidget:aD,IconZoomIn:lD,IconZoomOut:pD,IconZoomRange:_D},i=t,o=UC(),{getSelectedNodes:s,updateNodeInternals:c,getNodes:u}=Dm(),f=F(null),p=F(null),m=I(()=>wx(i.data.category||``)),h=I(()=>{let e=i.data.style?.headerColor;if(!e)return{from:m.value.headerFrom,to:m.value.headerTo};if(typeof e==`string`)return{from:e,to:e};if(typeof e==`object`){if(`color`in e)return{from:e.color,to:e.color};if(`from`in e)return{from:e.from,to:e.to||e.from}}return{from:m.value.headerFrom,to:m.value.headerTo}}),g=I(()=>h.value.from),_=I(()=>h.value.to),v=I(()=>g.value),y=I(()=>i.data.style?.showIcon??!1),b=I(()=>i.data.style?.icon||``),x=I(()=>b.value&&typeof b.value==`string`&&b.value.trim().startsWith(`<svg`)),S=I(()=>b.value&&typeof b.value==`string`&&!x.value&&n[b.value]!==void 0),C=I(()=>S.value&&b.value?n[b.value]:null),w=F(null),E=F(``),D=F(``),O=I(()=>o.renamingNodeId===i.id),A=I(()=>(i.selected??!1)||o.selectedNodeId===i.id),ee=I(()=>{let e=i.data.label;if(typeof e!=`string`)return``;let t=e.trim();return t.length>0?t:``}),j=I(()=>{let e=i.data.executionStatus;return e&&{pending:`execution-pending`,running:`execution-running`,success:`execution-success`,error:`execution-error`,skipped:`execution-skipped`}[e]||``}),M=I(()=>{let e=i.data.executionStatus;return!e||e===`pending`?null:{running:{icon:``,text:``,class:`bg-blue-500 text-white animate-pulse`},success:{icon:``,text:``,class:`bg-green-500 text-white`},error:{icon:``,text:``,class:`bg-red-500 text-white`},skipped:{icon:``,text:``,class:`bg-gray-400 text-white`}}[e]||null});T(O,e=>{e?(D.value=i.data.label??``,typeof i.data.label==`string`&&i.data.label.trim()?E.value=i.data.label:E.value=ee.value,P(()=>{w.value&&(w.value.focus(),w.value.select())})):(E.value=``,D.value=``)});let N=I(()=>(i.data.inputs??[]).filter(e=>e.isPort===!0)),te=I(()=>(i.data.outputs??[]).filter(e=>e.isPort===!0)),ne=I(()=>N.value.length),re=I(()=>te.value.length);lT({nodeId:i.id,watchSource:[ne,re]});let ie=null,ae=0;function se(e,t=0){P(()=>{setTimeout(()=>{e()},t)})}function ce(){if(!p.value)return;let e=p.value.getBoundingClientRect(),t=Math.ceil(e.height);if(t===ae)return;ae=t;let n=u.value.find(e=>e.id===i.id)?.width,r=typeof n==`number`?n:typeof n==`string`&&parseFloat(n)||Math.ceil(e.width);o.updateNodeDimensions(i.id,{width:r,height:t}),se(()=>c([i.id]),50)}let le=Di(ce,100);function ue(){le()}T(()=>[i.data.result,i.data.resultExpanded],()=>{se(()=>ce(),200)},{deep:!0}),oe(()=>{p.value&&(se(()=>ce(),100),ie=new ResizeObserver(ue),ie.observe(p.value))}),d(()=>{ie&&=(ie.disconnect(),null)});let de=F(null),fe=F(!0);function pe(){o.selectNode(i.id)}function me(){O.value||(s.value??[]).length>1||o.openNodeEditor(i.id)}function he(){O.value&&(o.renameNode(i.id,E.value),o.stopRenamingNode())}function ge(){O.value&&(E.value=D.value,o.stopRenamingNode())}function _e(){O.value&&he()}function ve(){o.removeNode(i.id)}function ye(){o.executeNode(i.id)}function be(e){o.updateNodeData(i.id,{resultExpanded:e})}function xe(e,t){if(de.value=e,!window.__isConnecting?.()){fe.value=!0;return}let n=window.__checkPortValidity;n&&(fe.value=n(i.id,e))}function Se(e){de.value===e&&(de.value=null,fe.value=!0)}function Ce(e){return de.value!==e||!window.__isConnecting?.()?``:fe.value?`port-valid-target`:`port-invalid-target`}function we(e,t,n){if(i.customGetHandleStyle){let r=i.customGetHandleStyle(e,t,n);if(Object.keys(r).length>0)return r}if(t<=1)return{top:`${80/2}px !important`};let r=100/(t+1);return{top:`${(e+1)*r}% !important`}}return(n,o)=>(l(),V(`div`,{ref_key:`nodeWrapperRef`,ref:p,class:q([`node-wrapper min-w-[280px] max-w-[400px] bg-white border-2 rounded-md shadow-lg cursor-pointer text-sm overflow-visible backdrop-blur-xl transition-all duration-300 ease-out relative`,`border-slate-200 hover:shadow-xl`,j.value]),style:Je({borderColor:A.value?v.value:void 0,boxShadow:A.value?`0 0 0 1px ${v.value}25`:void 0}),onClick:pe,onDblclick:He(me,[`stop`])},[M.value?(l(),V(`div`,{key:0,class:q([`absolute -top-7 right-0 z-10 px-4 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1`,M.value.class])},[U(`span`,null,B(M.value.icon),1),U(`span`,vD,B(M.value.text),1)],2)):L(``,!0),U(`div`,{class:`flex items-center justify-between gap-2 px-3 py-2 text-white font-semibold relative overflow-hidden rounded-t`,style:Je({background:`linear-gradient(to bottom right, ${g.value}, ${_.value})`})},[o[1]||=U(`div`,{class:`absolute inset-0 bg-linear-to-br from-white/10 to-transparent pointer-events-none`},null,-1),U(`div`,yD,[y.value&&b.value?(l(),V(`div`,bD,[x.value?(l(),V(`span`,{key:0,innerHTML:b.value,class:`w-full h-full [&>svg]:w-full [&>svg]:h-full [&>svg]:fill-current`},null,8,xD)):S.value&&C.value?(l(),K(k(C.value),{key:1,class:`w-full h-full`})):(l(),V(`span`,SD,B(b.value),1))])):L(``,!0),U(`div`,CD,[O.value?a((l(),V(`input`,{key:0,ref_key:`renameInputRef`,ref:w,"onUpdate:modelValue":o[0]||=e=>E.value=e,type:`text`,class:`w-full text-[9px] px-2 py-1 rounded bg-white/95 text-slate-700 focus:outline-none focus:ring-2 focus:ring-white/70 focus:ring-offset-1 focus:ring-offset-slate-500 placeholder:text-slate-400`,placeholder:``,onKeydown:[Ze(He(he,[`stop`,`prevent`]),[`enter`]),Ze(He(ge,[`stop`,`prevent`]),[`esc`])],onBlur:_e},null,40,wD)),[[e,E.value]]):(l(),V(`span`,TD,B(ee.value),1))])]),U(`div`,ED,[U(`button`,{class:`w-[22px] h-[22px] flex items-center justify-center bg-white/95 hover:bg-white border-none rounded-md cursor-pointer transition-all duration-200 shadow-sm hover:shadow-md hover:scale-105`,style:Je({color:g.value}),onClick:He(ye,[`stop`]),title:``},[H(qC)],4),U(`button`,{class:`w-[22px] h-[22px] flex items-center justify-center bg-white/15 border-none rounded-md text-white text-base cursor-pointer transition-all duration-200 backdrop-blur-xl hover:bg-white/25 hover:scale-105`,onClick:He(ve,[`stop`]),title:``},`  `)])],4),U(`div`,DD,[r(n.$slots,`handles`,{data:t.data,getPortHoverClass:Ce,handlePortHover:xe,handlePortLeave:Se,getHandleStyle:we},()=>[i.customHandles?r(n.$slots,`custom-handles`,{key:1,Handle:R(Wp),Position:R(X),data:t.data,getPortHoverClass:Ce,handlePortHover:xe,handlePortLeave:Se,getHandleStyle:we},void 0,!0):(l(),V(G,{key:0},[(l(!0),V(G,null,Le(N.value,(e,t)=>(l(),K(R(Wp),{key:`input-${e.id}`,id:e.id,type:`target`,position:R(X).Left,"is-connectable":!0,class:q([`port-input`,R(cT).ellipse,Ce(e.id)]),style:Je(we(t,N.value.length,`input`)),onMouseenter:t=>xe(e.id,!0),onMouseleave:t=>Se(e.id)},null,8,[`id`,`position`,`class`,`style`,`onMouseenter`,`onMouseleave`]))),128)),(l(!0),V(G,null,Le(te.value,(e,t)=>(l(),K(R(Wp),{key:`output-${e.id}`,id:e.id,type:`source`,position:R(X).Right,"is-connectable":!0,class:q([`port-output`,R(cT).ellipse,Ce(e.id)]),style:Je(we(t,te.value.length,`output`)),onMouseenter:t=>xe(e.id,!1),onMouseleave:t=>Se(e.id)},null,8,[`id`,`position`,`class`,`style`,`onMouseenter`,`onMouseleave`]))),128))],64))],!0),U(`div`,{ref_key:`contentRef`,ref:f,class:q([`p-3 min-h-[80px] bg-linear-to-b from-slate-50 to-white`,t.data.result?``:`rounded-b-xl`])},[r(n.$slots,`default`,{},void 0,!0)],2),t.data.result?(l(),K(sT,{key:0,result:t.data.result,expanded:t.data.resultExpanded,onToggle:be},null,8,[`result`,`expanded`])):L(``,!0)])],38))}}),kD=W(OD,[[`__scopeId`,`data-v-f4956b74`]]),AD={class:`font-mono truncate`},jD=z({__name:`VariableBadge`,props:{value:{},fallback:{default:``},size:{default:`default`}},setup(e){let t=e,n=I(()=>{if(!t.value||typeof t.value!=`string`)return t.fallback;let e=[...t.value.matchAll(/\{\{\s*([^{}]+?)\s*\}\}/g)];if(e.length===0)return t.value;if(e.length>1){let n=e[0];if(!n||!n[1])return t.fallback;let r=n[1].trim().split(`.`);if(r.length===0)return t.fallback;let i=r[0],a=r[r.length-1];return r.length===1||/^\d+$/.test(a||``)?`${i}...`:`${i} - ${a}...`}return BC(t.value)||t.fallback});return(t,r)=>(l(),V(`div`,{class:q([`inline-flex items-center gap-0.5 rounded border bg-slate-100 border-slate-200 text-slate-700 whitespace-nowrap max-w-full`,[e.size===`xs`?`px-1 py-px text-[6px]`:`px-2 py-0.5 text-[7px]`]])},[H(sE,{class:q([`text-purple-500 shrink-0`,[e.size===`xs`?`w-1.5 h-1.5`:`w-2 h-2`]])},null,8,[`class`]),U(`span`,AD,B(n.value),1)],2))}});function MD(e){let t=UC();function n(n,r){let i={...e.data.config,[n]:r};t.updateNodeData(e.id,{config:i})}function r(e){if(e==null)return``;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function i(e,t){let r=t.target.value;try{let t=r?JSON.parse(r):null;n(e,t)}catch(e){console.warn(`JSON :`,e)}}function a(e){return typeof e==`string`?/\{\{\s*[^{}]+\s*\}\}/.test(e):!1}function o(t,r){if(r)return;let i=!!e.data.config?.[t];n(t,!i)}return{updateConfig:n,formatJsonValue:r,updateJsonConfig:i,isVariableBound:a,toggleBoolean:o}}var ND={key:0,class:`flex flex-col gap-1.5`},PD={class:`flex items-center justify-between gap-2`},FD={class:`flex-1 min-w-0`},ID=[`title`],LD={key:0,class:`text-red-500`},RD=[`onClick`,`disabled`,`aria-checked`,`title`],zD={key:0,class:`flex items-center gap-1.5`},BD={key:1,class:`space-y-0.5`},VD={class:`flex items-center justify-between gap-2`},HD={class:`flex items-center gap-1.5 min-w-0 flex-1`},UD=[`title`],WD={key:0,class:`text-red-500`},GD={class:`text-[9px] text-slate-400 font-mono shrink-0`},KD=[`value`,`readonly`,`onInput`,`placeholder`],qD=[`value`,`readonly`,`onInput`,`placeholder`],JD=[`value`,`readonly`,`onInput`,`placeholder`],YD=[`value`,`readonly`,`onInput`,`placeholder`],XD={key:1,class:`text-center text-slate-400 py-4 text-[10px] italic`},ZD=z({__name:`BasicNode`,props:{id:{},data:{},selected:{type:Boolean}},setup(e){let t=e,{updateConfig:n,formatJsonValue:r,updateJsonConfig:i,isVariableBound:a,toggleBoolean:o}=MD(t),s=I(()=>(t.data.inputs??[]).filter(e=>!e.isPort));return(e,c)=>(l(),K(kD,Ve(ye(t)),{default:Y(()=>[s.value.length>0?(l(),V(`div`,ND,[(l(!0),V(G,null,Le(s.value,e=>(l(),V(`div`,{key:e.id},[e.type===`boolean`?(l(),V(`div`,{key:0,class:`space-y-1`,onClick:c[0]||=He(()=>{},[`stop`])},[U(`div`,PD,[U(`div`,FD,[U(`div`,{class:`text-[10px] font-medium text-slate-700 truncate`,title:e.name},[Ge(B(e.name)+` `,1),e.required?(l(),V(`span`,LD,`*`)):L(``,!0)],8,ID)]),U(`button`,{onClick:n=>R(o)(e.id,R(a)(t.data.config?.[e.id])),disabled:R(a)(t.data.config?.[e.id]),class:q([`relative inline-flex h-4 w-7 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1`,t.data.config?.[e.id]?`bg-purple-600`:`bg-slate-300`,R(a)(t.data.config?.[e.id])?`opacity-60 cursor-not-allowed`:``]),role:`switch`,"aria-checked":t.data.config?.[e.id],title:R(a)(t.data.config?.[e.id])?``:void 0},[U(`span`,{class:q([`inline-block h-3 w-3 transform rounded-full bg-white transition-transform`,t.data.config?.[e.id]?`translate-x-3.5`:`translate-x-0.5`])},null,2)],10,RD)]),R(a)(t.data.config?.[e.id])?(l(),V(`div`,zD,[H(jD,{value:t.data.config?.[e.id]},null,8,[`value`])])):L(``,!0)])):(l(),V(`div`,BD,[U(`div`,VD,[U(`div`,HD,[U(`div`,{class:`text-[10px] font-medium text-slate-700 truncate`,title:e.name},[Ge(B(e.name)+` `,1),e.required?(l(),V(`span`,WD,`*`)):L(``,!0)],8,UD),R(a)(t.data.config?.[e.id])?(l(),K(jD,{key:0,value:t.data.config?.[e.id],size:`xs`},null,8,[`value`])):L(``,!0)]),U(`div`,GD,B(e.type),1)]),U(`div`,{onClick:c[1]||=He(()=>{},[`stop`])},[e.type===`string`?(l(),V(`input`,{key:0,value:t.data.config?.[e.id]||``,readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,t.target.value),placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,KD)):e.type===`number`?(l(),V(`input`,{key:1,value:t.data.config?.[e.id]||``,readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,Number(t.target.value)),type:`number`,placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,qD)):e.type===`object`||e.type===`array`?(l(),V(`textarea`,{key:2,value:R(r)(t.data.config?.[e.id]),readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(i)(e.id,t),placeholder:` JSON ${e.name}`,class:q([`w-full text-[10px] p-1.5 border border-slate-200 rounded-md resize-none focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent font-mono leading-relaxed`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``]),rows:`3`},null,42,JD)):(l(),V(`input`,{key:3,value:String(t.data.config?.[e.id]||``),readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,t.target.value),placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,YD))])]))]))),128))])):(l(),V(`div`,XD,`  `))]),_:1},16))}}),QD={class:`flex flex-col gap-2 py-1.5`},$D={class:`flex items-center justify-between gap-2 mb-1`},eO={class:`text-[10px] font-semibold text-slate-600 uppercase tracking-wide`},tO={key:0,class:`py-0.5 px-1.5 text-[10px] font-medium bg-violet-200 text-violet-600 rounded`},nO={class:`text-[11px] text-slate-500 leading-snug wrap-break-word`},rO=z({__name:`IfNode`,props:{id:{},data:{},selected:{type:Boolean}},setup(e){let t=e,n=I(()=>t.data.config?.conditions||[]),r=F([]),i=F(null);function a(e,t){e&&(r.value[t]=e)}function o(e,t,a){if(a===`input`)return{};let o=n.value.length;if(e===o){let e=i.value;if(e&&e.offsetParent&&e.offsetTop>0)return{top:`${e.offsetTop+e.offsetHeight/2}px !important`}}else{let t=r.value[e];if(t&&t.offsetParent&&t.offsetTop>0)return{top:`${t.offsetTop+t.offsetHeight/2}px !important`}}return e===o?{top:`${52+o*68+60/2}px !important`}:{top:`${52+e*68+60/2}px !important`}}function s(e){let t=e.subConditions||[];if(t.length===0)return``;if(t.length===1){let e=t[0];if(!e)return``;let n=e.field||``,r=xt[e.operator]||e.operator,i=e.value||`''`;return[`exists`,`does not exist`,`is empty`,`is not empty`,`is true`,`is false`].includes(e.operator)?`${n} ${r}`:`${n} ${r} ${c(String(i),20)}`}let n=e.logic===`and`?`  `:`  `,r=t.map(e=>{if(!e)return``;let t=e.field||``,n=xt[e.operator]||e.operator,r=e.value||`''`;return[`exists`,`does not exist`,`is empty`,`is not empty`,`is true`,`is false`].includes(e.operator)?`${t} ${n}`:`${t} ${n} ${c(String(r),15)}`}).filter(Boolean).join(n);return c(r,60)}function c(e,t){return e?e.length<=t?e:e.slice(0,t-1)+``:``}return(e,r)=>(l(),K(kD,J(t,{"custom-get-handle-style":o}),{default:Y(()=>[U(`div`,QD,[(l(!0),V(G,null,Le(n.value,(e,t)=>(l(),V(`div`,{key:t,class:`p-2 bg-slate-50 border border-slate-200 rounded-md transition-all duration-200 hover:bg-slate-100`,ref_for:!0,ref:e=>a(e,t)},[U(`div`,$D,[U(`span`,eO,` `+B(t+1),1),(e.subConditions?.length??0)>1?(l(),V(`span`,tO,B(e.logic===`and`?``:``),1)):L(``,!0)]),U(`div`,nO,B(s(e)),1)]))),128)),U(`div`,{class:`p-2 bg-orange-50 border border-orange-200 rounded-md transition-all duration-200 hover:bg-orange-100`,ref_key:`elsePreviewRef`,ref:i},[...r[0]||=[U(`div`,{class:`flex items-center justify-between gap-2 mb-1`},[U(`span`,{class:`text-[10px] font-semibold text-slate-600 uppercase tracking-wide`},`  `)],-1),U(`div`,{class:`text-[11px] text-slate-500 leading-snug wrap-break-word`},`  `,-1)]],512),r[1]||=U(`div`,{class:`hidden mt-1 py-1.5 px-2 text-[10px] text-slate-400 text-center bg-slate-50 border border-dashed border-slate-300 rounded-md`},`  `,-1)])]),_:1},16))}}),iO={key:0,class:`flex flex-col gap-1.5`},aO={class:`flex items-center justify-between gap-2`},oO={class:`flex-1 min-w-0`},sO=[`title`],cO={key:0,class:`text-red-500`},lO=[`onClick`,`disabled`,`aria-checked`,`title`],uO={key:0,class:`flex items-center gap-1.5`},dO={key:1,class:`space-y-0.5`},fO={class:`flex items-center justify-between gap-2`},pO={class:`flex items-center gap-1.5 min-w-0 flex-1`},mO=[`title`],hO={key:0,class:`text-red-500`},gO={class:`text-[9px] text-slate-400 font-mono shrink-0`},_O=[`value`,`readonly`,`onInput`,`placeholder`],vO=[`value`,`readonly`,`onInput`,`placeholder`],yO=[`value`,`readonly`,`onInput`,`placeholder`],bO=[`value`,`readonly`,`onInput`,`placeholder`],xO={key:1,class:`text-center text-slate-400 py-4 text-[10px] italic`},SO=z({__name:`ForNode`,props:{id:{},data:{},selected:{type:Boolean}},setup(e){let t=e,{updateConfig:n,formatJsonValue:r,updateJsonConfig:i,isVariableBound:a,toggleBoolean:o}=MD(t),s=I(()=>t.data.inputs?.find(e=>e.id===`items`)||null),c=I(()=>t.data.outputs?.find(e=>e.id===`loop`)||null),u=I(()=>t.data.outputs?.find(e=>e.id===`next`)||null);return(e,d)=>(l(),K(kD,J(t,{"custom-handles":``}),{"custom-handles":Y(({getPortHoverClass:e,handlePortHover:t,handlePortLeave:n,getHandleStyle:r})=>[s.value?(l(),K(R(Wp),{key:0,id:s.value.id,type:`target`,position:R(X).Left,"is-connectable":!0,class:q([`port-input`,R(cT).ellipse,e(s.value.id)]),style:Je(r(0,1,`input`)),onMouseenter:e=>t(s.value.id,!0),onMouseleave:e=>n(s.value.id)},null,8,[`id`,`position`,`class`,`style`,`onMouseenter`,`onMouseleave`])):L(``,!0),c.value?(l(),K(R(Wp),{key:1,id:c.value.id,type:`source`,position:R(X).Bottom,"is-connectable":!1,connectable:!1,class:q([R(cT).circle,`for-node-loop`])},null,8,[`id`,`position`,`class`])):L(``,!0),u.value?(l(),K(R(Wp),{key:2,id:u.value.id,type:`source`,position:R(X).Right,"is-connectable":!0,class:q([`port-output`,R(cT).ellipse,e(u.value.id)]),style:Je(r(0,1,`output`)),onMouseenter:e=>t(u.value.id,!1),onMouseleave:e=>n(u.value.id)},null,8,[`id`,`position`,`class`,`style`,`onMouseenter`,`onMouseleave`])):L(``,!0)]),default:Y(()=>[(t.data.inputs?.length??0)>0?(l(),V(`div`,iO,[(l(!0),V(G,null,Le(t.data.inputs,e=>(l(),V(`div`,{key:e.id},[e.type===`boolean`?(l(),V(`div`,{key:0,class:`space-y-1`,onClick:d[0]||=He(()=>{},[`stop`])},[U(`div`,aO,[U(`div`,oO,[U(`div`,{class:`text-[10px] font-medium text-slate-700 truncate`,title:e.name},[Ge(B(e.name)+` `,1),e.required?(l(),V(`span`,cO,`*`)):L(``,!0)],8,sO)]),U(`button`,{onClick:n=>R(o)(e.id,R(a)(t.data.config?.[e.id])),disabled:R(a)(t.data.config?.[e.id]),class:q([`relative inline-flex h-4 w-7 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1`,t.data.config?.[e.id]?`bg-purple-600`:`bg-slate-300`,R(a)(t.data.config?.[e.id])?`opacity-60 cursor-not-allowed`:``]),role:`switch`,"aria-checked":t.data.config?.[e.id],title:R(a)(t.data.config?.[e.id])?``:void 0},[U(`span`,{class:q([`inline-block h-3 w-3 transform rounded-full bg-white transition-transform`,t.data.config?.[e.id]?`translate-x-3.5`:`translate-x-0.5`])},null,2)],10,lO)]),R(a)(t.data.config?.[e.id])?(l(),V(`div`,uO,[H(jD,{value:t.data.config?.[e.id]},null,8,[`value`])])):L(``,!0)])):(l(),V(`div`,dO,[U(`div`,fO,[U(`div`,pO,[U(`div`,{class:`text-[10px] font-medium text-slate-700 truncate`,title:e.name},[Ge(B(e.name)+` `,1),e.required?(l(),V(`span`,hO,`*`)):L(``,!0)],8,mO),R(a)(t.data.config?.[e.id])?(l(),K(jD,{key:0,value:t.data.config?.[e.id],size:`xs`},null,8,[`value`])):L(``,!0)]),U(`div`,gO,B(e.type),1)]),U(`div`,{onClick:d[1]||=He(()=>{},[`stop`])},[e.type===`string`?(l(),V(`input`,{key:0,value:t.data.config?.[e.id]||``,readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,t.target.value),placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,_O)):e.type===`number`?(l(),V(`input`,{key:1,value:t.data.config?.[e.id]||``,readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,Number(t.target.value)),type:`number`,placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,vO)):e.type===`object`||e.type===`array`?(l(),V(`textarea`,{key:2,value:R(r)(t.data.config?.[e.id]),readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(i)(e.id,t),placeholder:` JSON ${e.name}`,class:q([`w-full text-[10px] p-1.5 border border-slate-200 rounded-md resize-none focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-transparent font-mono leading-relaxed`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``]),rows:`3`},null,42,yO)):(l(),V(`input`,{key:3,value:String(t.data.config?.[e.id]||``),readonly:R(a)(t.data.config?.[e.id]),onInput:t=>R(n)(e.id,t.target.value),placeholder:`${e.name}`,class:q([`w-full text-[10px] px-2 py-1 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-purple-500 focus-border-transparent`,R(a)(t.data.config?.[e.id])?`bg-slate-100 text-slate-500 cursor-not-allowed`:``])},null,42,bO))])]))]))),128))])):(l(),V(`div`,xO,`  `))]),_:1},16))}}),CO=W(SO,[[`__scopeId`,`data-v-51587c57`]]),wO=z({__name:`CustomNode`,props:{id:{},data:{},selected:{type:Boolean}},setup(e){let t=e,n={default:ZD,if:rO,for:CO},r=I(()=>t.data.variant||t.id.split(`_`)[0]||``),i=I(()=>r.value===`for`?n.for:r.value===`if`?n.if:n.default);return(e,n)=>(l(),K(k(i.value),Ve(ye(t)),null,16))}}),TO={class:`text-[11px] font-semibold text-slate-600 tracking-wide`},EO={class:`text-[10px] text-slate-400 font-mono`},DO={class:`loop-drop-zone min-h-[160px] rounded-md`},OO={key:`empty`,class:`h-full flex flex-col items-center justify-center text-[11px] text-slate-400 gap-1 pointer-events-none`},kO=W(z({__name:`LoopContainerNode`,props:{id:{},data:{}},setup(e){let t=e,n=UC(),{containerDefaults:r}=Tx,i=I(()=>t.data?.width??r.width),a=I(()=>t.data?.height??r.height),o=I(()=>t.data?.config?.headerHeight??r.headerHeight),s=I(()=>{let e=t.data?.config?.padding||{};return{top:e.top??e.y??r.padding.top,right:e.right??e.x??r.padding.right,bottom:e.bottom??e.y??r.padding.bottom,left:e.left??e.x??r.padding.left}}),c=I(()=>({padding:`${s.value.top}px ${s.value.right}px ${s.value.bottom}px ${s.value.left}px`,paddingTop:`${o.value+s.value.top}px`})),u=I(()=>n.nodes.filter(e=>e.parentNode===t.id).length),d=I(()=>t.data),f=I(()=>t.data?.isHighlighted??!1),p=I(()=>t.data?.highlightType??`normal`);return(e,t)=>(l(),V(`div`,{class:q([`loop-container relative rounded-md border bg-white shadow-sm`,[f.value?p.value===`warning`?`border-red-500 border-2 border-solid shadow-lg shadow-red-200 ring-2 ring-red-200`:`border-indigo-500 border-2 border-solid shadow-lg shadow-indigo-200 ring-2 ring-indigo-200`:`border-slate-300 border-dashed`]]),style:Je({width:`${i.value}px`,height:`${a.value}px`})},[H(R(Wp),{id:`loop-in`,type:`target`,"is-connectable":!1,position:R(X).Top,connectable:!1,class:q([R(cT).circle,`loop-handle-top`])},null,8,[`position`,`class`]),H(R(Wp),{id:`loop-left`,type:`source`,"is-connectable":!0,position:R(X).Right,class:q([R(cT).ellipse,`loop-handle-left`,`loop-handle-ellipse`])},null,8,[`position`,`class`]),H(R(Wp),{id:`loop-right`,type:`target`,"is-connectable":!0,position:R(X).Left,class:q([R(cT).ellipse,`loop-handle-right`,`loop-handle-ellipse`])},null,8,[`position`,`class`]),U(`div`,{class:`loop-header absolute inset-x-0 top-0 px-4 py-2 border-b border-slate-200 bg-linear-to-r from-slate-100 to-white rounded-t-2xl flex items-center justify-between`,style:Je({height:`${o.value}px`})},[U(`div`,TO,B(d.value.label||``),1),U(`div`,EO,B(d.value.config?.forNodeId||``),1)],4),U(`div`,{class:`loop-content`,style:Je(c.value)},[U(`div`,DO,[H(ge,{name:`fade`,mode:`out-in`},{default:Y(()=>[u.value===0?(l(),V(`div`,OO,[...t[0]||=[U(`span`,null,``,-1),U(`span`,{class:`text-[10px] text-slate-300`},``,-1)]])):L(``,!0)]),_:1})])],4)],6))}}),[[`__scopeId`,`data-v-3f80779e`]]);function AO(){let e=new URLSearchParams(window.location.search),t={};return Sx.forEach(n=>{n.items.forEach(n=>{let r=e.get(n.key);if(r!==null)switch(n.type){case`checkbox`:t[n.key]=r===`true`||r===`1`;break;case`range`:t[n.key]=parseFloat(r);break;case`color`:t[n.key]=r;break;case`select`:t[n.key]=r;break}})}),t}function jO(e){try{let t=new URLSearchParams(window.location.search),n=t.get(`mode`),r=t.get(`serverUrl`),i=new URLSearchParams;n&&i.set(`mode`,n),r&&i.set(`serverUrl`,r),Sx.forEach(t=>{t.items.forEach(t=>{let n=e[t.key];n!==void 0&&n!==t.defaultValue&&i.set(t.key,String(n))})});let a=`${window.location.pathname}?${i.toString()}`;window.history.replaceState({},``,a)}catch(e){console.error(` URL :`,e)}}const MO=he(`editorConfig`,()=>{function e(){let e={};return Sx.forEach(t=>{t.items.forEach(t=>{e[t.key]=t.defaultValue})}),e.snapGrid=[15,15],e}let t=e(),n=AO(),r=Ki(`editorConfig:settings`,t);r.value={...t,...r.value,...n},jO(r.value);function i(e,t){r.value[e]=t,jO(r.value)}function a(e){Object.keys(e).forEach(t=>{r.value[t]=e[t]}),jO(r.value)}function o(){r.value=e()}return{config:r,updateConfig:i,updateConfigs:a,resetToDefaults:o}});var NO=[`checked`,`disabled`],PO=z({__name:`Checkbox`,props:{modelValue:{type:[Boolean,Array],default:!1},binary:{type:Boolean,default:!1},value:{default:void 0},disabled:{type:Boolean,default:!1},class:{default:``}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=I(()=>{let e=[`w-4`,`h-4`,`rounded-md`,`border`,`border-slate-300`,`text-purple-500`,`bg-white`,`shadow-sm`,`transition-all`,`duration-200`,`cursor-pointer`];return n.disabled?e.push(`opacity-50`,`cursor-not-allowed`,`shadow-none`):e.push(`hover:border-purple-400`,`focus-visible:outline-none`,`focus-visible:ring-3`,`focus-visible:ring-purple-200`,`focus-visible:ring-offset-0`),n.class&&e.push(n.class),e.join(` `)});function a(e){let t=e.target;if(n.binary)r(`update:modelValue`,t.checked);else{let e=Array.isArray(n.modelValue)?n.modelValue:[];t.checked?r(`update:modelValue`,[...e,n.value]):r(`update:modelValue`,e.filter(e=>e!==n.value))}}return(t,n)=>(l(),V(`input`,J({type:`checkbox`,checked:e.binary?e.modelValue:Array.isArray(e.modelValue)?e.modelValue.includes(e.value):!1,disabled:e.disabled,class:i.value,onChange:a},t.$attrs),null,16,NO))}});function FO(e){"@babel/helpers - typeof";return FO=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},FO(e)}function IO(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,zO(r.key),r)}}function RO(e,t,n){return t&&LO(e.prototype,t),Object.defineProperty(e,`prototype`,{writable:!1}),e}function zO(e){var t=BO(e,`string`);return FO(t)==`symbol`?t:t+``}function BO(e,t){if(FO(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(FO(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return String(e)}var VO=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};IO(this,e),this.element=t,this.listener=n}return RO(e,[{key:`bindScrollListener`,value:function(){this.scrollableParents=we(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener(`scroll`,this.listener)}},{key:`unbindScrollListener`,value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener(`scroll`,this.listener)}},{key:`destroy`,value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function HO(e,t){if(e){var n=e.props;if(n){var r=t.replace(/([a-z])([A-Z])/g,`$1-$2`).toLowerCase(),i=Object.prototype.hasOwnProperty.call(n,r)?r:t;return e.type.extends.props[t].type===Boolean&&n[i]===``?!0:n[i]}}return null}var UO={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}};function WO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`pc`,t=p();return`${e}${t.replace(`v-`,``).replaceAll(`-`,`_`)}`}var GO=Ue.extend({name:`common`});function KO(e){"@babel/helpers - typeof";return KO=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},KO(e)}function qO(e){return ek(e)||JO(e)||ZO(e)||XO()}function JO(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function YO(e,t){return ek(e)||$O(e,t)||ZO(e,t)||XO()}function XO(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZO(e,t){if(e){if(typeof e==`string`)return QO(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QO(e,t):void 0}}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $O(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function ek(e){if(Array.isArray(e))return e}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?tk(Object(n),!0).forEach(function(t){rk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rk(e,t,n){return(t=ik(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ik(e){var t=ak(e,`string`);return KO(t)==`symbol`?t:t+``}function ak(e,t){if(KO(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(KO(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var ok={name:`BaseComponent`,props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){Ce.off(`theme:change`,this._loadCoreStyles),e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e,t){var n=this;Ce.off(`theme:change`,this._themeScopedListener),e?(this._loadScopedThemeStyles(e),this._themeScopedListener=function(){return n._loadScopedThemeStyles(e)},this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,uid:void 0,$attrSelector:void 0,beforeCreate:function(){var e,t,n,r,i,a,o,s,c,l,u=this.pt?._usept,d=u?(e=this.pt)==null||(e=e.originalValue)==null?void 0:e[this.$.type.name]:void 0;(n=(u?(t=this.pt)==null||(t=t.value)==null?void 0:t[this.$.type.name]:this.pt)||d)==null||(n=n.hooks)==null||(r=n.onBeforeCreate)==null||r.call(n);var f=(i=this.$primevueConfig)==null||(i=i.pt)==null?void 0:i._usept,p=f?(a=this.$primevue)==null||(a=a.config)==null||(a=a.pt)==null?void 0:a.originalValue:void 0;(c=(f?(o=this.$primevue)==null||(o=o.config)==null||(o=o.pt)==null?void 0:o.value:(s=this.$primevue)==null||(s=s.config)==null?void 0:s.pt)||p)==null||(c=c[this.$.type.name])==null||(c=c.hooks)==null||(l=c.onBeforeCreate)==null||l.call(c),this.$attrSelector=WO(),this.uid=this.$attrs.id||this.$attrSelector.replace(`pc`,`pv_id_`)},created:function(){this._hook(`onCreated`)},beforeMount:function(){this.rootEl=O(Ie(this.$el)?this.$el:this.$el?.parentElement,`[${this.$attrSelector}]`),this.rootEl&&(this.rootEl.$pc=nk({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook(`onBeforeMount`)},mounted:function(){this._hook(`onMounted`)},beforeUpdate:function(){this._hook(`onBeforeUpdate`)},updated:function(){this._hook(`onUpdated`)},beforeUnmount:function(){this._hook(`onBeforeUnmount`)},unmounted:function(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this._hook(`onUnmounted`)},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,`hooks.${e}`),n=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);t?.(),n?.()}},_mergeProps:function(e){var t=[...arguments].slice(1);return i(e)?e.apply(void 0,t):J.apply(void 0,t)},_load:function(){UO.isStyleNameLoaded(`base`)||(Ue.loadCSS(this.$styleOptions),this._loadGlobalStyles(),UO.setLoadedStyleName(`base`)),this._loadThemeStyles()},_loadStyles:function(){this._load(),this._themeChangeListener(this._load)},_loadCoreStyles:function(){var e;!UO.isStyleNameLoaded(this.$style?.name)&&(e=this.$style)!=null&&e.name&&(GO.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),UO.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,`global.css`,this.$params);b(e)&&Ue.load(e,nk({name:`global`},this.$styleOptions))},_loadThemeStyles:function(){var e;if(!(this.isUnstyled||this.$theme===`none`)){if(!Re.isStyleNameLoaded(`common`)){var t,n,r=((t=this.$style)==null||(n=t.getCommonTheme)==null?void 0:n.call(t))||{},i=r.primitive,a=r.semantic,o=r.global,s=r.style;Ue.load(i?.css,nk({name:`primitive-variables`},this.$styleOptions)),Ue.load(a?.css,nk({name:`semantic-variables`},this.$styleOptions)),Ue.load(o?.css,nk({name:`global-variables`},this.$styleOptions)),Ue.loadStyle(nk({name:`global-style`},this.$styleOptions),s),Re.setLoadedStyleName(`common`)}if(!Re.isStyleNameLoaded(this.$style?.name)&&(e=this.$style)!=null&&e.name){var c,l,u,d,f=((c=this.$style)==null||(l=c.getComponentTheme)==null?void 0:l.call(c))||{},p=f.css,m=f.style;(u=this.$style)==null||u.load(p,nk({name:`${this.$style.name}-variables`},this.$styleOptions)),(d=this.$style)==null||d.loadStyle(nk({name:`${this.$style.name}-style`},this.$styleOptions),m),Re.setLoadedStyleName(this.$style.name)}if(!Re.isStyleNameLoaded(`layer-order`)){var h,g,_=(h=this.$style)==null||(g=h.getLayerOrderThemeCSS)==null?void 0:g.call(h);Ue.load(_,nk({name:`layer-order`,first:!0},this.$styleOptions)),Re.setLoadedStyleName(`layer-order`)}}},_loadScopedThemeStyles:function(e){var t,n,r=(((t=this.$style)==null||(n=t.getPresetTheme)==null?void 0:n.call(t,e,`[${this.$attrSelector}]`))||{}).css;this.scopedStyleEl=(this.$style?.load(r,nk({name:`${this.$attrSelector}-${this.$style.name}`},this.$styleOptions))).el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)==null||(e=e.value)==null||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};UO.clearLoadedStyleNames(),Ce.on(`theme:change`,e)},_removeThemeListeners:function(){Ce.off(`theme:change`,this._loadCoreStyles),Ce.off(`theme:change`,this._load),Ce.off(`theme:change`,this._themeScopedListener)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){return this[e]||this._getHostInstance(this)?.[e]},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v(e,t,n)},_getPTValue:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=/./g.test(t)&&!!n[t.split(`.`)[0]],a=this._getPropValue(`ptOptions`)||this.$primevueConfig?.ptOptions||{},o=a.mergeSections,s=o===void 0?!0:o,c=a.mergeProps,l=c===void 0?!1:c,u=r?i?this._useGlobalPT(this._getPTClassValue,t,n):this._useDefaultPT(this._getPTClassValue,t,n):void 0,d=i?void 0:this._getPTSelf(e,this._getPTClassValue,t,nk(nk({},n),{},{global:u||{}})),f=this._getPTDatasets(t);return s||!s&&d?l?this._mergeProps(l,u,d,f):nk(nk(nk({},u),d),f):nk(nk({},d),f)},_getPTSelf:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=[...arguments].slice(1);return J(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(t)),this._usePT.apply(this,[this.$_attrsPT].concat(t)))},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,t=`data-pc-`,n=e===`root`&&b(this.pt?.[`data-pc-section`]);return e!==`transition`&&nk(nk({},e===`root`&&nk(nk(rk({},`${t}name`,le(n?this.pt?.[`data-pc-section`]:this.$.type.name)),n&&rk({},`${t}extend`,le(this.$.type.name))),{},rk({},`${this.$attrSelector}`,``))),{},rk({},`${t}section`,le(e)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return st(e)||f(e)?{class:e}:e},_getPT:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,r=arguments.length>2?arguments[2]:void 0,i=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r?r(e):e,o=le(n),s=le(t.$name);return(i&&o===s?void 0:a?.[o])??a};return e!=null&&e.hasOwnProperty(`_usept`)?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},_usePT:function(e,t,n,r){var i=function(e){return t(e,n,r)};if(e!=null&&e.hasOwnProperty(`_usept`)){var a=e._usept||this.$primevueConfig?.ptOptions||{},o=a.mergeSections,s=o===void 0?!0:o,c=a.mergeProps,l=c===void 0?!1:c,u=i(e.originalValue),d=i(e.value);return u===void 0&&d===void 0?void 0:st(d)?d:st(u)?u:s||!s&&d?l?this._mergeProps(l,u,d):nk(nk({},u),d):d}return i(e)},_useGlobalPT:function(e,t,n){return this._usePT(this.globalPT,e,t,n)},_useDefaultPT:function(e,t,n){return this._usePT(this.defaultPT,e,t,n)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,nk(nk({},this.$params),t))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=J(this.$_attrsWithoutPT,this.ptm(e,t));return n!=null&&n.hasOwnProperty(`id`)&&(n.id??=this.$id),n},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,nk({instance:this},n),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,nk(nk({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var r=this._getOptionValue(this.$style.inlineStyles,e,nk(nk({},this.$params),n));return[this._getOptionValue(GO.inlineStyles,e,nk(nk({},this.$params),n)),r]}}},computed:{globalPT:function(){var e=this;return this._getPT(this.$primevueConfig?.pt,void 0,function(t){return m(t,{instance:e})})},defaultPT:function(){var e=this;return this._getPT(this.$primevueConfig?.pt,void 0,function(t){return e._getOptionValue(t,e.$name,nk({},e.$params))||m(t,nk({},e.$params))})},isUnstyled:function(){return this.unstyled===void 0?this.$primevueConfig?.unstyled:this.unstyled},$id:function(){return this.$attrs.id||this.uid},$inProps:function(){var e=Object.keys(this.$.vnode?.props||{});return Object.fromEntries(Object.entries(this.$props).filter(function(t){var n=YO(t,1)[0];return e?.includes(n)}))},$theme:function(){return this.$primevueConfig?.theme},$style:function(){return nk(nk({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)==null||(e=e.csp)==null?void 0:e.nonce}},$primevueConfig:function(){return this.$primevue?.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e?.$props,state:e?.$data,attrs:e?.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){return YO(e,1)[0]?.startsWith(`pt:`)}).reduce(function(e,t){var n=YO(t,2),r=n[0],i=n[1],a=r.split(`:`);return qO(a).slice(1)?.reduce(function(e,t,n,r){return!e[t]&&(e[t]=n===r.length-1?i:{}),e[t]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=YO(e,1)[0];return!(t!=null&&t.startsWith(`pt:`))}).reduce(function(e,t){var n=YO(t,2),r=n[0];return e[r]=n[1],e},{})}}},sk=Ue.extend({name:`baseicon`,css:`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`});function ck(e){"@babel/helpers - typeof";return ck=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ck(e)}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?lk(Object(n),!0).forEach(function(t){dk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dk(e,t,n){return(t=fk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fk(e){var t=pk(e,`string`);return ck(t)==`symbol`?t:t+``}function pk(e,t){if(ck(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ck(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var mk={name:`BaseIcon`,extends:ok,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:sk,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=de(this.label);return uk(uk({},!this.isUnstyled&&{class:[`p-icon`,{"p-icon-spin":this.spin}]}),{},{role:e?void 0:`img`,"aria-label":e?void 0:this.label,"aria-hidden":e})}}},hk={name:`BlankIcon`,extends:mk};function gk(e){return bk(e)||yk(e)||vk(e)||_k()}function _k(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vk(e,t){if(e){if(typeof e==`string`)return xk(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xk(e,t):void 0}}function yk(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function bk(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Sk(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),gk(t[0]||=[U(`rect`,{width:`1`,height:`1`,fill:`currentColor`,"fill-opacity":`0`},null,-1)]),16)}hk.render=Sk;var Ck={name:`CheckIcon`,extends:mk};function wk(e){return Ok(e)||Dk(e)||Ek(e)||Tk()}function Tk(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ek(e,t){if(e){if(typeof e==`string`)return kk(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kk(e,t):void 0}}function Dk(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Ok(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ak(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),wk(t[0]||=[U(`path`,{d:`M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z`,fill:`currentColor`},null,-1)]),16)}Ck.render=Ak;var jk={name:`ChevronDownIcon`,extends:mk};function Mk(e){return Ik(e)||Fk(e)||Pk(e)||Nk()}function Nk(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pk(e,t){if(e){if(typeof e==`string`)return Lk(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lk(e,t):void 0}}function Fk(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Ik(e){if(Array.isArray(e))return Lk(e)}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rk(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),Mk(t[0]||=[U(`path`,{d:`M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z`,fill:`currentColor`},null,-1)]),16)}jk.render=Rk;var zk={name:`SearchIcon`,extends:mk};function Bk(e){return Wk(e)||Uk(e)||Hk(e)||Vk()}function Vk(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hk(e,t){if(e){if(typeof e==`string`)return Gk(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gk(e,t):void 0}}function Uk(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Wk(e){if(Array.isArray(e))return Gk(e)}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kk(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),Bk(t[0]||=[U(`path`,{"fill-rule":`evenodd`,"clip-rule":`evenodd`,d:`M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z`,fill:`currentColor`},null,-1)]),16)}zk.render=Kk;var qk={name:`SpinnerIcon`,extends:mk};function Jk(e){return Qk(e)||Zk(e)||Xk(e)||Yk()}function Yk(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xk(e,t){if(e){if(typeof e==`string`)return $k(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$k(e,t):void 0}}function Zk(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Qk(e){if(Array.isArray(e))return $k(e)}function $k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eA(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),Jk(t[0]||=[U(`path`,{d:`M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z`,fill:`currentColor`},null,-1)]),16)}qk.render=eA;var tA={name:`TimesIcon`,extends:mk};function nA(e){return oA(e)||aA(e)||iA(e)||rA()}function rA(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(e,t){if(e){if(typeof e==`string`)return sA(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sA(e,t):void 0}}function aA(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function oA(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cA(e,t,n,r,i,a){return l(),V(`svg`,J({width:`14`,height:`14`,viewBox:`0 0 14 14`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},e.pti()),nA(t[0]||=[U(`path`,{d:`M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z`,fill:`currentColor`},null,-1)]),16)}tA.render=cA;var lA=Ue.extend({name:`iconfield`,style:`
    .p-iconfield {
        position: relative;
        display: block;
    }

    .p-inputicon {
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * (dt('icon.size') / 2));
        color: dt('iconfield.icon.color');
        line-height: 1;
        z-index: 1;
    }

    .p-iconfield .p-inputicon:first-child {
        inset-inline-start: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputicon:last-child {
        inset-inline-end: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputtext:not(:first-child),
    .p-iconfield .p-inputwrapper:not(:first-child) .p-inputtext {
        padding-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield .p-inputtext:not(:last-child) {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield:has(.p-inputfield-sm) .p-inputicon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
        margin-top: calc(-1 * (dt('form.field.sm.font.size') / 2));
    }

    .p-iconfield:has(.p-inputfield-lg) .p-inputicon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
        margin-top: calc(-1 * (dt('form.field.lg.font.size') / 2));
    }
`,classes:{root:`p-iconfield`}}),uA={name:`IconField`,extends:{name:`BaseIconField`,extends:ok,style:lA,provide:function(){return{$pcIconField:this,$parentInstance:this}}},inheritAttrs:!1};function dA(e,t,n,i,a,o){return l(),V(`div`,J({class:e.cx(`root`)},e.ptmi(`root`)),[r(e.$slots,`default`)],16)}uA.render=dA;var fA=Ue.extend({name:`inputicon`,classes:{root:`p-inputicon`}}),pA={name:`InputIcon`,extends:{name:`BaseInputIcon`,extends:ok,style:fA,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},inheritAttrs:!1,computed:{containerClass:function(){return[this.cx(`root`),this.class]}}};function mA(e,t,n,i,a,o){return l(),V(`span`,J({class:o.containerClass},e.ptmi(`root`),{"aria-hidden":`true`}),[r(e.$slots,`default`)],16)}pA.render=mA;var hA={name:`BaseInput`,extends:{name:`BaseEditableHolder`,extends:ok,emits:[`update:modelValue`,`value-change`],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue===void 0?this.modelValue:this.defaultValue}},watch:{modelValue:{deep:!0,handler:function(e){this.d_value=e}},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var t,n;this.formField=((t=this.$pcForm)==null||(n=t.register)==null?void 0:n.call(t,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var t,n;this.formField=((t=this.$pcForm)==null||(n=t.register)==null?void 0:n.call(t,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}},$formValue:{immediate:!1,handler:function(e){var t;(t=this.$pcForm)!=null&&t.getFieldState(this.$formName)&&e!==this.d_value&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,t){var n,r;this.controlled&&(this.d_value=e,this.$emit(`update:modelValue`,e)),this.$emit(`value-change`,e),(n=(r=this.formField).onChange)==null||n.call(r,{originalEvent:t,value:e})},findNonEmpty:function(){return[...arguments].find(b)}},computed:{$filled:function(){return b(this.d_value)},$invalid:function(){var e,t;return!this.$formNovalidate&&this.findNonEmpty(this.invalid,(e=this.$pcFormField)==null||(e=e.$field)==null?void 0:e.invalid,(t=this.$pcForm)==null||(t=t.getFieldState(this.$formName))==null?void 0:t.invalid)},$formName:function(){return this.$formNovalidate?void 0:this.name||this.$formControl?.name},$formControl:function(){return this.formControl||this.$pcFormField?.formControl},$formNovalidate:function(){return this.$formControl?.novalidate},$formDefaultValue:function(){var e;return this.findNonEmpty(this.d_value,this.$pcFormField?.initialValue,(e=this.$pcForm)==null||(e=e.initialValues)==null?void 0:e[this.$formName])},$formValue:function(){var e,t;return this.findNonEmpty((e=this.$pcFormField)==null||(e=e.$field)==null?void 0:e.value,(t=this.$pcForm)==null||(t=t.getFieldState(this.$formName))==null?void 0:t.value)},controlled:function(){return this.$inProps.hasOwnProperty(`modelValue`)||!this.$inProps.hasOwnProperty(`modelValue`)&&!this.$inProps.hasOwnProperty(`defaultValue`)},filled:function(){return this.$filled}}},props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){return this.variant??(this.$primevue.config.inputStyle||this.$primevue.config.inputVariant)},$fluid:function(){return this.fluid??!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},gA=Ue.extend({name:`inputtext`,style:`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`,classes:{root:function(e){var t=e.instance,n=e.props;return[`p-inputtext p-component`,{"p-filled":t.$filled,"p-inputtext-sm p-inputfield-sm":n.size===`small`,"p-inputtext-lg p-inputfield-lg":n.size===`large`,"p-invalid":t.$invalid,"p-variant-filled":t.$variant===`filled`,"p-inputtext-fluid":t.$fluid}]}}}),_A={name:`BaseInputText`,extends:hA,style:gA,provide:function(){return{$pcInputText:this,$parentInstance:this}}};function vA(e){"@babel/helpers - typeof";return vA=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},vA(e)}function yA(e,t,n){return(t=bA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bA(e){var t=xA(e,`string`);return vA(t)==`symbol`?t:t+``}function xA(e,t){if(vA(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vA(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var SA={name:`InputText`,extends:_A,inheritAttrs:!1,methods:{onInput:function(e){this.writeValue(e.target.value,e)}},computed:{attrs:function(){return J(this.ptmi(`root`,{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)},dataP:function(){return qt(yA({invalid:this.$invalid,fluid:this.$fluid,filled:this.$variant===`filled`},this.size,this.size))}}},CA=[`value`,`name`,`disabled`,`aria-invalid`,`data-p`];function wA(e,t,n,r,i,a){return l(),V(`input`,J({type:`text`,class:e.cx(`root`),value:e.d_value,name:e.name,disabled:e.disabled,"aria-invalid":e.$invalid||void 0,"data-p":a.dataP,onInput:t[0]||=function(){return a.onInput&&a.onInput.apply(a,arguments)}},a.attrs),null,16,CA)}SA.render=wA;var TA=j(),EA={name:`Portal`,props:{appendTo:{type:[String,Object],default:`body`},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=n()},computed:{inline:function(){return this.disabled||this.appendTo===`self`}}};function DA(e,t,n,i,a,o){return o.inline?r(e.$slots,`default`,{key:0}):a.mounted?(l(),K(Ne,{key:1,to:n.appendTo},[r(e.$slots,`default`)],8,[`to`])):L(``,!0)}EA.render=DA;function OA(e){"@babel/helpers - typeof";return OA=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},OA(e)}function kA(e,t){return PA(e)||NA(e,t)||jA(e,t)||AA()}function AA(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jA(e,t){if(e){if(typeof e==`string`)return MA(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MA(e,t):void 0}}function MA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NA(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function PA(e){if(Array.isArray(e))return e}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?FA(Object(n),!0).forEach(function(t){LA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LA(e,t,n){return(t=RA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RA(e){var t=zA(e,`string`);return OA(t)==`symbol`?t:t+``}function zA(e,t){if(OA(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(OA(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var BA={_getMeta:function(){return[g(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],m(g(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var n,r;return((e==null||(n=e.instance)==null?void 0:n.$primevue)||(t==null||(r=t.ctx)==null||(r=r.appContext)==null||(r=r.config)==null||(r=r.globalProperties)==null?void 0:r.$primevue))?.config},_getOptionValue:v,_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:``,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=function(){var e=BA._getOptionValue.apply(BA,arguments);return st(e)||f(e)?{class:e}:e},s=((e=t.binding)==null||(e=e.value)==null?void 0:e.ptOptions)||t.$primevueConfig?.ptOptions||{},c=s.mergeSections,l=c===void 0?!0:c,u=s.mergeProps,d=u===void 0?!1:u,p=a?BA._useDefaultPT(t,t.defaultPT(),o,r,i):void 0,m=BA._usePT(t,BA._getPT(n,t.$name),o,r,IA(IA({},i),{},{global:p||{}})),h=BA._getPTDatasets(t,r);return l||!l&&m?d?BA._mergeProps(t,d,p,m,h):IA(IA(IA({},p),m),h):IA(IA({},m),h)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=`data-pc-`;return IA(IA({},t===`root`&&LA({},`${n}name`,le(e.$name))),{},LA({},`${n}section`,le(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=arguments.length>2?arguments[2]:void 0,r=function(e){var r=n?n(e):e,i=le(t);return r?.[i]??r};return e&&Object.hasOwn(e,`_usept`)?{_usept:e._usept,originalValue:r(e.originalValue),value:r(e.value)}:r(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=function(e){return n(e,r,i)};if(t&&Object.hasOwn(t,`_usept`)){var o=t._usept||e.$primevueConfig?.ptOptions||{},s=o.mergeSections,c=s===void 0?!0:s,l=o.mergeProps,u=l===void 0?!1:l,d=a(t.originalValue),f=a(t.value);return d===void 0&&f===void 0?void 0:st(f)?f:st(d)?d:c||!c&&f?u?BA._mergeProps(e,u,d,f):IA(IA({},d),f):f}return a(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return BA._usePT(e,t,n,r,i)},_loadStyles:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=BA._getConfig(n,r),a={nonce:i==null||(e=i.csp)==null?void 0:e.nonce};BA._loadCoreStyles(t,a),BA._loadThemeStyles(t,a),BA._loadScopedThemeStyles(t,a),BA._removeThemeListeners(t),t.$loadStyles=function(){return BA._loadThemeStyles(t,a)},BA._themeChangeListener(t.$loadStyles)},_loadCoreStyles:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!UO.isStyleNameLoaded(t.$style?.name)&&(e=t.$style)!=null&&e.name){var r;Ue.loadCSS(n),(r=t.$style)==null||r.loadCSS(n),UO.setLoadedStyleName(t.$style.name)}},_loadThemeStyles:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(!(n!=null&&n.isUnstyled()||(n==null||(e=n.theme)==null?void 0:e.call(n))===`none`)){if(!Re.isStyleNameLoaded(`common`)){var i,a,o=((i=n.$style)==null||(a=i.getCommonTheme)==null?void 0:a.call(i))||{},s=o.primitive,c=o.semantic,l=o.global,u=o.style;Ue.load(s?.css,IA({name:`primitive-variables`},r)),Ue.load(c?.css,IA({name:`semantic-variables`},r)),Ue.load(l?.css,IA({name:`global-variables`},r)),Ue.loadStyle(IA({name:`global-style`},r),u),Re.setLoadedStyleName(`common`)}if(!Re.isStyleNameLoaded(n.$style?.name)&&(t=n.$style)!=null&&t.name){var d,f,p,m,h=((d=n.$style)==null||(f=d.getDirectiveTheme)==null?void 0:f.call(d))||{},g=h.css,_=h.style;(p=n.$style)==null||p.load(g,IA({name:`${n.$style.name}-variables`},r)),(m=n.$style)==null||m.loadStyle(IA({name:`${n.$style.name}-style`},r),_),Re.setLoadedStyleName(n.$style.name)}if(!Re.isStyleNameLoaded(`layer-order`)){var v,y,b=(v=n.$style)==null||(y=v.getLayerOrderThemeCSS)==null?void 0:y.call(v);Ue.load(b,IA({name:`layer-order`,first:!0},r)),Re.setLoadedStyleName(`layer-order`)}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.preset();if(n&&e.$attrSelector){var r,i,a=(((r=e.$style)==null||(i=r.getPresetTheme)==null?void 0:i.call(r,n,`[${e.$attrSelector}]`))||{}).css;e.scopedStyleEl=(e.$style?.load(a,IA({name:`${e.$attrSelector}-${e.$style.name}`},t))).el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};UO.clearLoadedStyleNames(),Ce.on(`theme:change`,e)},_removeThemeListeners:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ce.off(`theme:change`,e.$loadStyles),e.$loadStyles=void 0},_hook:function(e,t,n,r,i,a){var o,s,c=`on${S(t)}`,l=BA._getConfig(r,i),u=n?.$instance,d=BA._usePT(u,BA._getPT(r==null||(o=r.value)==null?void 0:o.pt,e),BA._getOptionValue,`hooks.${c}`),f=BA._useDefaultPT(u,l==null||(s=l.pt)==null||(s=s.directives)==null?void 0:s[e],BA._getOptionValue,`hooks.${c}`),p={el:n,binding:r,vnode:i,prevVnode:a};d?.(u,p),f?.(u,p)},_mergeProps:function(){var e=arguments.length>1?arguments[1]:void 0,t=[...arguments].slice(2);return i(e)?e.apply(void 0,t):J.apply(void 0,t)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=function(n,r,i,a,o){var s,c,l;r._$instances=r._$instances||{};var u=BA._getConfig(i,a),d=r._$instances[e]||{},f=de(d)?IA(IA({},t),t?.methods):{};r._$instances[e]=IA(IA({},d),{},{$name:e,$host:r,$binding:i,$modifiers:i?.modifiers,$value:i?.value,$el:d.$el||r||void 0,$style:IA({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},t?.style),$primevueConfig:u,$attrSelector:(s=r.$pd)==null||(s=s[e])==null?void 0:s.attrSelector,defaultPT:function(){return BA._getPT(u?.pt,void 0,function(t){var n;return t==null||(n=t.directives)==null?void 0:n[e]})},isUnstyled:function(){var t,n;return((t=r._$instances[e])==null||(t=t.$binding)==null||(t=t.value)==null?void 0:t.unstyled)===void 0?u?.unstyled:(n=r._$instances[e])==null||(n=n.$binding)==null||(n=n.value)==null?void 0:n.unstyled},theme:function(){var t;return(t=r._$instances[e])==null||(t=t.$primevueConfig)==null?void 0:t.theme},preset:function(){var t;return(t=r._$instances[e])==null||(t=t.$binding)==null||(t=t.value)==null?void 0:t.dt},ptm:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return BA._getPTValue(r._$instances[e],(t=r._$instances[e])==null||(t=t.$binding)==null||(t=t.value)==null?void 0:t.pt,n,IA({},i))},ptmo:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return BA._getPTValue(r._$instances[e],t,n,i,!1)},cx:function(){var t,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(t=r._$instances[e])!=null&&t.isUnstyled()?void 0:BA._getOptionValue((n=r._$instances[e])==null||(n=n.$style)==null?void 0:n.classes,i,IA({},a))},sx:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i?BA._getOptionValue((t=r._$instances[e])==null||(t=t.$style)==null?void 0:t.inlineStyles,n,IA({},a)):void 0}},f),r.$instance=r._$instances[e],(c=(l=r.$instance)[n])==null||c.call(l,r,i,a,o),r[`\$${e}`]=r.$instance,BA._hook(e,n,r,i,a,o),r.$pd||={},r.$pd[e]=IA(IA({},r.$pd?.[e]),{},{name:e,instance:r._$instances[e]})},r=function(t){var n,r,i,a=t._$instances[e],o=a?.watch,s=function(e){var t,n=e.newValue,r=e.oldValue;return o==null||(t=o.config)==null?void 0:t.call(a,n,r)},c=function(e){var t,n=e.newValue,r=e.oldValue;return o==null||(t=o[`config.ripple`])==null?void 0:t.call(a,n,r)};a.$watchersCallback={config:s,"config.ripple":c},o==null||(n=o.config)==null||n.call(a,a?.$primevueConfig),be.on(`config:change`,s),o==null||(r=o[`config.ripple`])==null||r.call(a,a==null||(i=a.$primevueConfig)==null?void 0:i.ripple),be.on(`config:ripple:change`,c)},i=function(t){var n=t._$instances[e].$watchersCallback;n&&(be.off(`config:change`,n.config),be.off(`config:ripple:change`,n[`config.ripple`]),t._$instances[e].$watchersCallback=void 0)};return{created:function(t,r,i,a){t.$pd||={},t.$pd[e]={name:e,attrSelector:Yt(`pd`)},n(`created`,t,r,i,a)},beforeMount:function(t,i,a,o){BA._loadStyles(t.$pd[e]?.instance,i,a),n(`beforeMount`,t,i,a,o),r(t)},mounted:function(t,r,i,a){BA._loadStyles(t.$pd[e]?.instance,r,i),n(`mounted`,t,r,i,a)},beforeUpdate:function(e,t,r,i){n(`beforeUpdate`,e,t,r,i)},updated:function(t,r,i,a){BA._loadStyles(t.$pd[e]?.instance,r,i),n(`updated`,t,r,i,a)},beforeUnmount:function(t,r,a,o){i(t),BA._removeThemeListeners(t.$pd[e]?.instance),n(`beforeUnmount`,t,r,a,o)},unmounted:function(t,r,i,a){var o;(o=t.$pd[e])==null||(o=o.instance)==null||(o=o.scopedStyleEl)==null||(o=o.value)==null||o.remove(),n(`unmounted`,t,r,i,a)}}},extend:function(){var e=BA._getMeta.apply(BA,arguments),t=kA(e,2),n=t[0],r=t[1];return IA({extend:function(){var e=BA._getMeta.apply(BA,arguments),t=kA(e,2),n=t[0],i=t[1];return BA.extend(n,IA(IA(IA({},r),r?.methods),i))}},BA._extend(n,r))}},VA=Ue.extend({name:`ripple-directive`,style:`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,classes:{root:`p-ink`}}),HA=BA.extend({style:VA});function UA(e){"@babel/helpers - typeof";return UA=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},UA(e)}function WA(e){return JA(e)||qA(e)||KA(e)||GA()}function GA(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KA(e,t){if(e){if(typeof e==`string`)return YA(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YA(e,t):void 0}}function qA(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function JA(e){if(Array.isArray(e))return YA(e)}function YA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function XA(e,t,n){return(t=ZA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e){var t=QA(e,`string`);return UA(t)==`symbol`?t:t+``}function QA(e,t){if(UA(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(UA(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var $A=HA.extend(`ripple`,{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute(`data-pd-ripple`,!0),this.$host.style.overflow=`hidden`,this.$host.style.position=`relative`):(this.remove(this.$host),this.$host.removeAttribute(`data-pd-ripple`))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener(`mousedown`,this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener(`mousedown`,this.onMouseDown.bind(this))},createRipple:function(e){var t=this.getInk(e);t||(t=ie(`span`,XA(XA({role:`presentation`,"aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx(`root`),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,``),`p-bind`,this.ptm(`root`))),e.appendChild(t),this.$el=t)},remove:function(e){var t=this.getInk(e);t&&(this.$host.style.overflow=``,this.$host.style.position=``,this.unbindEvents(e),t.removeEventListener(`animationend`,this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,n=e.currentTarget,r=this.getInk(n);if(!(!r||getComputedStyle(r,null).display===`none`)){if(!this.isUnstyled()&&ve(r,`p-ink-active`),r.setAttribute(`data-p-ink-active`,`false`),!it(r)&&!at(r)){var i=Math.max(Pe(n),De(n));r.style.height=i+`px`,r.style.width=i+`px`}var a=je(n),o=e.pageX-a.left+document.body.scrollTop-at(r)/2,s=e.pageY-a.top+document.body.scrollLeft-it(r)/2;r.style.top=s+`px`,r.style.left=o+`px`,!this.isUnstyled()&&nt(r,`p-ink-active`),r.setAttribute(`data-p-ink-active`,`true`),this.timeout=setTimeout(function(){r&&(!t.isUnstyled()&&ve(r,`p-ink-active`),r.setAttribute(`data-p-ink-active`,`false`))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&ve(e.currentTarget,`p-ink-active`),e.currentTarget.setAttribute(`data-p-ink-active`,`false`)},getInk:function(e){return e&&e.children?WA(e.children).find(function(e){return et(e,`data-pc-name`)===`ripple`}):void 0}}}),ej=Ue.extend({name:`virtualscroller`,css:`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}

.p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    inset-block-start: 0;
    inset-inline-start: 0;
}
`,style:`
    .p-virtualscroller-loader {
        background: dt('virtualscroller.loader.mask.background');
        color: dt('virtualscroller.loader.mask.color');
    }

    .p-virtualscroller-loading-icon {
        font-size: dt('virtualscroller.loader.icon.size');
        width: dt('virtualscroller.loader.icon.size');
        height: dt('virtualscroller.loader.icon.size');
    }
`}),tj={name:`BaseVirtualScroller`,extends:ok,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:`vertical`},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:ej,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var e;ej.loadCSS({nonce:(e=this.$primevueConfig)==null||(e=e.csp)==null?void 0:e.nonce})}};function nj(e){"@babel/helpers - typeof";return nj=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},nj(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?rj(Object(n),!0).forEach(function(t){aj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aj(e,t,n){return(t=oj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oj(e){var t=sj(e,`string`);return nj(t)==`symbol`?t:t+``}function sj(e,t){if(nj(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nj(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var cj={name:`VirtualScroller`,extends:tj,inheritAttrs:!1,emits:[`update:numToleratedItems`,`scroll`,`scroll-index-change`,`lazy-load`],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,resizeObserver:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,t){this.lazy&&e!==t&&e!==this.d_loading&&(this.d_loading=e)},items:{handler:function(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},deep:!0},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){A(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.defaultWidth=at(this.element),this.defaultHeight=it(this.element),this.defaultContentWidth=at(this.content),this.defaultContentHeight=it(this.content),this.initialized=!0),this.element&&this.bindResizeListener()},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation===`vertical`},isHorizontal:function(){return this.orientation===`horizontal`},isBoth:function(){return this.orientation===`both`},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`auto`,r=this.isBoth(),i=this.isHorizontal();if(r?e.every(function(e){return e>-1}):e>-1){var a=this.first,o=this.element,s=o.scrollTop,c=s===void 0?0:s,l=o.scrollLeft,u=l===void 0?0:l,d=this.calculateNumItems().numToleratedItems,f=this.getContentPosition(),p=this.itemSize,m=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return e<=t?0:e},h=function(e,t,n){return e*t+n},g=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.scrollTo({left:e,top:r,behavior:n})},_=r?{rows:0,cols:0}:0,v=!1,y=!1;r?(_={rows:m(e[0],d[0]),cols:m(e[1],d[1])},g(h(_.cols,p[1],f.left),h(_.rows,p[0],f.top)),y=this.lastScrollPos.top!==c||this.lastScrollPos.left!==u,v=_.rows!==a.rows||_.cols!==a.cols):(_=m(e,d),i?g(h(_,p,f.left),c):g(u,h(_,p,f.top)),y=this.lastScrollPos!==(i?u:c),v=_!==a),this.isRangeChanged=v,y&&(this.first=_)}},scrollInView:function(e,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`auto`;if(t){var i=this.isBoth(),a=this.isHorizontal();if(i?e.every(function(e){return e>-1}):e>-1){var o=this.getRenderedRange(),s=o.first,c=o.viewport,l=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:e,top:t,behavior:r})},u=t===`to-start`,d=t===`to-end`;if(u){if(i)c.first.rows-s.rows>e[0]?l(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-s.cols>e[1]&&l((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-s>e){var f=(c.first-1)*this.itemSize;a?l(f,0):l(0,f)}}else if(d){if(i)c.last.rows-s.rows<=e[0]+1?l(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-s.cols<=e[1]+1&&l((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-s<=e+1){var p=(c.first+1)*this.itemSize;a?l(p,0):l(0,p)}}}}else this.scrollToIndex(e,r)},getRenderedRange:function(){var e=function(e,t){return Math.floor(e/(t||e))},t=this.first,n=0;if(this.element){var r=this.isBoth(),i=this.isHorizontal(),a=this.element,o=a.scrollTop,s=a.scrollLeft;r?(t={rows:e(o,this.itemSize[0]),cols:e(s,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols}):(t=e(i?s:o,this.itemSize),n=t+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems:function(){var e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,r=this.getContentPosition(),i=this.element?this.element.offsetWidth-r.left:0,a=this.element?this.element.offsetHeight-r.top:0,o=function(e,t){return Math.ceil(e/(t||e))},s=function(e){return Math.ceil(e/2)},c=e?{rows:o(a,n[0]),cols:o(i,n[1])}:o(t?i:a,n),l=this.d_numToleratedItems||(e?[s(c.rows),s(c.cols)]:s(c));return{numItemsInViewport:c,numToleratedItems:l}},calculateOptions:function(){var e=this,t=this.isBoth(),n=this.first,r=this.calculateNumItems(),i=r.numItemsInViewport,a=r.numToleratedItems,o=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(t+n+(t<r?2:3)*r,i)},s=t?{rows:o(n.rows,i.rows,a[0]),cols:o(n.cols,i.cols,a[1],!0)}:o(n,i,a);this.last=s,this.numItemsInViewport=i,this.d_numToleratedItems=a,this.$emit(`update:numToleratedItems`,this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:i.rows}).map(function(){return Array.from({length:i.cols})}):Array.from({length:i})),this.lazy&&Promise.resolve().then(function(){e.lazyLoadState={first:e.step?t?{rows:0,cols:n.cols}:0:n,last:Math.min(e.step?e.step:s,e.items?.length||0)},e.$emit(`lazy-load`,e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var t=e.isBoth(),n=e.isHorizontal(),r=e.isVertical();e.content.style.minHeight=e.content.style.minWidth=`auto`,e.content.style.position=`relative`,e.element.style.contain=`none`;var i=[at(e.element),it(e.element)],a=i[0],o=i[1];(t||n)&&(e.element.style.width=a<e.defaultWidth?a+`px`:e.scrollWidth||e.defaultWidth+`px`),(t||r)&&(e.element.style.height=o<e.defaultHeight?o+`px`:e.scrollHeight||e.defaultHeight+`px`),e.content.style.minHeight=e.content.style.minWidth=``,e.content.style.position=``,e.element.style.contain=``}})},getLast:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(t?(this.columns||this.items[0])?.length||0:this.items?.length||0,e):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),i=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:n,top:r,bottom:i,x:t+n,y:r+i}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var t=this.isBoth(),n=this.isHorizontal(),r=this.element.parentElement,i=this.scrollWidth||`${this.element.offsetWidth||r.offsetWidth}px`,a=this.scrollHeight||`${this.element.offsetHeight||r.offsetHeight}px`,o=function(t,n){return e.element.style[t]=n};t||n?(o(`height`,a),o(`width`,i)):o(`height`,a)}},setSpacerSize:function(){var e=this,t=this.items;if(t){var n=this.isBoth(),r=this.isHorizontal(),i=this.getContentPosition(),a=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=ij(ij({},e.spacerStyle),aj({},`${t}`,(n||[]).length*r+i+`px`))};n?(a(`height`,t,this.itemSize[0],i.y),a(`width`,this.columns||t[1],this.itemSize[1],i.x)):r?a(`width`,this.columns||t,this.itemSize,i.x):a(`height`,t,this.itemSize,i.y)}},setContentPosition:function(e){var t=this;if(this.content&&!this.appendOnly){var n=this.isBoth(),r=this.isHorizontal(),i=e?e.first:this.first,a=function(e,t){return e*t},o=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.contentStyle=ij(ij({},t.contentStyle),{transform:`translate3d(${e}px, ${n}px, 0)`})};if(n)o(a(i.cols,this.itemSize[1]),a(i.rows,this.itemSize[0]));else{var s=a(i,this.itemSize);r?o(s,0):o(0,s)}}},onScrollPositionChange:function(e){var t=this,n=e.target,r=this.isBoth(),i=this.isHorizontal(),a=this.getContentPosition(),o=function(e,t){return e?e>t?e-t:e:0},s=function(e,t){return Math.floor(e/(t||e))},c=function(e,t,n,r,i,a){return e<=i?i:a?n-r-i:t+i-1},l=function(e,n,r,i,a,o,s,c){if(e<=o)return 0;var l=Math.max(0,s?e<n?r:e-o:e>n?r:e-2*o),u=t.getLast(l,c);return l>u?u-a:l},u=function(e,n,r,i,a,o){var s=n+i+2*a;return e>=a&&(s+=a+1),t.getLast(s,o)},d=o(n.scrollTop,a.top),f=o(n.scrollLeft,a.left),p=r?{rows:0,cols:0}:0,m=this.last,h=!1,g=this.lastScrollPos;if(r){var _=this.lastScrollPos.top<=d,v=this.lastScrollPos.left<=f;if(!this.appendOnly||this.appendOnly&&(_||v)){var y={rows:s(d,this.itemSize[0]),cols:s(f,this.itemSize[1])},b={rows:c(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:c(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],v)};p={rows:l(y.rows,b.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:l(y.cols,b.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],v,!0)},m={rows:u(y.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(y.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},h=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,g={top:d,left:f}}}else{var x=i?f:d,S=this.lastScrollPos<=x;if(!this.appendOnly||this.appendOnly&&S){var C=s(x,this.itemSize),w=c(C,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);p=l(C,w,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),m=u(C,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),h=p!==this.first||m!==this.last||this.isRangeChanged,g=x}}return{first:p,last:m,isRangeChanged:h,scrollPos:g}},onScrollChange:function(e){var t=this.onScrollPositionChange(e),n=t.first,r=t.last,i=t.isRangeChanged,a=t.scrollPos;if(i){var o={first:n,last:r};if(this.setContentPosition(o),this.first=n,this.last=r,this.lastScrollPos=a,this.$emit(`scroll-index-change`,o),this.lazy&&this.isPageChanged(n)){var s={first:this.step?Math.min(this.getPageByFirst(n)*this.step,(this.items?.length||0)-this.step):n,last:Math.min(this.step?(this.getPageByFirst(n)+1)*this.step:r,this.items?.length||0)};(this.lazyLoadState.first!==s.first||this.lazyLoadState.last!==s.last)&&this.$emit(`lazy-load`,s),this.lazyLoadState=s}}},onScroll:function(e){var t=this;this.$emit(`scroll`,e),this.delay?(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()&&(!this.d_loading&&this.showLoader&&(this.onScrollPositionChange(e).isRangeChanged||this.step&&this.isPageChanged())&&(this.d_loading=!0),this.scrollTimeout=setTimeout(function(){t.onScrollChange(e),t.d_loading&&t.showLoader&&(!t.lazy||t.loading===void 0)&&(t.d_loading=!1,t.page=t.getPageByFirst())},this.delay))):this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(A(e.element)){var t=e.isBoth(),n=e.isVertical(),r=e.isHorizontal(),i=[at(e.element),it(e.element)],a=i[0],o=i[1],s=a!==e.defaultWidth,c=o!==e.defaultHeight;(t?s||c:r?s:n&&c)&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=a,e.defaultHeight=o,e.defaultContentWidth=at(e.content),e.defaultContentHeight=it(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener(`resize`,this.resizeListener),window.addEventListener(`orientationchange`,this.resizeListener),this.resizeObserver=new ResizeObserver(function(){e.onResize()}),this.resizeObserver.observe(this.element))},unbindResizeListener:function(){this.resizeListener&&=(window.removeEventListener(`resize`,this.resizeListener),window.removeEventListener(`orientationchange`,this.resizeListener),null),this.resizeObserver&&=(this.resizeObserver.disconnect(),null)},getOptions:function(e){var t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2==0,odd:n%2!=0}},getLoaderOptions:function(e,t){var n=this.loaderArr.length;return ij({index:e,count:n,first:e===0,last:e===n-1,even:e%2==0,odd:e%2!=0},t)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step&&!this.lazy?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||O(this.element,`[data-pc-section="content"]`)},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return[`p-virtualscroller`,this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return[`p-virtualscroller-content`,{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return[`p-virtualscroller-loader`,{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(t){return e.columns?t:t.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:qk}},lj=[`tabindex`];function uj(e,t,n,i,a,o){var s=Fe(`SpinnerIcon`);return e.disabled?(l(),V(G,{key:1},[r(e.$slots,`default`),r(e.$slots,`content`,{items:e.items,rows:e.items,columns:o.loadedColumns})],64)):(l(),V(`div`,J({key:0,ref:o.elementRef,class:o.containerClass,tabindex:e.tabindex,style:e.style,onScroll:t[0]||=function(){return o.onScroll&&o.onScroll.apply(o,arguments)}},e.ptmi(`root`)),[r(e.$slots,`content`,{styleClass:o.contentClass,items:o.loadedItems,getItemOptions:o.getOptions,loading:a.d_loading,getLoaderOptions:o.getLoaderOptions,itemSize:e.itemSize,rows:o.loadedRows,columns:o.loadedColumns,contentRef:o.contentRef,spacerStyle:a.spacerStyle,contentStyle:a.contentStyle,vertical:o.isVertical(),horizontal:o.isHorizontal(),both:o.isBoth()},function(){return[U(`div`,J({ref:o.contentRef,class:o.contentClass,style:a.contentStyle},e.ptm(`content`)),[(l(!0),V(G,null,Le(o.loadedItems,function(t,n){return r(e.$slots,`item`,{key:n,item:t,options:o.getOptions(n)})}),128))],16)]}),e.showSpacer?(l(),V(`div`,J({key:0,class:`p-virtualscroller-spacer`,style:a.spacerStyle},e.ptm(`spacer`)),null,16)):L(``,!0),!e.loaderDisabled&&e.showLoader&&a.d_loading?(l(),V(`div`,J({key:1,class:o.loaderClass},e.ptm(`loader`)),[e.$slots&&e.$slots.loader?(l(!0),V(G,{key:0},Le(a.loaderArr,function(t,n){return r(e.$slots,`loader`,{key:n,options:o.getLoaderOptions(n,o.isBoth()&&{numCols:e.d_numItemsInViewport.cols})})}),128)):L(``,!0),r(e.$slots,`loadingicon`,{},function(){return[H(s,J({spin:``,class:`p-virtualscroller-loading-icon`},e.ptm(`loadingIcon`)),null,16)]})],16)):L(``,!0)],16,lj))}cj.render=uj;var dj=Ue.extend({name:`select`,style:`
    .p-select {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('select.background');
        border: 1px solid dt('select.border.color');
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            outline-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration');
        border-radius: dt('select.border.radius');
        outline-color: transparent;
        box-shadow: dt('select.shadow');
    }

    .p-select:not(.p-disabled):hover {
        border-color: dt('select.hover.border.color');
    }

    .p-select:not(.p-disabled).p-focus {
        border-color: dt('select.focus.border.color');
        box-shadow: dt('select.focus.ring.shadow');
        outline: dt('select.focus.ring.width') dt('select.focus.ring.style') dt('select.focus.ring.color');
        outline-offset: dt('select.focus.ring.offset');
    }

    .p-select.p-variant-filled {
        background: dt('select.filled.background');
    }

    .p-select.p-variant-filled:not(.p-disabled):hover {
        background: dt('select.filled.hover.background');
    }

    .p-select.p-variant-filled:not(.p-disabled).p-focus {
        background: dt('select.filled.focus.background');
    }

    .p-select.p-invalid {
        border-color: dt('select.invalid.border.color');
    }

    .p-select.p-disabled {
        opacity: 1;
        background: dt('select.disabled.background');
    }

    .p-select-clear-icon {
        align-self: center;
        color: dt('select.clear.icon.color');
        inset-inline-end: dt('select.dropdown.width');
    }

    .p-select-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('select.dropdown.color');
        width: dt('select.dropdown.width');
        border-start-end-radius: dt('select.border.radius');
        border-end-end-radius: dt('select.border.radius');
    }

    .p-select-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        padding: dt('select.padding.y') dt('select.padding.x');
        text-overflow: ellipsis;
        cursor: pointer;
        color: dt('select.color');
        background: transparent;
        border: 0 none;
        outline: 0 none;
        font-size: 1rem;
    }

    .p-select-label.p-placeholder {
        color: dt('select.placeholder.color');
    }

    .p-select.p-invalid .p-select-label.p-placeholder {
        color: dt('select.invalid.placeholder.color');
    }

    .p-select.p-disabled .p-select-label {
        color: dt('select.disabled.color');
    }

    .p-select-label-empty {
        overflow: hidden;
        opacity: 0;
    }

    input.p-select-label {
        cursor: default;
    }

    .p-select-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('select.overlay.background');
        color: dt('select.overlay.color');
        border: 1px solid dt('select.overlay.border.color');
        border-radius: dt('select.overlay.border.radius');
        box-shadow: dt('select.overlay.shadow');
        min-width: 100%;
    }

    .p-select-header {
        padding: dt('select.list.header.padding');
    }

    .p-select-filter {
        width: 100%;
    }

    .p-select-list-container {
        overflow: auto;
    }

    .p-select-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('select.option.group.padding');
        background: dt('select.option.group.background');
        color: dt('select.option.group.color');
        font-weight: dt('select.option.group.font.weight');
    }

    .p-select-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('select.list.padding');
        gap: dt('select.list.gap');
        display: flex;
        flex-direction: column;
    }

    .p-select-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: dt('select.option.padding');
        border: 0 none;
        color: dt('select.option.color');
        background: transparent;
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration'),
            outline-color dt('select.transition.duration');
        border-radius: dt('select.option.border.radius');
    }

    .p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
        background: dt('select.option.focus.background');
        color: dt('select.option.focus.color');
    }

    .p-select-option.p-select-option-selected {
        background: dt('select.option.selected.background');
        color: dt('select.option.selected.color');
    }

    .p-select-option.p-select-option-selected.p-focus {
        background: dt('select.option.selected.focus.background');
        color: dt('select.option.selected.focus.color');
    }

    .p-select-option-blank-icon {
        flex-shrink: 0;
    }

    .p-select-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('select.checkmark.gutter.start');
        margin-inline-end: dt('select.checkmark.gutter.end');
        color: dt('select.checkmark.color');
    }

    .p-select-empty-message {
        padding: dt('select.empty.message.padding');
    }

    .p-select-fluid {
        display: flex;
        width: 100%;
    }

    .p-select-sm .p-select-label {
        font-size: dt('select.sm.font.size');
        padding-block: dt('select.sm.padding.y');
        padding-inline: dt('select.sm.padding.x');
    }

    .p-select-sm .p-select-dropdown .p-icon {
        font-size: dt('select.sm.font.size');
        width: dt('select.sm.font.size');
        height: dt('select.sm.font.size');
    }

    .p-select-lg .p-select-label {
        font-size: dt('select.lg.font.size');
        padding-block: dt('select.lg.padding.y');
        padding-inline: dt('select.lg.padding.x');
    }

    .p-select-lg .p-select-dropdown .p-icon {
        font-size: dt('select.lg.font.size');
        width: dt('select.lg.font.size');
        height: dt('select.lg.font.size');
    }

    .p-floatlabel-in .p-select-filter {
        padding-block-start: dt('select.padding.y');
        padding-block-end: dt('select.padding.y');
    }
`,classes:{root:function(e){var t=e.instance,n=e.props,r=e.state;return[`p-select p-component p-inputwrapper`,{"p-disabled":n.disabled,"p-invalid":t.$invalid,"p-variant-filled":t.$variant===`filled`,"p-focus":r.focused,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":r.focused||r.overlayVisible,"p-select-open":r.overlayVisible,"p-select-fluid":t.$fluid,"p-select-sm p-inputfield-sm":n.size===`small`,"p-select-lg p-inputfield-lg":n.size===`large`}]},label:function(e){var t=e.instance,n=e.props;return[`p-select-label`,{"p-placeholder":!n.editable&&t.label===n.placeholder,"p-select-label-empty":!n.editable&&!t.$slots.value&&(t.label===`p-emptylabel`||t.label.length===0)}]},clearIcon:`p-select-clear-icon`,dropdown:`p-select-dropdown`,loadingicon:`p-select-loading-icon`,dropdownIcon:`p-select-dropdown-icon`,overlay:`p-select-overlay p-component`,header:`p-select-header`,pcFilter:`p-select-filter`,listContainer:`p-select-list-container`,list:`p-select-list`,optionGroup:`p-select-option-group`,optionGroupLabel:`p-select-option-group-label`,option:function(e){var t=e.instance,n=e.props,r=e.state,i=e.option,a=e.focusedOption;return[`p-select-option`,{"p-select-option-selected":t.isSelected(i)&&n.highlightOnSelect,"p-focus":r.focusedOptionIndex===a,"p-disabled":t.isOptionDisabled(i)}]},optionLabel:`p-select-option-label`,optionCheckIcon:`p-select-option-check-icon`,optionBlankIcon:`p-select-option-blank-icon`,emptyMessage:`p-select-empty-message`}}),fj={name:`BaseSelect`,extends:hA,props:{options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:`14rem`},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:`contains`},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:`body`},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:dj,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function pj(e){"@babel/helpers - typeof";return pj=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},pj(e)}function mj(e){return vj(e)||_j(e)||gj(e)||hj()}function hj(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gj(e,t){if(e){if(typeof e==`string`)return yj(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yj(e,t):void 0}}function _j(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function vj(e){if(Array.isArray(e))return yj(e)}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?bj(Object(n),!0).forEach(function(t){Sj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sj(e,t,n){return(t=Cj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cj(e){var t=wj(e,`string`);return pj(t)==`symbol`?t:t+``}function wj(e,t){if(pj(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pj(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var Tj={name:`Select`,extends:fj,inheritAttrs:!1,emits:[`change`,`focus`,`blur`,`before-show`,`before-hide`,`show`,`hide`,`filter`],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,matchMediaOrientationListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1,queryOrientation:null}},watch:{modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel(),this.bindLabelClickListener(),this.bindMatchMediaOrientationListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.unbindMatchMediaOrientationListener(),this.scrollHandler&&=(this.scrollHandler.destroy(),null),this.overlay&&=(Zt.clear(this.overlay),null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?Ke(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ke(e,this.optionValue):e},getOptionRenderKey:function(e,t){return(this.dataKey?Ke(e,this.dataKey):this.getOptionLabel(e))+`_`+t},getPTItemOptions:function(e,t,n,r){return this.ptm(r,{context:{option:e,index:n,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(n,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ke(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ke(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ke(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(e){return t.isOptionGroup(e)}).length:e)+1},show:function(e){this.$emit(`before-show`),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex===-1?this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex():this.focusedOptionIndex,e&&c(this.$refs.focusInput)},hide:function(e){var t=this,n=function(){t.$emit(`before-hide`),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue=``,t.resetFilterOnHide&&(t.filterValue=null),e&&c(t.$refs.focusInput)};setTimeout(function(){n()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex===-1?this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex():this.focusedOptionIndex,this.scrollInView(this.focusedOptionIndex)),this.$emit(`focus`,e))},onBlur:function(e){var t=this;setTimeout(function(){var n,r;t.focused=!1,t.focusedOptionIndex=-1,t.searchValue=``,t.$emit(`blur`,e),(n=(r=t.formField).onBlur)==null||n.call(r,e)},100)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}if(Qe())switch(e.code){case`Backspace`:this.onBackspaceKey(e,this.editable);break;case`Enter`:case`NumpadDecimal`:this.onEnterKey(e);break;default:e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case`ArrowDown`:this.onArrowDownKey(e);break;case`ArrowUp`:this.onArrowUpKey(e,this.editable);break;case`ArrowLeft`:case`ArrowRight`:this.onArrowLeftKey(e,this.editable);break;case`Home`:this.onHomeKey(e,this.editable);break;case`End`:this.onEndKey(e,this.editable);break;case`PageDown`:this.onPageDownKey(e);break;case`PageUp`:this.onPageUpKey(e);break;case`Space`:this.onSpaceKey(e,this.editable);break;case`Enter`:case`NumpadEnter`:this.onEnterKey(e);break;case`Escape`:this.onEscapeKey(e);break;case`Tab`:this.onTabKey(e);break;case`Backspace`:this.onBackspaceKey(e,this.editable);break;case`ShiftLeft`:case`ShiftRight`:break;default:!t&&w(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key),this.filter&&(this.filterValue=e.key));break}this.clicked=!1},onEditableInput:function(e){var t=e.target.value;this.searchValue=``,!this.searchOptions(e,t)&&(this.focusedOptionIndex=-1),this.updateModel(e,t),!this.overlayVisible&&b(t)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName===`INPUT`||e.target.getAttribute(`data-pc-section`)===`clearicon`||e.target.closest(`[data-pc-section="clearicon"]`)||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?E(this.overlay,`:not([data-p-hidden-focusable="true"])`):this.$refs.focusInput;c(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?ke(this.overlay,`:not([data-p-hidden-focusable="true"])`):this.$refs.focusInput;c(t)},onOptionSelect:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=this.getOptionValue(t);this.updateModel(e,r),n&&this.hide(!0)},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit(`filter`,{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){if(!e.isComposing)switch(e.code){case`ArrowDown`:this.onArrowDownKey(e);break;case`ArrowUp`:this.onArrowUpKey(e,!0);break;case`ArrowLeft`:case`ArrowRight`:this.onArrowLeftKey(e,!0);break;case`Home`:this.onHomeKey(e,!0);break;case`End`:this.onEndKey(e,!0);break;case`Enter`:case`NumpadEnter`:this.onEnterKey(e);break;case`Escape`:this.onEscapeKey(e);break;case`Tab`:this.onTabKey(e);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){TA.emit(`overlay-click`,{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case`Escape`:this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var t=this.focusedOptionIndex===-1?this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex():this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var n=this.focusedOptionIndex===-1?this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex():this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){arguments.length>1&&arguments[1]!==void 0&&arguments[1]&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1]){var t=e.currentTarget;e.shiftKey?t.setSelectionRange(0,e.target.selectionStart):(t.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1]){var t=e.currentTarget;if(e.shiftKey)t.setSelectionRange(e.target.selectionStart,t.value.length);else{var n=t.value.length;t.setSelectionRange(n,n),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide(!0)):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){!(arguments.length>1&&arguments[1]!==void 0&&arguments[1])&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){arguments.length>1&&arguments[1]!==void 0&&arguments[1]||(this.overlayVisible&&this.hasFocusableElements()?(c(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){arguments.length>1&&arguments[1]!==void 0&&arguments[1]&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){var t=this;Zt.set(`overlay`,e,this.$primevue.config.zIndex.overlay),xe(e,{position:`absolute`,top:`0`}),this.alignOverlay(),this.scrollInView(),this.$attrSelector&&e.setAttribute(this.$attrSelector,``),setTimeout(function(){t.autoFilterFocus&&t.filter&&c(t.$refs.filterInput.$el),t.autoUpdateModel()},1)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit(`show`)},onOverlayLeave:function(){var e=this;this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&this.filter&&!this.editable&&this.$nextTick(function(){e.$refs.filterInput&&c(e.$refs.filterInput.$el)}),this.$emit(`hide`),this.overlay=null},onOverlayAfterLeave:function(e){Zt.clear(e)},alignOverlay:function(){this.appendTo===`self`?ze(this.overlay,this.$el):this.overlay&&(this.overlay.style.minWidth=Pe(this.$el)+`px`,We(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=t.composedPath();e.overlayVisible&&e.overlay&&!n.includes(e.$el)&&!n.includes(e.overlay)&&e.hide()},document.addEventListener(`click`,this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&=(document.removeEventListener(`click`,this.outsideClickListener,!0),null)},bindScrollListener:function(){var e=this;this.scrollHandler||=new VO(this.$refs.container,function(){e.overlayVisible&&e.hide()}),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!ae()&&e.hide()},window.addEventListener(`resize`,this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&=(window.removeEventListener(`resize`,this.resizeListener),null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var t=document.querySelector(`label[for="${this.labelId}"]`);t&&A(t)&&(this.labelClickListener=function(){c(e.$refs.focusInput)},t.addEventListener(`click`,this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector(`label[for="${this.labelId}"]`);e&&A(e)&&e.removeEventListener(`click`,this.labelClickListener)}},bindMatchMediaOrientationListener:function(){var e=this;this.matchMediaOrientationListener||(this.queryOrientation=matchMedia(`(orientation: portrait)`),this.matchMediaOrientationListener=function(){e.alignOverlay()},this.queryOrientation.addEventListener(`change`,this.matchMediaOrientationListener))},unbindMatchMediaOrientationListener:function(){this.matchMediaOrientationListener&&=(this.queryOrientation.removeEventListener(`change`,this.matchMediaOrientationListener),this.queryOrientation=null,null)},hasFocusableElements:function(){return u(this.overlay,`:not([data-p-hidden-focusable="true"])`).length>0},isOptionExactMatched:function(e){return this.isValidOption(e)&&typeof this.getOptionLabel(e)==`string`&&this.getOptionLabel(e)?.toLocaleLowerCase(this.filterLocale)==this.searchValue.toLocaleLowerCase(this.filterLocale)},isOptionStartsWith:function(e){return this.isValidOption(e)&&typeof this.getOptionLabel(e)==`string`&&this.getOptionLabel(e)?.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption:function(e){return b(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return se(this.d_value,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return ne(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,n=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(e){return t.isValidOption(e)}):-1;return n>-1?n+e+1:e},findPrevOptionIndex:function(e){var t=this,n=e>0?ne(this.visibleOptions.slice(0,e),function(e){return t.isValidOption(e)}):-1;return n>-1?n:e},findSelectedOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)})},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,t){var n=this;this.searchValue=(this.searchValue||``)+t;var r=-1,i=!1;return b(this.searchValue)&&(r=this.visibleOptions.findIndex(function(e){return n.isOptionExactMatched(e)}),r===-1&&(r=this.visibleOptions.findIndex(function(e){return n.isOptionStartsWith(e)})),r!==-1&&(i=!0),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue=``,n.searchTimeout=null},500),i},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var n=t===-1?e.focusedOptionId:`${e.$id}_${t}`,r=O(e.list,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:`nearest`,inline:`nearest`}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t===-1?e.focusedOptionIndex:t)})},autoUpdateModel:function(){this.autoOptionFocus&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex()),this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1)},updateModel:function(e,t){this.writeValue(t,e),this.$emit(`change`,{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(e,n,r){e.push({optionGroup:n,group:!0,index:r});var i=t.getOptionGroupChildren(n);return i&&i.forEach(function(t){return e.push(t)}),e},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var n=Ye.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var r=this.options||[],i=[];return r.forEach(function(t){var r=e.getOptionGroupChildren(t).filter(function(e){return n.includes(e)});r.length>0&&i.push(xj(xj({},t),{},Sj({},typeof e.optionGroupChildren==`string`?e.optionGroupChildren:`items`,mj(r))))}),this.flatOptions(i)}return n}return t},hasSelectedOption:function(){return this.$filled},label:function(){var e=this.findSelectedOptionIndex();return e===-1?this.placeholder||`p-emptylabel`:this.getOptionLabel(this.visibleOptions[e])},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e===-1?this.d_value||``:this.getOptionLabel(this.visibleOptions[e])},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return b(this.visibleOptions)?this.filterMessageText.replaceAll(`{0}`,this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||``},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||``},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||``},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||``},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||``},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll(`{0}`,`1`):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex===-1?null:`${this.$id}_${this.focusedOptionIndex}`},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},isClearIconVisible:function(){return this.showClear&&this.d_value!=null&&!this.disabled&&!this.loading},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},containerDataP:function(){return qt(Sj({invalid:this.$invalid,disabled:this.disabled,focus:this.focused,fluid:this.$fluid,filled:this.$variant===`filled`},this.size,this.size))},labelDataP:function(){return qt(Sj(Sj({placeholder:!this.editable&&this.label===this.placeholder,clearable:this.showClear,disabled:this.disabled,editable:this.editable},this.size,this.size),`empty`,!this.editable&&!this.$slots.value&&(this.label===`p-emptylabel`||this.label.length===0)))},dropdownIconDataP:function(){return qt(Sj({},this.size,this.size))},overlayDataP:function(){return qt(Sj({},`portal-`+this.appendTo,`portal-`+this.appendTo))}},directives:{ripple:$A},components:{InputText:SA,VirtualScroller:cj,Portal:EA,InputIcon:pA,IconField:uA,TimesIcon:tA,ChevronDownIcon:jk,SpinnerIcon:qk,SearchIcon:zk,CheckIcon:Ck,BlankIcon:hk}},Ej=[`id`,`data-p`],Dj=[`name`,`id`,`value`,`placeholder`,`tabindex`,`disabled`,`aria-label`,`aria-labelledby`,`aria-expanded`,`aria-controls`,`aria-activedescendant`,`aria-invalid`,`data-p`],Oj=[`name`,`id`,`tabindex`,`aria-label`,`aria-labelledby`,`aria-expanded`,`aria-controls`,`aria-activedescendant`,`aria-invalid`,`aria-disabled`,`data-p`],kj=[`data-p`],Aj=[`id`],jj=[`id`],Mj=[`id`,`aria-label`,`aria-selected`,`aria-disabled`,`aria-setsize`,`aria-posinset`,`onMousedown`,`onMousemove`,`data-p-selected`,`data-p-focused`,`data-p-disabled`];function Nj(e,t,n,i,o,s){var c=Fe(`SpinnerIcon`),u=Fe(`InputText`),d=Fe(`SearchIcon`),f=Fe(`InputIcon`),p=Fe(`IconField`),m=Fe(`CheckIcon`),h=Fe(`BlankIcon`),g=Fe(`VirtualScroller`),_=Fe(`Portal`),v=D(`ripple`);return l(),V(`div`,J({ref:`container`,id:e.$id,class:e.cx(`root`),onClick:t[12]||=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)},"data-p":s.containerDataP},e.ptmi(`root`)),[e.editable?(l(),V(`input`,J({key:0,ref:`focusInput`,name:e.name,id:e.labelId||e.inputId,type:`text`,class:[e.cx(`label`),e.inputClass,e.labelClass],style:[e.inputStyle,e.labelStyle],value:s.editableInputValue,placeholder:e.placeholder,tabindex:e.disabled?-1:e.tabindex,disabled:e.disabled,autocomplete:`off`,role:`combobox`,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":`listbox`,"aria-expanded":o.overlayVisible,"aria-controls":o.overlayVisible?e.$id+`_list`:void 0,"aria-activedescendant":o.focused?s.focusedOptionId:void 0,"aria-invalid":e.invalid||void 0,onFocus:t[0]||=function(){return s.onFocus&&s.onFocus.apply(s,arguments)},onBlur:t[1]||=function(){return s.onBlur&&s.onBlur.apply(s,arguments)},onKeydown:t[2]||=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)},onInput:t[3]||=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)},"data-p":s.labelDataP},e.ptm(`label`)),null,16,Dj)):(l(),V(`span`,J({key:1,ref:`focusInput`,name:e.name,id:e.labelId||e.inputId,class:[e.cx(`label`),e.inputClass,e.labelClass],style:[e.inputStyle,e.labelStyle],tabindex:e.disabled?-1:e.tabindex,role:`combobox`,"aria-label":e.ariaLabel||(s.label===`p-emptylabel`?void 0:s.label),"aria-labelledby":e.ariaLabelledby,"aria-haspopup":`listbox`,"aria-expanded":o.overlayVisible,"aria-controls":e.$id+`_list`,"aria-activedescendant":o.focused?s.focusedOptionId:void 0,"aria-invalid":e.invalid||void 0,"aria-disabled":e.disabled,onFocus:t[4]||=function(){return s.onFocus&&s.onFocus.apply(s,arguments)},onBlur:t[5]||=function(){return s.onBlur&&s.onBlur.apply(s,arguments)},onKeydown:t[6]||=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)},"data-p":s.labelDataP},e.ptm(`label`)),[r(e.$slots,`value`,{value:e.d_value,placeholder:e.placeholder},function(){return[Ge(B(s.label===`p-emptylabel`?`\xA0`:s.label??`empty`),1)]})],16,Oj)),s.isClearIconVisible?r(e.$slots,`clearicon`,{key:2,class:q(e.cx(`clearIcon`)),clearCallback:s.onClearClick},function(){return[(l(),K(k(e.clearIcon?`i`:`TimesIcon`),J({ref:`clearIcon`,class:[e.cx(`clearIcon`),e.clearIcon],onClick:s.onClearClick},e.ptm(`clearIcon`),{"data-pc-section":`clearicon`}),null,16,[`class`,`onClick`]))]}):L(``,!0),U(`div`,J({class:e.cx(`dropdown`)},e.ptm(`dropdown`)),[e.loading?r(e.$slots,`loadingicon`,{key:0,class:q(e.cx(`loadingIcon`))},function(){return[e.loadingIcon?(l(),V(`span`,J({key:0,class:[e.cx(`loadingIcon`),`pi-spin`,e.loadingIcon],"aria-hidden":`true`},e.ptm(`loadingIcon`)),null,16)):(l(),K(c,J({key:1,class:e.cx(`loadingIcon`),spin:``,"aria-hidden":`true`},e.ptm(`loadingIcon`)),null,16,[`class`]))]}):r(e.$slots,`dropdownicon`,{key:1,class:q(e.cx(`dropdownIcon`))},function(){return[(l(),K(k(e.dropdownIcon?`span`:`ChevronDownIcon`),J({class:[e.cx(`dropdownIcon`),e.dropdownIcon],"aria-hidden":`true`,"data-p":s.dropdownIconDataP},e.ptm(`dropdownIcon`)),null,16,[`class`,`data-p`]))]})],16),H(_,{appendTo:e.appendTo},{default:Y(function(){return[H(ge,J({name:`p-connected-overlay`,onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},e.ptm(`transition`)),{default:Y(function(){return[o.overlayVisible?(l(),V(`div`,J({key:0,ref:s.overlayRef,class:[e.cx(`overlay`),e.panelClass,e.overlayClass],style:[e.panelStyle,e.overlayStyle],onClick:t[10]||=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)},onKeydown:t[11]||=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)},"data-p":s.overlayDataP},e.ptm(`overlay`)),[U(`span`,J({ref:`firstHiddenFocusableElementOnOverlay`,role:`presentation`,"aria-hidden":`true`,class:`p-hidden-accessible p-hidden-focusable`,tabindex:0,onFocus:t[7]||=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)}},e.ptm(`hiddenFirstFocusableEl`),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),r(e.$slots,`header`,{value:e.d_value,options:s.visibleOptions}),e.filter?(l(),V(`div`,J({key:0,class:e.cx(`header`)},e.ptm(`header`)),[H(p,{unstyled:e.unstyled,pt:e.ptm(`pcFilterContainer`)},{default:Y(function(){return[H(u,{ref:`filterInput`,type:`text`,value:o.filterValue,onVnodeMounted:s.onFilterUpdated,onVnodeUpdated:s.onFilterUpdated,class:q(e.cx(`pcFilter`)),placeholder:e.filterPlaceholder,variant:e.variant,unstyled:e.unstyled,role:`searchbox`,autocomplete:`off`,"aria-owns":e.$id+`_list`,"aria-activedescendant":s.focusedOptionId,onKeydown:s.onFilterKeyDown,onBlur:s.onFilterBlur,onInput:s.onFilterChange,pt:e.ptm(`pcFilter`),formControl:{novalidate:!0}},null,8,[`value`,`onVnodeMounted`,`onVnodeUpdated`,`class`,`placeholder`,`variant`,`unstyled`,`aria-owns`,`aria-activedescendant`,`onKeydown`,`onBlur`,`onInput`,`pt`]),H(f,{unstyled:e.unstyled,pt:e.ptm(`pcFilterIconContainer`)},{default:Y(function(){return[r(e.$slots,`filtericon`,{},function(){return[e.filterIcon?(l(),V(`span`,J({key:0,class:e.filterIcon},e.ptm(`filterIcon`)),null,16)):(l(),K(d,Ve(J({key:1},e.ptm(`filterIcon`))),null,16))]})]}),_:3},8,[`unstyled`,`pt`])]}),_:3},8,[`unstyled`,`pt`]),U(`span`,J({role:`status`,"aria-live":`polite`,class:`p-hidden-accessible`},e.ptm(`hiddenFilterResult`),{"data-p-hidden-accessible":!0}),B(s.filterResultMessageText),17)],16)):L(``,!0),U(`div`,J({class:e.cx(`listContainer`),style:{"max-height":s.virtualScrollerDisabled?e.scrollHeight:``}},e.ptm(`listContainer`)),[H(g,J({ref:s.virtualScrollerRef},e.virtualScrollerOptions,{items:s.visibleOptions,style:{height:e.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:e.ptm(`virtualScroller`)}),Te({content:Y(function(n){var i=n.styleClass,c=n.contentRef,u=n.items,d=n.getItemOptions,f=n.contentStyle,p=n.itemSize;return[U(`ul`,J({ref:function(e){return s.listRef(e,c)},id:e.$id+`_list`,class:[e.cx(`list`),i],style:f,role:`listbox`},e.ptm(`list`)),[(l(!0),V(G,null,Le(u,function(n,i){return l(),V(G,{key:s.getOptionRenderKey(n,s.getOptionIndex(i,d))},[s.isOptionGroup(n)?(l(),V(`li`,J({key:0,id:e.$id+`_`+s.getOptionIndex(i,d),style:{height:p?p+`px`:void 0},class:e.cx(`optionGroup`),role:`option`},{ref_for:!0},e.ptm(`optionGroup`)),[r(e.$slots,`optiongroup`,{option:n.optionGroup,index:s.getOptionIndex(i,d)},function(){return[U(`span`,J({class:e.cx(`optionGroupLabel`)},{ref_for:!0},e.ptm(`optionGroupLabel`)),B(s.getOptionGroupLabel(n.optionGroup)),17)]})],16,jj)):a((l(),V(`li`,J({key:1,id:e.$id+`_`+s.getOptionIndex(i,d),class:e.cx(`option`,{option:n,focusedOption:s.getOptionIndex(i,d)}),style:{height:p?p+`px`:void 0},role:`option`,"aria-label":s.getOptionLabel(n),"aria-selected":s.isSelected(n),"aria-disabled":s.isOptionDisabled(n),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(i,d)),onMousedown:function(e){return s.onOptionSelect(e,n)},onMousemove:function(e){return s.onOptionMouseMove(e,s.getOptionIndex(i,d))},onClick:t[8]||=He(function(){},[`stop`]),"data-p-selected":!e.checkmark&&s.isSelected(n),"data-p-focused":o.focusedOptionIndex===s.getOptionIndex(i,d),"data-p-disabled":s.isOptionDisabled(n)},{ref_for:!0},s.getPTItemOptions(n,d,i,`option`)),[e.checkmark?(l(),V(G,{key:0},[s.isSelected(n)?(l(),K(m,J({key:0,class:e.cx(`optionCheckIcon`)},{ref_for:!0},e.ptm(`optionCheckIcon`)),null,16,[`class`])):(l(),K(h,J({key:1,class:e.cx(`optionBlankIcon`)},{ref_for:!0},e.ptm(`optionBlankIcon`)),null,16,[`class`]))],64)):L(``,!0),r(e.$slots,`option`,{option:n,selected:s.isSelected(n),index:s.getOptionIndex(i,d)},function(){return[U(`span`,J({class:e.cx(`optionLabel`)},{ref_for:!0},e.ptm(`optionLabel`)),B(s.getOptionLabel(n)),17)]})],16,Mj)),[[v]])],64)}),128)),o.filterValue&&(!u||u&&u.length===0)?(l(),V(`li`,J({key:0,class:e.cx(`emptyMessage`),role:`option`},e.ptm(`emptyMessage`),{"data-p-hidden-accessible":!0}),[r(e.$slots,`emptyfilter`,{},function(){return[Ge(B(s.emptyFilterMessageText),1)]})],16)):!e.options||e.options&&e.options.length===0?(l(),V(`li`,J({key:1,class:e.cx(`emptyMessage`),role:`option`},e.ptm(`emptyMessage`),{"data-p-hidden-accessible":!0}),[r(e.$slots,`empty`,{},function(){return[Ge(B(s.emptyMessageText),1)]})],16)):L(``,!0)],16,Aj)]}),_:2},[e.$slots.loader?{name:`loader`,fn:Y(function(t){var n=t.options;return[r(e.$slots,`loader`,{options:n})]}),key:`0`}:void 0]),1040,[`items`,`style`,`disabled`,`pt`])],16),r(e.$slots,`footer`,{value:e.d_value,options:s.visibleOptions}),!e.options||e.options&&e.options.length===0?(l(),V(`span`,J({key:1,role:`status`,"aria-live":`polite`,class:`p-hidden-accessible`},e.ptm(`hiddenEmptyMessage`),{"data-p-hidden-accessible":!0}),B(s.emptyMessageText),17)):L(``,!0),U(`span`,J({role:`status`,"aria-live":`polite`,class:`p-hidden-accessible`},e.ptm(`hiddenSelectedMessage`),{"data-p-hidden-accessible":!0}),B(s.selectedMessageText),17),U(`span`,J({ref:`lastHiddenFocusableElementOnOverlay`,role:`presentation`,"aria-hidden":`true`,class:`p-hidden-accessible p-hidden-focusable`,tabindex:0,onFocus:t[9]||=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)}},e.ptm(`hiddenLastFocusableEl`),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16,kj)):L(``,!0)]}),_:3},16,[`onEnter`,`onAfterEnter`,`onLeave`,`onAfterLeave`])]}),_:3},8,[`appendTo`])],16,Ej)}Tj.render=Nj;var Pj=`-`,Fj=e=>{let t=zj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split(Pj);return n[0]===``&&n.length!==1&&n.shift(),Ij(n,t)||Rj(e)},getConflictingClassGroupIds:(e,t)=>{let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},Ij=(e,t)=>{if(e.length===0)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),i=r?Ij(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;let a=e.join(Pj);return t.validators.find(({validator:e})=>e(a))?.classGroupId},Lj=/^\[(.+)\]$/,Rj=e=>{if(Lj.test(e)){let t=Lj.exec(e)[1],n=t?.substring(0,t.indexOf(`:`));if(n)return`arbitrary..`+n}},zj=e=>{let{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(let e in n)Bj(n[e],r,e,t);return r},Bj=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==`string`){let r=e===``?t:Vj(t,e);r.classGroupId=n;return}if(typeof e==`function`){if(Hj(e)){Bj(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{Bj(i,Vj(t,e),n,r)})})},Vj=(e,t)=>{let n=e;return t.split(Pj).forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Hj=e=>e.isThemeGetter,Uj=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);if(t!==void 0)return t;if((t=r.get(e))!==void 0)return i(e,t),t},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Wj=`!`,Gj=`:`,Kj=1,qj=e=>{let{prefix:t,experimentalParseClassName:n}=e,r=e=>{let t=[],n=0,r=0,i=0,a;for(let o=0;o<e.length;o++){let s=e[o];if(n===0&&r===0){if(s===Gj){t.push(e.slice(i,o)),i=o+Kj;continue}if(s===`/`){a=o;continue}}s===`[`?n++:s===`]`?n--:s===`(`?r++:s===`)`&&r--}let o=t.length===0?e:e.substring(i),s=Jj(o),c=s!==o,l=a&&a>i?a-i:void 0;return{modifiers:t,hasImportantModifier:c,baseClassName:s,maybePostfixModifierPosition:l}};if(t){let e=t+Gj,n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){let e=r;r=t=>n({className:t,parseClassName:e})}return r},Jj=e=>e.endsWith(Wj)?e.substring(0,e.length-1):e.startsWith(Wj)?e.substring(1):e,Yj=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;let n=[],r=[];return e.forEach(e=>{e[0]===`[`||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},Xj=e=>({cache:Uj(e.cacheSize),parseClassName:qj(e),sortModifiers:Yj(e),...Fj(e)}),Zj=/\s+/,Qj=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(Zj),c=``;for(let e=s.length-1;e>=0;--e){let t=s[e],{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(t);if(l){c=t+(c.length>0?` `+c:c);continue}let m=!!p,h=r(m?f.substring(0,p):f);if(!h){if(!m){c=t+(c.length>0?` `+c:c);continue}if(h=r(f),!h){c=t+(c.length>0?` `+c:c);continue}m=!1}let g=a(u).join(`:`),_=d?g+Wj:g,v=_+h;if(o.includes(v))continue;o.push(v);let y=i(h,m);for(let e=0;e<y.length;++e){let t=y[e];o.push(_+t)}c=t+(c.length>0?` `+c:c)}return c};function $j(){let e=0,t,n,r=``;for(;e<arguments.length;)(t=arguments[e++])&&(n=eM(t))&&(r&&(r+=` `),r+=n);return r}var eM=e=>{if(typeof e==`string`)return e;let t,n=``;for(let r=0;r<e.length;r++)e[r]&&(t=eM(e[r]))&&(n&&(n+=` `),n+=t);return n};function tM(e,...t){let n,r,i,a=o;function o(o){let c=t.reduce((e,t)=>t(e),e());return n=Xj(c),r=n.cache.get,i=n.cache.set,a=s,s(o)}function s(e){let t=r(e);if(t)return t;let a=Qj(e,n);return i(e,a),a}return function(){return a($j.apply(null,arguments))}}var nM=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},rM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aM=/^\d+\/\d+$/,oM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dM=e=>aM.test(e),fM=e=>!!e&&!Number.isNaN(Number(e)),pM=e=>!!e&&Number.isInteger(Number(e)),mM=e=>e.endsWith(`%`)&&fM(e.slice(0,-1)),hM=e=>oM.test(e),gM=()=>!0,_M=e=>sM.test(e)&&!cM.test(e),vM=()=>!1,yM=e=>lM.test(e),bM=e=>uM.test(e),xM=e=>!Q(e)&&!$(e),SM=e=>PM(e,RM,vM),Q=e=>rM.test(e),CM=e=>PM(e,zM,_M),wM=e=>PM(e,BM,fM),TM=e=>PM(e,IM,vM),EM=e=>PM(e,LM,bM),DM=e=>PM(e,HM,yM),$=e=>iM.test(e),OM=e=>FM(e,zM),kM=e=>FM(e,VM),AM=e=>FM(e,IM),jM=e=>FM(e,RM),MM=e=>FM(e,LM),NM=e=>FM(e,HM,!0),PM=(e,t,n)=>{let r=rM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},FM=(e,t,n=!1)=>{let r=iM.exec(e);return r?r[1]?t(r[1]):n:!1},IM=e=>e===`position`||e===`percentage`,LM=e=>e===`image`||e===`url`,RM=e=>e===`length`||e===`size`||e===`bg-size`,zM=e=>e===`length`,BM=e=>e===`number`,VM=e=>e===`family-name`,HM=e=>e===`shadow`,UM=tM(()=>{let e=nM(`color`),t=nM(`font`),n=nM(`text`),r=nM(`font-weight`),i=nM(`tracking`),a=nM(`leading`),o=nM(`breakpoint`),s=nM(`container`),c=nM(`spacing`),l=nM(`radius`),u=nM(`shadow`),d=nM(`inset-shadow`),f=nM(`text-shadow`),p=nM(`drop-shadow`),m=nM(`blur`),h=nM(`perspective`),g=nM(`aspect`),_=nM(`ease`),v=nM(`animate`),y=()=>[`auto`,`avoid`,`all`,`avoid-page`,`page`,`left`,`right`,`column`],b=()=>[`center`,`top`,`bottom`,`left`,`right`,`top-left`,`left-top`,`top-right`,`right-top`,`bottom-right`,`right-bottom`,`bottom-left`,`left-bottom`],x=()=>[...b(),$,Q],S=()=>[`auto`,`hidden`,`clip`,`visible`,`scroll`],C=()=>[`auto`,`contain`,`none`],w=()=>[$,Q,c],T=()=>[dM,`full`,`auto`,...w()],E=()=>[pM,`none`,`subgrid`,$,Q],D=()=>[`auto`,{span:[`full`,pM,$,Q]},pM,$,Q],O=()=>[pM,`auto`,$,Q],k=()=>[`auto`,`min`,`max`,`fr`,$,Q],A=()=>[`start`,`end`,`center`,`between`,`around`,`evenly`,`stretch`,`baseline`,`center-safe`,`end-safe`],ee=()=>[`start`,`end`,`center`,`stretch`,`center-safe`,`end-safe`],j=()=>[`auto`,...w()],M=()=>[dM,`auto`,`full`,`dvw`,`dvh`,`lvw`,`lvh`,`svw`,`svh`,`min`,`max`,`fit`,...w()],N=()=>[e,$,Q],te=()=>[...b(),AM,TM,{position:[$,Q]}],ne=()=>[`no-repeat`,{repeat:[``,`x`,`y`,`space`,`round`]}],re=()=>[`auto`,`cover`,`contain`,jM,SM,{size:[$,Q]}],ie=()=>[mM,OM,CM],P=()=>[``,`none`,`full`,l,$,Q],ae=()=>[``,fM,OM,CM],oe=()=>[`solid`,`dashed`,`dotted`,`double`],se=()=>[`normal`,`multiply`,`screen`,`overlay`,`darken`,`lighten`,`color-dodge`,`color-burn`,`hard-light`,`soft-light`,`difference`,`exclusion`,`hue`,`saturation`,`color`,`luminosity`],ce=()=>[fM,mM,AM,TM],le=()=>[``,`none`,m,$,Q],ue=()=>[`none`,fM,$,Q],de=()=>[`none`,fM,$,Q],fe=()=>[fM,$,Q],pe=()=>[dM,`full`,...w()];return{cacheSize:500,theme:{animate:[`spin`,`ping`,`pulse`,`bounce`],aspect:[`video`],blur:[hM],breakpoint:[hM],color:[gM],container:[hM],"drop-shadow":[hM],ease:[`in`,`out`,`in-out`],font:[xM],"font-weight":[`thin`,`extralight`,`light`,`normal`,`medium`,`semibold`,`bold`,`extrabold`,`black`],"inset-shadow":[hM],leading:[`none`,`tight`,`snug`,`normal`,`relaxed`,`loose`],perspective:[`dramatic`,`near`,`normal`,`midrange`,`distant`,`none`],radius:[hM],shadow:[hM],spacing:[`px`,fM],text:[hM],"text-shadow":[hM],tracking:[`tighter`,`tight`,`normal`,`wide`,`wider`,`widest`]},classGroups:{aspect:[{aspect:[`auto`,`square`,dM,Q,$,g]}],container:[`container`],columns:[{columns:[fM,Q,$,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":[`auto`,`avoid`,`avoid-page`,`avoid-column`]}],"box-decoration":[{"box-decoration":[`slice`,`clone`]}],box:[{box:[`border`,`content`]}],display:[`block`,`inline-block`,`inline`,`flex`,`inline-flex`,`table`,`inline-table`,`table-caption`,`table-cell`,`table-column`,`table-column-group`,`table-footer-group`,`table-header-group`,`table-row-group`,`table-row`,`flow-root`,`grid`,`inline-grid`,`contents`,`list-item`,`hidden`],sr:[`sr-only`,`not-sr-only`],float:[{float:[`right`,`left`,`none`,`start`,`end`]}],clear:[{clear:[`left`,`right`,`both`,`none`,`start`,`end`]}],isolation:[`isolate`,`isolation-auto`],"object-fit":[{object:[`contain`,`cover`,`fill`,`none`,`scale-down`]}],"object-position":[{object:x()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:[`static`,`fixed`,`absolute`,`relative`,`sticky`],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:[`visible`,`invisible`,`collapse`],z:[{z:[pM,`auto`,$,Q]}],basis:[{basis:[dM,`full`,`auto`,s,...w()]}],"flex-direction":[{flex:[`row`,`row-reverse`,`col`,`col-reverse`]}],"flex-wrap":[{flex:[`nowrap`,`wrap`,`wrap-reverse`]}],flex:[{flex:[fM,dM,`auto`,`initial`,`none`,Q]}],grow:[{grow:[``,fM,$,Q]}],shrink:[{shrink:[``,fM,$,Q]}],order:[{order:[pM,`first`,`last`,`none`,$,Q]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":[`row`,`col`,`dense`,`row-dense`,`col-dense`]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...A(),`normal`]}],"justify-items":[{"justify-items":[...ee(),`normal`]}],"justify-self":[{"justify-self":[`auto`,...ee()]}],"align-content":[{content:[`normal`,...A()]}],"align-items":[{items:[...ee(),{baseline:[``,`last`]}]}],"align-self":[{self:[`auto`,...ee(),{baseline:[``,`last`]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...ee(),`baseline`]}],"place-self":[{"place-self":[`auto`,...ee()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":w()}],"space-x-reverse":[`space-x-reverse`],"space-y":[{"space-y":w()}],"space-y-reverse":[`space-y-reverse`],size:[{size:M()}],w:[{w:[s,`screen`,...M()]}],"min-w":[{"min-w":[s,`screen`,`none`,...M()]}],"max-w":[{"max-w":[s,`screen`,`none`,`prose`,{screen:[o]},...M()]}],h:[{h:[`screen`,`lh`,...M()]}],"min-h":[{"min-h":[`screen`,`lh`,`none`,...M()]}],"max-h":[{"max-h":[`screen`,`lh`,...M()]}],"font-size":[{text:[`base`,n,OM,CM]}],"font-smoothing":[`antialiased`,`subpixel-antialiased`],"font-style":[`italic`,`not-italic`],"font-weight":[{font:[r,$,wM]}],"font-stretch":[{"font-stretch":[`ultra-condensed`,`extra-condensed`,`condensed`,`semi-condensed`,`normal`,`semi-expanded`,`expanded`,`extra-expanded`,`ultra-expanded`,mM,Q]}],"font-family":[{font:[kM,Q,t]}],"fvn-normal":[`normal-nums`],"fvn-ordinal":[`ordinal`],"fvn-slashed-zero":[`slashed-zero`],"fvn-figure":[`lining-nums`,`oldstyle-nums`],"fvn-spacing":[`proportional-nums`,`tabular-nums`],"fvn-fraction":[`diagonal-fractions`,`stacked-fractions`],tracking:[{tracking:[i,$,Q]}],"line-clamp":[{"line-clamp":[fM,`none`,$,wM]}],leading:[{leading:[a,...w()]}],"list-image":[{"list-image":[`none`,$,Q]}],"list-style-position":[{list:[`inside`,`outside`]}],"list-style-type":[{list:[`disc`,`decimal`,`none`,$,Q]}],"text-alignment":[{text:[`left`,`center`,`right`,`justify`,`start`,`end`]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":[`underline`,`overline`,`line-through`,`no-underline`],"text-decoration-style":[{decoration:[...oe(),`wavy`]}],"text-decoration-thickness":[{decoration:[fM,`from-font`,`auto`,$,CM]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[fM,`auto`,$,Q]}],"text-transform":[`uppercase`,`lowercase`,`capitalize`,`normal-case`],"text-overflow":[`truncate`,`text-ellipsis`,`text-clip`],"text-wrap":[{text:[`wrap`,`nowrap`,`balance`,`pretty`]}],indent:[{indent:w()}],"vertical-align":[{align:[`baseline`,`top`,`middle`,`bottom`,`text-top`,`text-bottom`,`sub`,`super`,$,Q]}],whitespace:[{whitespace:[`normal`,`nowrap`,`pre`,`pre-line`,`pre-wrap`,`break-spaces`]}],break:[{break:[`normal`,`words`,`all`,`keep`]}],wrap:[{wrap:[`break-word`,`anywhere`,`normal`]}],hyphens:[{hyphens:[`none`,`manual`,`auto`]}],content:[{content:[`none`,$,Q]}],"bg-attachment":[{bg:[`fixed`,`local`,`scroll`]}],"bg-clip":[{"bg-clip":[`border`,`padding`,`content`,`text`]}],"bg-origin":[{"bg-origin":[`border`,`padding`,`content`]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:re()}],"bg-image":[{bg:[`none`,{linear:[{to:[`t`,`tr`,`r`,`br`,`b`,`bl`,`l`,`tl`]},pM,$,Q],radial:[``,$,Q],conic:[pM,$,Q]},MM,EM]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":[`divide-x-reverse`],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":[`divide-y-reverse`],"border-style":[{border:[...oe(),`hidden`,`none`]}],"divide-style":[{divide:[...oe(),`hidden`,`none`]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...oe(),`none`,`hidden`]}],"outline-offset":[{"outline-offset":[fM,$,Q]}],"outline-w":[{outline:[``,fM,OM,CM]}],"outline-color":[{outline:N()}],shadow:[{shadow:[``,`none`,u,NM,DM]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":[`none`,d,NM,DM]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ae()}],"ring-w-inset":[`ring-inset`],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[fM,CM]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":[`none`,f,NM,DM]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[fM,$,Q]}],"mix-blend":[{"mix-blend":[...se(),`plus-darker`,`plus-lighter`]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]},`mask-no-clip`],"mask-composite":[{mask:[`add`,`subtract`,`intersect`,`exclude`]}],"mask-image-linear-pos":[{"mask-linear":[fM]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[$,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":[`circle`,`ellipse`]}],"mask-image-radial-size":[{"mask-radial":[{closest:[`side`,`corner`],farthest:[`side`,`corner`]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[fM]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:[`alpha`,`luminance`,`match`]}],"mask-origin":[{"mask-origin":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":[`alpha`,`luminance`]}],"mask-image":[{mask:[`none`,$,Q]}],filter:[{filter:[``,`none`,$,Q]}],blur:[{blur:le()}],brightness:[{brightness:[fM,$,Q]}],contrast:[{contrast:[fM,$,Q]}],"drop-shadow":[{"drop-shadow":[``,`none`,p,NM,DM]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:[``,fM,$,Q]}],"hue-rotate":[{"hue-rotate":[fM,$,Q]}],invert:[{invert:[``,fM,$,Q]}],saturate:[{saturate:[fM,$,Q]}],sepia:[{sepia:[``,fM,$,Q]}],"backdrop-filter":[{"backdrop-filter":[``,`none`,$,Q]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[fM,$,Q]}],"backdrop-contrast":[{"backdrop-contrast":[fM,$,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":[``,fM,$,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[fM,$,Q]}],"backdrop-invert":[{"backdrop-invert":[``,fM,$,Q]}],"backdrop-opacity":[{"backdrop-opacity":[fM,$,Q]}],"backdrop-saturate":[{"backdrop-saturate":[fM,$,Q]}],"backdrop-sepia":[{"backdrop-sepia":[``,fM,$,Q]}],"border-collapse":[{border:[`collapse`,`separate`]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:[`auto`,`fixed`]}],caption:[{caption:[`top`,`bottom`]}],transition:[{transition:[``,`all`,`colors`,`opacity`,`shadow`,`transform`,`none`,$,Q]}],"transition-behavior":[{transition:[`normal`,`discrete`]}],duration:[{duration:[fM,`initial`,$,Q]}],ease:[{ease:[`linear`,`initial`,_,$,Q]}],delay:[{delay:[fM,$,Q]}],animate:[{animate:[`none`,v,$,Q]}],backface:[{backface:[`hidden`,`visible`]}],perspective:[{perspective:[h,$,Q]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":[`scale-3d`],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[$,Q,``,`none`,`gpu`,`cpu`]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:[`3d`,`flat`]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":[`translate-none`],accent:[{accent:N()}],appearance:[{appearance:[`none`,`auto`]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:[`normal`,`dark`,`light`,`light-dark`,`only-dark`,`only-light`]}],cursor:[{cursor:[`auto`,`default`,`pointer`,`wait`,`text`,`move`,`help`,`not-allowed`,`none`,`context-menu`,`progress`,`cell`,`crosshair`,`vertical-text`,`alias`,`copy`,`no-drop`,`grab`,`grabbing`,`all-scroll`,`col-resize`,`row-resize`,`n-resize`,`e-resize`,`s-resize`,`w-resize`,`ne-resize`,`nw-resize`,`se-resize`,`sw-resize`,`ew-resize`,`ns-resize`,`nesw-resize`,`nwse-resize`,`zoom-in`,`zoom-out`,$,Q]}],"field-sizing":[{"field-sizing":[`fixed`,`content`]}],"pointer-events":[{"pointer-events":[`auto`,`none`]}],resize:[{resize:[`none`,``,`y`,`x`]}],"scroll-behavior":[{scroll:[`auto`,`smooth`]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:[`start`,`end`,`center`,`align-none`]}],"snap-stop":[{snap:[`normal`,`always`]}],"snap-type":[{snap:[`none`,`x`,`y`,`both`]}],"snap-strictness":[{snap:[`mandatory`,`proximity`]}],touch:[{touch:[`auto`,`none`,`manipulation`]}],"touch-x":[{"touch-pan":[`x`,`left`,`right`]}],"touch-y":[{"touch-pan":[`y`,`up`,`down`]}],"touch-pz":[`touch-pinch-zoom`],select:[{select:[`none`,`text`,`all`,`auto`]}],"will-change":[{"will-change":[`auto`,`scroll`,`contents`,`transform`,$,Q]}],fill:[{fill:[`none`,...N()]}],"stroke-w":[{stroke:[fM,OM,CM,wM]}],stroke:[{stroke:[`none`,...N()]}],"forced-color-adjust":[{"forced-color-adjust":[`auto`,`none`]}]},conflictingClassGroups:{overflow:[`overflow-x`,`overflow-y`],overscroll:[`overscroll-x`,`overscroll-y`],inset:[`inset-x`,`inset-y`,`start`,`end`,`top`,`right`,`bottom`,`left`],"inset-x":[`right`,`left`],"inset-y":[`top`,`bottom`],flex:[`basis`,`grow`,`shrink`],gap:[`gap-x`,`gap-y`],p:[`px`,`py`,`ps`,`pe`,`pt`,`pr`,`pb`,`pl`],px:[`pr`,`pl`],py:[`pt`,`pb`],m:[`mx`,`my`,`ms`,`me`,`mt`,`mr`,`mb`,`ml`],mx:[`mr`,`ml`],my:[`mt`,`mb`],size:[`w`,`h`],"font-size":[`leading`],"fvn-normal":[`fvn-ordinal`,`fvn-slashed-zero`,`fvn-figure`,`fvn-spacing`,`fvn-fraction`],"fvn-ordinal":[`fvn-normal`],"fvn-slashed-zero":[`fvn-normal`],"fvn-figure":[`fvn-normal`],"fvn-spacing":[`fvn-normal`],"fvn-fraction":[`fvn-normal`],"line-clamp":[`display`,`overflow`],rounded:[`rounded-s`,`rounded-e`,`rounded-t`,`rounded-r`,`rounded-b`,`rounded-l`,`rounded-ss`,`rounded-se`,`rounded-ee`,`rounded-es`,`rounded-tl`,`rounded-tr`,`rounded-br`,`rounded-bl`],"rounded-s":[`rounded-ss`,`rounded-es`],"rounded-e":[`rounded-se`,`rounded-ee`],"rounded-t":[`rounded-tl`,`rounded-tr`],"rounded-r":[`rounded-tr`,`rounded-br`],"rounded-b":[`rounded-br`,`rounded-bl`],"rounded-l":[`rounded-tl`,`rounded-bl`],"border-spacing":[`border-spacing-x`,`border-spacing-y`],"border-w":[`border-w-x`,`border-w-y`,`border-w-s`,`border-w-e`,`border-w-t`,`border-w-r`,`border-w-b`,`border-w-l`],"border-w-x":[`border-w-r`,`border-w-l`],"border-w-y":[`border-w-t`,`border-w-b`],"border-color":[`border-color-x`,`border-color-y`,`border-color-s`,`border-color-e`,`border-color-t`,`border-color-r`,`border-color-b`,`border-color-l`],"border-color-x":[`border-color-r`,`border-color-l`],"border-color-y":[`border-color-t`,`border-color-b`],translate:[`translate-x`,`translate-y`,`translate-none`],"translate-none":[`translate`,`translate-x`,`translate-y`,`translate-z`],"scroll-m":[`scroll-mx`,`scroll-my`,`scroll-ms`,`scroll-me`,`scroll-mt`,`scroll-mr`,`scroll-mb`,`scroll-ml`],"scroll-mx":[`scroll-mr`,`scroll-ml`],"scroll-my":[`scroll-mt`,`scroll-mb`],"scroll-p":[`scroll-px`,`scroll-py`,`scroll-ps`,`scroll-pe`,`scroll-pt`,`scroll-pr`,`scroll-pb`,`scroll-pl`],"scroll-px":[`scroll-pr`,`scroll-pl`],"scroll-py":[`scroll-pt`,`scroll-pb`],touch:[`touch-x`,`touch-y`,`touch-pz`],"touch-x":[`touch`],"touch-y":[`touch`],"touch-pz":[`touch`]},conflictingClassGroupModifiers:{"font-size":[`leading`]},orderSensitiveModifiers:[`*`,`**`,`after`,`backdrop`,`before`,`details-content`,`file`,`first-letter`,`first-line`,`marker`,`placeholder`,`selection`]}});const WM=(e={},t={},n)=>{let{class:r,...i}=e,{class:a,...o}=t;return J({class:UM(r,a)},i,o,n)};var GM=z({__name:`Select`,props:{modelValue:{default:void 0},options:{default:()=>[]},optionLabel:{default:`label`},optionValue:{default:`value`},placeholder:{default:``},disabled:{type:Boolean,default:!1},class:{default:``},size:{default:`md`}},emits:[`update:modelValue`,`change`],setup(e,{emit:t}){let n=e,i=t,a=I({get:()=>n.modelValue,set:e=>i(`update:modelValue`,e)}),o=I(()=>{let e=n.class?.includes(`logic-select`),t=n.class?.includes(`operator-select`),r=n.class?.includes(`type-select`);return e?{root:`inline-flex cursor-pointer relative select-none rounded-md
        w-12 h-7
        bg-white border border-purple-200 hover:border-purple-300
        focus:border-purple-400 focus:ring-2 focus:ring-purple-100
        transition-colors duration-200`,label:`flex items-center justify-center flex-auto
        py-0.5 px-1 text-xs font-medium text-purple-600
        overflow-hidden whitespace-nowrap
        p-placeholder:text-purple-400`,dropdown:`flex items-center justify-center shrink-0 bg-transparent text-purple-400 w-5`,overlay:`absolute top-0 left-0 rounded-md min-w-full
        bg-white border border-slate-200 shadow-lg z-50`,listContainer:`overflow-auto max-h-56`,list:`m-0 p-1 list-none gap-0.5 flex flex-col`,option:`cursor-pointer font-normal whitespace-nowrap relative overflow-hidden flex items-center
        px-2 py-1.5 text-xs border-none text-slate-700 bg-transparent rounded
        hover:bg-slate-100 focus:bg-slate-100
        data-[p-selected=true]:bg-purple-50 data-[p-selected=true]:text-purple-700
        transition-colors duration-150`,transition:{enterFromClass:`opacity-0 scale-95`,enterActiveClass:`transition duration-100 ease-out`,leaveActiveClass:`transition duration-75 ease-in`,leaveToClass:`opacity-0 scale-95`}}:t?{root:`inline-flex cursor-pointer relative select-none rounded-md
        w-11 h-7
        bg-white border border-slate-200 hover:border-slate-300
        focus:border-slate-400 focus:ring-2 focus:ring-slate-100
        transition-colors duration-200`,label:`flex items-center justify-center flex-auto
        py-0.5 px-1 text-sm font-semibold text-slate-700
        overflow-hidden whitespace-nowrap
        p-placeholder:text-slate-400`,dropdown:`flex items-center justify-center shrink-0 bg-transparent text-slate-400 w-5`,overlay:`absolute top-0 left-0 rounded-md min-w-full
        bg-white border border-slate-200 shadow-lg z-50`,listContainer:`overflow-auto max-h-56`,list:`m-0 p-1 list-none gap-0.5 flex flex-col`,option:`cursor-pointer font-semibold whitespace-nowrap relative overflow-hidden flex items-center
        px-2 py-1.5 text-sm border-none text-slate-700 bg-transparent rounded
        hover:bg-slate-100 focus:bg-slate-100
        data-[p-selected=true]:bg-slate-200 data-[p-selected=true]:text-slate-800
        transition-colors duration-150`,transition:{enterFromClass:`opacity-0 scale-95`,enterActiveClass:`transition duration-100 ease-out`,leaveActiveClass:`transition duration-75 ease-in`,leaveToClass:`opacity-0 scale-95`}}:r?{root:`inline-flex cursor-pointer relative select-none rounded-md
        w-10 h-7
        bg-white border border-slate-200 hover:border-slate-300
        focus:border-slate-400 focus:ring-2 focus:ring-slate-100
        transition-colors duration-200`,label:`flex items-center justify-center flex-auto
        py-0.5 px-1 text-xs text-slate-700
        overflow-hidden whitespace-nowrap
        p-placeholder:text-slate-400`,dropdown:`flex items-center justify-center shrink-0 bg-transparent text-slate-400 w-5`,overlay:`absolute top-0 left-0 rounded-md min-w-full
        bg-white border border-slate-200 shadow-lg z-50`,listContainer:`overflow-auto max-h-56`,list:`m-0 p-1 list-none gap-0.5 flex flex-col`,option:`cursor-pointer font-normal whitespace-nowrap relative overflow-hidden flex items-center
        px-2 py-1.5 text-xs border-none text-slate-700 bg-transparent rounded
        hover:bg-slate-100 focus:bg-slate-100
        data-[p-selected=true]:bg-slate-200 data-[p-selected=true]:text-slate-800
        transition-colors duration-150`,transition:{enterFromClass:`opacity-0 scale-95`,enterActiveClass:`transition duration-100 ease-out`,leaveActiveClass:`transition duration-75 ease-in`,leaveToClass:`opacity-0 scale-95`}}:{root:`inline-flex cursor-pointer relative select-none rounded-md
      h-7 min-w-0
      bg-white border border-slate-200 hover:border-slate-300
      focus:border-slate-400 focus:ring-2 focus:ring-slate-100
      transition-colors duration-200 shadow-sm`,label:`block whitespace-nowrap overflow-hidden flex-auto
      py-1 px-2 text-xs text-slate-700
      overflow-ellipsis
      p-placeholder:text-slate-400
      p-disabled:text-slate-500`,dropdown:`flex items-center justify-center shrink-0 bg-transparent text-slate-400 w-6`,overlay:`absolute top-0 left-0 rounded-md min-w-full
      bg-white border border-slate-200 shadow-lg z-50`,listContainer:`overflow-auto max-h-56`,list:`m-0 p-1.5 list-none gap-1 flex flex-col`,option:`cursor-pointer font-normal whitespace-nowrap relative overflow-hidden flex items-center justify-between
      px-2.5 py-2 text-sm border-none text-slate-600 bg-transparent rounded
      hover:bg-slate-100 hover:text-slate-900
      focus:bg-slate-100 focus:text-slate-900
      data-[p-selected=true]:bg-slate-200/70 data-[p-selected=true]:text-slate-800 data-[p-selected=true]:font-medium
      transition-colors duration-150`,transition:{enterFromClass:`opacity-0 scale-95`,enterActiveClass:`transition duration-100 ease-out`,leaveActiveClass:`transition duration-75 ease-in`,leaveToClass:`opacity-0 scale-95`}}});function s(e){i(`change`,e)}return(t,i)=>(l(),K(R(Tj),{modelValue:a.value,"onUpdate:modelValue":i[0]||=e=>a.value=e,options:e.options,optionLabel:e.optionLabel,optionValue:e.optionValue,placeholder:e.placeholder,disabled:e.disabled,class:q(n.class),unstyled:``,pt:o.value,ptOptions:{mergeProps:R(WM)},onChange:s},Te({dropdownicon:Y(()=>[H(TT,{class:`h-3.5 w-3.5`})]),_:2},[Le(t.$slots,(e,n)=>({name:n,fn:Y(e=>[r(t.$slots,n,Ve(ye(e??{})))])}))]),1032,[`modelValue`,`options`,`optionLabel`,`optionValue`,`placeholder`,`disabled`,`class`,`pt`,`ptOptions`]))}}),KM=[`type`,`value`,`placeholder`,`disabled`],qM=z({__name:`InputText`,props:{type:{default:`text`},modelValue:{default:``},placeholder:{default:``},disabled:{type:Boolean,default:!1},class:{default:``}},emits:[`update:modelValue`,`input`,`change`],setup(e,{emit:t}){let n=e,r=t,i=I(()=>{let e=[`w-full`,`h-9`,`px-3`,`text-sm`,`text-slate-700`,`bg-white`,`border`,`border-slate-200`,`rounded-md`,`shadow-sm`,`outline-none`,`transition-all`,`duration-200`,`placeholder:text-slate-400`];return n.disabled?e.push(`bg-slate-100/80`,`cursor-not-allowed`,`opacity-60`,`shadow-none`):e.push(`hover:border-slate-300`,`hover:shadow-sm`,`focus-visible:border-slate-400`,`focus-visible:ring-2`,`focus-visible:ring-slate-200`),n.class&&e.push(n.class),e.join(` `)});function a(e){let t=e.target;r(`update:modelValue`,t.value),r(`input`,e)}function o(e){r(`change`,e)}return(t,n)=>(l(),V(`input`,J({type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,class:i.value,onInput:a,onChange:o},t.$attrs),null,16,KM))}}),JM={class:`relative w-full`},YM=[`value`,`min`,`max`,`step`,`disabled`],XM=z({__name:`Slider`,props:{modelValue:{default:0},min:{default:0},max:{default:100},step:{default:1},disabled:{type:Boolean,default:!1},class:{default:``}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=I(()=>{let e=[`w-full`,`h-2`,`bg-slate-200`,`rounded-lg`,`outline-none`,`appearance-none`,`cursor-pointer`,`transition-all`,`duration-200`,`[&::-webkit-slider-thumb]:appearance-none`,`[&::-webkit-slider-thumb]:w-4`,`[&::-webkit-slider-thumb]:h-4`,`[&::-webkit-slider-thumb]:rounded-full`,`[&::-webkit-slider-thumb]:bg-purple-600`,`[&::-webkit-slider-thumb]:cursor-pointer`,`[&::-webkit-slider-thumb]:transition-all`,`[&::-webkit-slider-thumb]:duration-200`,`[&::-moz-range-thumb]:w-4`,`[&::-moz-range-thumb]:h-4`,`[&::-moz-range-thumb]:rounded-full`,`[&::-moz-range-thumb]:bg-purple-600`,`[&::-moz-range-thumb]:border-0`,`[&::-moz-range-thumb]:cursor-pointer`,`[&::-moz-range-thumb]:transition-all`,`[&::-moz-range-thumb]:duration-200`];return n.disabled?e.push(`opacity-50`,`cursor-not-allowed`,`[&::-webkit-slider-thumb]:cursor-not-allowed`,`[&::-moz-range-thumb]:cursor-not-allowed`):e.push(`hover:bg-slate-300`,`[&::-webkit-slider-thumb]:hover:bg-purple-700`,`[&::-webkit-slider-thumb]:hover:shadow-lg`,`[&::-moz-range-thumb]:hover:bg-purple-700`,`[&::-moz-range-thumb]:hover:shadow-lg`),n.class&&e.push(n.class),e.join(` `)});function a(e){let t=e.target;r(`update:modelValue`,Number(t.value))}return(t,n)=>(l(),V(`div`,JM,[U(`input`,J({type:`range`,value:e.modelValue,min:e.min,max:e.max,step:e.step,disabled:e.disabled,class:i.value,onInput:a},t.$attrs),null,16,YM)]))}}),ZM={},QM={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`,width:`14`,height:`14`};function $M(e,t){return l(),V(`svg`,QM,[...t[0]||=[U(`path`,{d:`M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z`},null,-1)]])}var eN=W(ZM,[[`render`,$M]]),tN={},nN={xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`,width:`14`,height:`14`};function rN(e,t){return l(),V(`svg`,nN,[...t[0]||=[U(`rect`,{x:`2`,y:`2`,width:`20`,height:`8`,rx:`2`,ry:`2`},null,-1),U(`rect`,{x:`2`,y:`14`,width:`20`,height:`8`,rx:`2`,ry:`2`},null,-1),U(`line`,{x1:`6`,y1:`6`,x2:`6.01`,y2:`6`},null,-1),U(`line`,{x1:`6`,y1:`18`,x2:`6.01`,y2:`18`},null,-1)]])}var iN=W(tN,[[`render`,rN]]),aN={class:`execution-mode-settings-sidebar`},oN={class:`setting-item mode-selector`},sN={class:`mode-buttons`},cN={key:0,class:`setting-item server-config`},lN={class:`setting-item status-info`},uN={class:`status-content`},dN=[`title`],fN={class:`status-text`},pN=W(z({__name:`ExecutionModeSettings`,setup(t){let n=gC(),r=F(n.mode.value),i=F(n.serverUrl.value);T(()=>n.config.value,e=>{r.value=e.mode,i.value=e.serverUrl});let o=I(()=>{let e=n.status.value;if(r.value===`worker`)return e===`ready`?`ready`:`loading`;switch(e){case`ready`:return`ready`;case`connecting`:return`connecting`;case`error`:return`error`;default:return`disconnected`}}),s=I(()=>{if(r.value===`worker`)return n.isReady.value?`Worker `:`Worker `;switch(n.status.value){case`ready`:return``;case`connecting`:return`...`;case`error`:return``;default:return``}}),c=I(()=>{let e=n.nodeMetadata.value.length;if(r.value===`worker`)return n.isReady.value?` ${e} `:`...`;switch(n.status.value){case`ready`:return`${e} `;case`connecting`:return` ${i.value}...`;case`error`:return``;default:return``}});function u(e){if(r.value===e)return;r.value=e;let t={mode:e,serverUrl:i.value};dC(t),n.updateConfig(t),console.log(`[Settings]  ${e} `)}function d(){if(i.value===n.serverUrl.value)return;let e={mode:r.value,serverUrl:i.value};dC(e),n.updateConfig(e),console.log(`[Settings] : ${i.value}`)}return(t,n)=>(l(),V(`div`,aN,[U(`div`,oN,[n[5]||=U(`label`,{class:`setting-label`},``,-1),U(`div`,sN,[U(`button`,{class:q([`mode-button`,{active:r.value===`worker`}]),onClick:n[0]||=e=>u(`worker`),title:` Web Worker `},[H(eN,{class:`mode-icon`}),n[3]||=U(`span`,{class:`mode-text`},`Worker `,-1)],2),U(`button`,{class:q([`mode-button`,{active:r.value===`server`}]),onClick:n[1]||=e=>u(`server`),title:` WebSocket `},[H(iN,{class:`mode-icon`}),n[4]||=U(`span`,{class:`mode-text`},`Server `,-1)],2)])]),r.value===`server`?(l(),V(`div`,cN,[n[6]||=U(`label`,{class:`setting-label`},``,-1),a(U(`input`,{"onUpdate:modelValue":n[2]||=e=>i.value=e,type:`text`,class:`server-input`,placeholder:`ws://localhost:3001`,onBlur:d,onKeyup:Ze(d,[`enter`])},null,544),[[e,i.value]])])):L(``,!0),U(`div`,lN,[U(`div`,uN,[U(`span`,{class:q([`status-indicator`,o.value]),title:s.value},null,10,dN),U(`span`,fN,B(c.value),1)])])]))}}),[[`__scopeId`,`data-v-8a65a9ea`]]),mN={class:`w-[280px] h-full bg-white flex flex-col border-r border-slate-200 overflow-hidden shadow-lg`},hN={class:`panel-header`},gN={class:`header-actions`},_N={class:`flex-1 overflow-y-auto px-4 py-3 space-y-6`},vN={class:`space-y-3`},yN={class:`flex items-center gap-1.5 pb-2 border-b border-slate-200 text-[11px] font-semibold text-slate-600 tracking-wide`},bN={class:`flex items-center gap-1.5 pb-2 border-b border-slate-200 text-[11px] font-semibold text-slate-600 tracking-wide`},xN={class:`flex flex-col gap-3`},SN={key:0,class:`flex flex-col`},CN={class:`flex items-center gap-2 px-3 py-2 bg-slate-50/80 border border-slate-200 rounded-md text-[11px] text-slate-600 cursor-pointer transition-all duration-200 select-none hover:bg-slate-100 hover:border-slate-300`},wN={key:1,class:`flex flex-col`},TN={class:`block mb-1 text-[11px] font-medium text-slate-600`},EN={key:2,class:`flex flex-col`},DN={class:`block mb-1 text-[11px] font-medium text-slate-600`},ON={key:3,class:`flex flex-col`},kN={class:`block mb-1 text-[11px] font-medium text-slate-600`},AN={class:`flex gap-2 items-center`},jN=[`onUpdate:modelValue`],MN=W(z({__name:`ConfigPanel`,emits:[`close`],setup(t){let n=MO(),{config:r}=pe(n),i=Sx,o={"edge-style":LT,canvas:_T,widget:aD,layout:rE,"zoom-range":_D};function s(e){return o[e]}function c(){confirm(``)&&n.resetToDefaults()}return(t,n)=>(l(),V(`div`,mN,[U(`div`,hN,[n[2]||=U(`h2`,{class:`panel-title`},``,-1),U(`div`,gN,[U(`button`,{onClick:c,class:`reset-btn`,title:``},[H(zE,{class:`w-3.5 h-3.5`})]),U(`button`,{onClick:n[0]||=e=>t.$emit(`close`),class:`close-btn`},[...n[1]||=[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[U(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),U(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})],-1)]])])]),U(`div`,_N,[U(`div`,vN,[U(`div`,yN,[H(kT,{class:`w-4 h-4 shrink-0`}),n[3]||=U(`span`,null,``,-1)]),U(`div`,null,[H(pN)])]),(l(!0),V(G,null,Le(R(i),t=>(l(),V(`div`,{key:t.title,class:`space-y-3`},[U(`div`,bN,[(l(),K(k(s(t.icon)),{class:`shrink-0`})),U(`span`,null,B(t.title),1)]),U(`div`,xN,[(l(!0),V(G,null,Le(t.items,t=>(l(),V(G,{key:t.key},[t.type===`checkbox`?(l(),V(`div`,SN,[U(`label`,CN,[H(PO,{modelValue:R(r)[t.key],"onUpdate:modelValue":e=>R(r)[t.key]=e,binary:!0},null,8,[`modelValue`,`onUpdate:modelValue`]),U(`span`,null,B(t.label),1)])])):t.type===`select`?(l(),V(`div`,wN,[U(`label`,TN,B(t.label),1),H(GM,{modelValue:R(r)[t.key],"onUpdate:modelValue":e=>R(r)[t.key]=e,options:t.options,optionLabel:`label`,optionValue:`value`},null,8,[`modelValue`,`onUpdate:modelValue`,`options`])])):t.type===`range`?(l(),V(`div`,EN,[U(`label`,DN,B(t.label)+`: `+B(R(r)[t.key])+B(t.unit||``),1),H(XM,{modelValue:R(r)[t.key],"onUpdate:modelValue":e=>R(r)[t.key]=e,min:t.range?.min,max:t.range?.max,step:t.range?.step,class:`w-full`},null,8,[`modelValue`,`onUpdate:modelValue`,`min`,`max`,`step`])])):t.type===`color`?(l(),V(`div`,ON,[U(`label`,kN,B(t.label),1),U(`div`,AN,[a(U(`input`,{"onUpdate:modelValue":e=>R(r)[t.key]=e,type:`color`,class:`w-10 h-9 p-0.5 bg-white border border-slate-200 rounded-lg cursor-pointer transition-all duration-200 hover:border-slate-300`},null,8,jN),[[e,R(r)[t.key]]]),H(qM,{modelValue:R(r)[t.key],"onUpdate:modelValue":e=>R(r)[t.key]=e,type:`text`,class:`flex-1 h-10 px-3 font-mono text-xs`,placeholder:`#000000`},null,8,[`modelValue`,`onUpdate:modelValue`])])])):L(``,!0)],64))),128))])]))),128))])]))}}),[[`__scopeId`,`data-v-b6f16db7`]]),NN=z({__name:`Dropdown`,props:{modelValue:{type:Boolean,default:!1},dropdownClass:{default:``},offset:{default:4},placement:{default:`bottom-start`},widthMode:{default:`trigger`}},emits:[`update:modelValue`],setup(e,{expose:t,emit:n}){let i=e,o=n,s=F(null),c=F(null),u=F(i.modelValue),f=F({top:0,left:0,width:0}),p=I(()=>{let e={position:`fixed`,top:`${f.value.top}px`,left:`${f.value.left}px`,zIndex:9999};return i.widthMode===`trigger`&&f.value.width&&(e.width=`${f.value.width}px`),e});T(()=>i.modelValue,e=>{u.value=e,e&&g()}),T(u,e=>{o(`update:modelValue`,e),e&&g()});function m(){u.value=!u.value}function h(){u.value=!1}function g(){if(!s.value)return;let e=s.value.getBoundingClientRect(),t=c.value,n=t?.offsetHeight||0,r=0,a=0;i.placement.startsWith(`bottom`)?r=e.bottom+i.offset:i.placement.startsWith(`top`)&&(r=e.top-n-i.offset),i.placement.endsWith(`start`)?a=e.left:i.placement.endsWith(`end`)&&(a=e.right-(t?.offsetWidth||0));let o=window.innerWidth,l=window.innerHeight,u=t?.offsetWidth||0;a+u>o-10&&(a=o-u-10),a<10&&(a=10),r+n>l-10&&i.placement.startsWith(`bottom`)&&(r=e.top-n-i.offset),r<10&&(r=10),f.value={top:r,left:a,width:e.width}}function _(){u.value&&g()}function v(){u.value&&g()}function y(e){if(!u.value)return;let t=e.target,n=s.value,r=c.value;n&&!n.contains(t)&&r&&!r.contains(t)&&h()}return oe(()=>{window.addEventListener(`scroll`,_,!0),window.addEventListener(`resize`,v),document.addEventListener(`mousedown`,y)}),d(()=>{window.removeEventListener(`scroll`,_,!0),window.removeEventListener(`resize`,v),document.removeEventListener(`mousedown`,y)}),t({toggle:m,close:h,updatePosition:g}),(t,n)=>(l(),V(`div`,{ref_key:`triggerRef`,ref:s,class:`relative`},[r(t.$slots,`trigger`,{toggle:m,show:u.value}),(l(),K(Ne,{to:`body`},[H(ge,{"enter-active-class":`transition duration-150 ease-out`,"enter-from-class":`opacity-0 scale-95`,"enter-to-class":`opacity-100 scale-100`,"leave-active-class":`transition duration-100 ease-in`,"leave-from-class":`opacity-100 scale-100`,"leave-to-class":`opacity-0 scale-95`},{default:Y(()=>[a(U(`div`,{ref_key:`dropdownRef`,ref:c,class:q([`absolute rounded-lg border border-slate-200 bg-white shadow-xl`,e.dropdownClass]),style:Je(p.value),onMousedown:n[0]||=He(()=>{},[`prevent`])},[r(t.$slots,`default`,{close:h})],38),[[Ee,u.value]])]),_:3})]))],512))}}),PN=[`innerHTML`],FN={key:1,class:`p-3 bg-white/90 border border-slate-200 rounded-md shadow-sm`},IN=[`innerHTML`],LN=z({__name:`VariablePreview`,props:{value:{},currentItemIndex:{default:void 0},inline:{type:Boolean,default:!1}},setup(e){let t=e,n=UC(),r=I(()=>{let e=t.value;if(!e||typeof e!=`string`||!/\{\{\s*\$?[^{}]+?\s*\}\}/.test(e)||!n.selectedNodeId)return``;try{let{map:r}=MC(n.selectedNodeId,n.nodes,n.edges),i=NC({preview:e},[],r).preview;return i===e?``:t.currentItemIndex!==void 0&&Array.isArray(i)&&i[t.currentItemIndex]!==void 0?o(i[t.currentItemIndex]):o(i)}catch(e){return`: ${e}`}}),i=I(()=>{let e=t.value;if(!e||typeof e!=`string`||!/\{\{\s*\$?[^{}]+?\s*\}\}/.test(e)||!n.selectedNodeId)return``;try{let{map:r}=MC(n.selectedNodeId,n.nodes,n.edges);return a(e,r,t.currentItemIndex)}catch(e){return s(`: ${e}`)}});function a(e,t,n){let r=/\{\{\s*\$?[^{}]+?\s*\}\}/g,i=0,a=``,c;for(;(c=r.exec(e))!==null;){let r=c[0],l=c.index;a+=s(e.slice(i,l));let u=NC({temp:r},[],t),d;d=n!==void 0&&Array.isArray(u.temp)?o(u.temp[n]):o(u.temp),a+=`<span class="inline-flex items-baseline mx-[1px] bg-indigo-100/80 text-[12px] font-medium text-indigo-700 shadow-sm" title="${s(r)}">${s(d)}</span>`,i=l+r.length}return a+=s(e.slice(i)),a}function o(e){if(e==null)return``;if(typeof e==`object`)try{return JSON.stringify(e,null,2)}catch{return String(e)}return String(e)}function s(e){return e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#39;`)}return(t,n)=>e.inline&&r.value?(l(),V(`div`,{key:0,class:`text-xs text-slate-700 font-mono whitespace-pre-wrap wrap-break-word`,innerHTML:i.value},null,8,PN)):!e.inline&&r.value?(l(),V(`div`,FN,[n[0]||=U(`div`,{class:`flex items-center justify-between mb-2`},[U(`span`,{class:`text-[10px] font-semibold tracking-wide text-slate-500`},``),U(`span`,{class:`text-[9px] text-slate-400`},``)],-1),U(`div`,{class:`text-xs text-slate-700 font-mono whitespace-pre-wrap wrap-break-word max-h-32 overflow-y-auto`,innerHTML:i.value},null,8,IN)])):L(``,!0)}}),RN={class:`flex items-center gap-1.5`},zN={key:0,class:`text-emerald-600 text-xs`},BN={key:1,class:`text-blue-600 text-xs`},VN={key:2,class:`text-[10px] opacity-70`},HN={key:3,class:`text-[10px] opacity-70`},UN={key:1,class:`w-3 h-3 shrink-0`},WN=[`title`],GN={class:`text-[10px] px-2 py-0.5 rounded-full bg-slate-100 text-slate-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0`},KN={key:0,class:`space-y-0.5`},qN=z({name:`VariableTreeItem`,__name:`VariableTreeItem`,props:{node:{},level:{default:0}},setup(e){let t=e,n=F(t.level<1),r=F(!1),i=F(!1),a=F({x:0,y:0}),o=F(`default`),s=F(null),c=I(()=>Array.isArray(t.node.children)&&t.node.children.length>0),u=I(()=>{let e=s.value;if(e&&o.value===`empty`){let t=e.getBoundingClientRect();return{left:t.left-8+`px`,top:t.top+t.height/2+`px`,transform:`translate(12px, -50%)`}}return e&&o.value===`hasContent`?{left:a.value.x+`px`,top:a.value.y+`px`}:{left:a.value.x+`px`,top:a.value.y+`px`,transform:`translate(-50%, -100%)`}}),d=I(()=>{let e=t.node.value;return e===null?`null`:e===void 0?`undefined`:Array.isArray(e)?`Array(${e.length})`:typeof e==`object`?`Object(${Object.keys(e).length})`:typeof e==`string`?`"${e}"`:String(e)}),f=I(()=>({string:`text-green-600`,number:`text-blue-600`,boolean:`text-orange-600`,null:`text-slate-400 italic`,undefined:`text-slate-400 italic`,array:`text-slate-500`,object:`text-slate-500`})[t.node.valueType]||`text-slate-600`);function p(){n.value=!n.value}function m(){c.value&&p()}function h(e){if(!t.node.reference)return;e.preventDefault(),r.value=!0,i.value=!0,o.value=`default`,s.value=null,document.body.style.cursor=`grabbing`,a.value={x:e.clientX,y:e.clientY};let n=t.node.reference.trim(),c={reference:n,type:t.node.valueType,label:t.node.label};window.__draggedVariableData={payload:c,reference:n},document.addEventListener(`mousemove`,g),document.addEventListener(`mouseup`,v)}function g(e){if(!r.value)return;a.value={x:e.clientX,y:e.clientY};let t=document.elementFromPoint(e.clientX,e.clientY);if(!t){o.value=`default`,s.value=null;return}let n=t.getAttribute(`contenteditable`)===`true`||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,i=null;if(n)i=t;else{let e=t.closest(`[contenteditable='true']`);if(!e){o.value=`default`,s.value=null;return}i=e}s.value=i,o.value=_(i).trim()===``?`empty`:`hasContent`}function _(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e.textContent?.replace(/\u00a0/g,` `).replace(/\u200B/g,``)||``}function v(e){if(!r.value)return;r.value=!1,i.value=!1,o.value=`default`,s.value=null,document.body.style.cursor=``,document.removeEventListener(`mousemove`,g),document.removeEventListener(`mouseup`,v);let t=document.elementFromPoint(e.clientX,e.clientY);if(t){let e=new CustomEvent(`variable-drop`,{bubbles:!0,detail:window.__draggedVariableData});t.dispatchEvent(e)}delete window.__draggedVariableData}return(t,r)=>{let s=Fe(`VariableTreeItem`,!0);return l(),V(`div`,null,[(l(),K(Ne,{to:`body`},[o.value===`default`?L(``,!0):(l(),V(`div`,{key:0,class:`fixed pointer-events-none z-[10001] w-8 h-8 flex items-center justify-center`,style:Je({left:a.value.x+`px`,top:a.value.y+`px`,transform:`translate(-50%, -50%)`})},[H($T,{class:`w-5 h-5 text-slate-800`})],4)),i.value?(l(),V(`div`,{key:1,class:q([`fixed pointer-events-none z-10000 scale-100 px-3 py-1 text-xs font-medium rounded-lg shadow-lg backdrop-blur`,[o.value===`empty`?`bg-emerald-100/95 border-2 border-emerald-400 text-emerald-700`:o.value===`hasContent`?`bg-blue-100/95 border-2 border-blue-400 text-blue-700`:`bg-red-100/95 border-2 border-red-400 text-red-700`]]),style:Je(u.value)},[U(`div`,RN,[o.value===`empty`?(l(),V(`span`,zN,``)):o.value===`hasContent`?(l(),V(`span`,BN,``)):L(``,!0),Ge(` `+B(e.node.label)+` `,1),o.value===`empty`?(l(),V(`span`,VN,``)):o.value===`hasContent`?(l(),V(`span`,HN,``)):L(``,!0)])],6)):L(``,!0)])),U(`div`,{class:q([`flex items-center gap-2 px-3 py-2 rounded-md transition-colors duration-150 group hover:bg-slate-100/70`,{"cursor-pointer":c.value}]),style:Je({paddingLeft:`${e.level*16+8}px`}),onClick:m},[c.value?(l(),V(`button`,{key:0,class:`w-3 h-3 flex items-center justify-center text-slate-400 hover:text-slate-600 transition-colors shrink-0`,onClick:He(p,[`stop`])},[H(ZC,{class:q([`transition-transform`,{"rotate-90":n.value}])},null,8,[`class`])])):(l(),V(`span`,UN)),U(`span`,{class:q([`px-2.5 py-1 text-xs font-medium text-slate-800 bg-white/90 rounded-lg shadow-sm border border-slate-200 shrink-0 transition-all duration-150 hover:shadow-md`,{"cursor-grab":e.node.reference}]),onMousedown:He(h,[`stop`])},B(e.node.label),35),e.node.valueType===`node`?L(``,!0):(l(),V(G,{key:2},[r[0]||=U(`span`,{class:`text-xs text-slate-300 shrink-0`},`:`,-1),U(`span`,{class:q([f.value,`text-xs truncate flex-1 min-w-0 font-mono`]),title:d.value},B(d.value),11,WN),U(`span`,GN,B(e.node.valueType),1)],64))],6),n.value&&c.value?(l(),V(`div`,KN,[(l(!0),V(G,null,Le(e.node.children,t=>(l(),K(s,{key:t.id,node:t,level:e.level+1},null,8,[`node`,`level`]))),128))])):L(``,!0)])}}}),JN={class:`h-full flex flex-col bg-white/90 backdrop-blur border-l border-slate-200`},YN={class:`flex items-center justify-between px-4 py-4 border-b border-slate-200 bg-white/80 shrink-0`},XN={class:`inline-flex items-center justify-center min-w-[24px] px-2 py-0.5 text-[11px] font-medium text-purple-600 bg-purple-50 border border-purple-100 rounded-full`},ZN={key:0,class:`flex-1 flex items-center justify-center p-5`},QN={key:1,class:`flex-1 overflow-y-auto p-4 space-y-1 variable-scroll`},$N=W(z({__name:`VariablePanel`,props:{variables:{}},setup(e){return(t,n)=>(l(),V(`div`,JN,[U(`div`,YN,[n[0]||=U(`h4`,{class:`text-sm font-semibold text-slate-700 tracking-wide`},`  `,-1),U(`span`,XN,B(e.variables.length),1)]),e.variables.length===0?(l(),V(`div`,ZN,[...n[1]||=[U(`div`,{class:`text-[11px] text-slate-400 bg-slate-50 border border-dashed border-slate-200 rounded-md p-4 text-center`},[Ge(` `),U(`br`),U(`span`,{class:`text-[10px]`},``)],-1)]])):(l(),V(`div`,QN,[(l(!0),V(G,null,Le(e.variables,e=>(l(),K(qN,{key:e.id,node:e,level:0},null,8,[`node`]))),128))]))]))}}),[[`__scopeId`,`data-v-fdc24522`]]),eP=[`disabled`],tP=z({__name:`Button`,props:{variant:{default:`filled`},size:{default:`medium`},severity:{default:`primary`},iconOnly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(e){let t=e,n=I(()=>{let e=[`inline-flex`,`items-center`,`justify-center`,`gap-2`,`font-medium`,`rounded-md`,`transition-all`,`duration-200`,`border`,`cursor-pointer`,`select-none`,`focus-visible:outline-none`,`focus-visible:ring-4`];return t.iconOnly?t.size===`small`?e.push(`w-7`,`h-7`,`p-1`):t.size===`large`?e.push(`w-11`,`h-11`,`p-2.5`):e.push(`w-9`,`h-9`,`p-2`):t.size===`small`?e.push(`px-3`,`py-1.5`,`text-xs`):t.size===`large`?e.push(`px-6`,`py-3`,`text-base`):e.push(`px-4`,`py-2`,`text-sm`),t.disabled?e.push(`opacity-50`,`cursor-not-allowed`,`pointer-events-none`):e.push(`focus-visible:ring-purple-100`),t.variant===`filled`?t.severity===`primary`?e.push(`bg-gradient-to-r`,`from-purple-500`,`to-purple-600`,`border-transparent`,`text-white`,`shadow-md`,`hover:shadow-lg`,`hover:from-purple-500`,`hover:to-purple-700`,`active:shadow-inner`):t.severity===`secondary`?e.push(`bg-slate-700`,`border-transparent`,`text-white`,`hover:bg-slate-700`,`hover:border-transparent`,`active:bg-slate-800`,`shadow-md`,`hover:shadow-lg`):t.severity===`success`?e.push(`bg-gradient-to-r`,`from-emerald-500`,`to-emerald-600`,`border-transparent`,`text-white`,`shadow-md`,`hover:shadow-lg`,`active:shadow-inner`):t.severity===`danger`?e.push(`bg-gradient-to-r`,`from-rose-500`,`to-rose-600`,`border-transparent`,`text-white`,`shadow-md`,`hover:shadow-lg`,`active:shadow-inner`):t.severity===`warning`&&e.push(`bg-gradient-to-r`,`from-amber-500`,`to-amber-600`,`border-transparent`,`text-white`,`shadow-md`,`hover:shadow-lg`,`active:shadow-inner`):t.variant===`outlined`?t.severity===`primary`?e.push(`bg-transparent`,`border-purple-200`,`text-purple-600`,`hover:bg-purple-50`,`hover:border-purple-300`,`active:bg-purple-100`):t.severity===`secondary`?e.push(`bg-transparent`,`border-slate-200`,`text-slate-600`,`hover:bg-slate-50`,`active:bg-slate-100`):t.severity===`success`?e.push(`bg-transparent`,`border-emerald-300`,`text-emerald-600`,`hover:bg-emerald-50`,`active:bg-emerald-100`):t.severity===`danger`?e.push(`bg-transparent`,`border-rose-300`,`text-rose-600`,`hover:bg-rose-50`,`active:bg-rose-100`):t.severity===`warning`&&e.push(`bg-transparent`,`border-amber-300`,`text-amber-600`,`hover:bg-amber-50`,`active:bg-amber-100`):t.variant===`text`&&(e.push(`bg-transparent`,`border-transparent`),t.severity===`primary`?e.push(`text-purple-600`,`hover:bg-purple-50`,`active:bg-purple-100`):t.severity===`secondary`?e.push(`text-slate-600`,`hover:bg-slate-50`,`active:bg-slate-100`):t.severity===`success`?e.push(`text-emerald-600`,`hover:bg-emerald-50`,`active:bg-emerald-100`):t.severity===`danger`?e.push(`text-rose-600`,`hover:bg-rose-50`,`active:bg-rose-100`):t.severity===`warning`&&e.push(`text-amber-600`,`hover:bg-amber-50`,`active:bg-amber-100`)),e.join(` `)});return(t,i)=>(l(),V(`button`,J({class:n.value,disabled:e.disabled},t.$attrs),[r(t.$slots,`default`)],16,eP))}}),nP=Ue.extend({name:`splitter`,style:`
    .p-splitter {
        display: flex;
        flex-wrap: nowrap;
        border: 1px solid dt('splitter.border.color');
        background: dt('splitter.background');
        border-radius: dt('border.radius.md');
        color: dt('splitter.color');
    }

    .p-splitter-vertical {
        flex-direction: column;
    }

    .p-splitter-gutter {
        flex-grow: 0;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1;
        background: dt('splitter.gutter.background');
    }

    .p-splitter-gutter-handle {
        border-radius: dt('splitter.handle.border.radius');
        background: dt('splitter.handle.background');
        transition:
            outline-color dt('splitter.transition.duration'),
            box-shadow dt('splitter.transition.duration');
        outline-color: transparent;
    }

    .p-splitter-gutter-handle:focus-visible {
        box-shadow: dt('splitter.handle.focus.ring.shadow');
        outline: dt('splitter.handle.focus.ring.width') dt('splitter.handle.focus.ring.style') dt('splitter.handle.focus.ring.color');
        outline-offset: dt('splitter.handle.focus.ring.offset');
    }

    .p-splitter-horizontal.p-splitter-resizing {
        cursor: col-resize;
        user-select: none;
    }

    .p-splitter-vertical.p-splitter-resizing {
        cursor: row-resize;
        user-select: none;
    }

    .p-splitter-horizontal > .p-splitter-gutter > .p-splitter-gutter-handle {
        height: dt('splitter.handle.size');
        width: 100%;
    }

    .p-splitter-vertical > .p-splitter-gutter > .p-splitter-gutter-handle {
        width: dt('splitter.handle.size');
        height: 100%;
    }

    .p-splitter-horizontal > .p-splitter-gutter {
        cursor: col-resize;
    }

    .p-splitter-vertical > .p-splitter-gutter {
        cursor: row-resize;
    }

    .p-splitterpanel {
        flex-grow: 1;
        overflow: hidden;
    }

    .p-splitterpanel-nested {
        display: flex;
    }

    .p-splitterpanel .p-splitter {
        flex-grow: 1;
        border: 0 none;
    }
`,classes:{root:function(e){return[`p-splitter p-component`,`p-splitter-`+e.props.layout]},gutter:`p-splitter-gutter`,gutterHandle:`p-splitter-gutter-handle`}}),rP={name:`BaseSplitter`,extends:ok,props:{layout:{type:String,default:`horizontal`},gutterSize:{type:Number,default:4},stateKey:{type:String,default:null},stateStorage:{type:String,default:`session`},step:{type:Number,default:5}},style:nP,provide:function(){return{$pcSplitter:this,$parentInstance:this}}};function iP(e){"@babel/helpers - typeof";return iP=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},iP(e)}function aP(e,t,n){return(t=oP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oP(e){var t=sP(e,`string`);return iP(t)==`symbol`?t:t+``}function sP(e,t){if(iP(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iP(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function cP(e){return fP(e)||dP(e)||uP(e)||lP()}function lP(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uP(e,t){if(e){if(typeof e==`string`)return pP(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pP(e,t):void 0}}function dP(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function fP(e){if(Array.isArray(e))return pP(e)}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mP={name:`Splitter`,extends:rP,inheritAttrs:!1,emits:[`resizestart`,`resizeend`,`resize`],dragging:!1,mouseMoveListener:null,mouseUpListener:null,touchMoveListener:null,touchEndListener:null,size:null,gutterElement:null,startPos:null,prevPanelElement:null,nextPanelElement:null,nextPanelSize:null,prevPanelSize:null,panelSizes:null,prevPanelIndex:null,timer:null,data:function(){return{prevSize:null}},mounted:function(){this.initializePanels()},beforeUnmount:function(){this.clear(),this.unbindMouseListeners()},methods:{isSplitterPanel:function(e){return e.type.name===`SplitterPanel`},initializePanels:function(){var e=this;if(this.panels&&this.panels.length){var t=!1;if(this.isStateful()&&(t=this.restoreState()),!t){var n=cP(this.$el.children).filter(function(e){return e.getAttribute(`data-pc-name`)===`splitterpanel`}),r=[];this.panels.map(function(t,i){var a=(t.props&&b(t.props.size)?t.props.size:null)??100/e.panels.length;r[i]=a,n[i].style.flexBasis=`calc(`+a+`% - `+(e.panels.length-1)*e.gutterSize+`px)`}),this.panelSizes=r,this.prevSize=parseFloat(r[0]).toFixed(4)}}},onResizeStart:function(e,t,n){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal?at(this.$el):it(this.$el),n||(this.dragging=!0,this.startPos=this.layout===`horizontal`?e.pageX||e.changedTouches[0].pageX:e.pageY||e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,n?(this.prevPanelSize=this.horizontal?Pe(this.prevPanelElement,!0):De(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal?Pe(this.nextPanelElement,!0):De(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal?Pe(this.prevPanelElement,!0):De(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal?Pe(this.nextPanelElement,!0):De(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=t,this.$emit(`resizestart`,{originalEvent:e,sizes:this.panelSizes}),this.$refs.gutter[t].setAttribute(`data-p-gutter-resizing`,!0),this.$el.setAttribute(`data-p-resizing`,!0)},onResize:function(e,t,n){var r,i,a;n?this.horizontal?(i=100*(this.prevPanelSize+t)/this.size,a=100*(this.nextPanelSize-t)/this.size):(i=100*(this.prevPanelSize-t)/this.size,a=100*(this.nextPanelSize+t)/this.size):(r=this.horizontal?o(this.$el)?(this.startPos-e.pageX)*100/this.size:(e.pageX-this.startPos)*100/this.size:(e.pageY-this.startPos)*100/this.size,i=this.prevPanelSize+r,a=this.nextPanelSize-r),this.validateResize(i,a)||(i=Math.min(Math.max(this.prevPanelMinSize,i),100-this.nextPanelMinSize),a=Math.min(Math.max(this.nextPanelMinSize,a),100-this.prevPanelMinSize)),this.prevPanelElement.style.flexBasis=`calc(`+i+`% - `+(this.panels.length-1)*this.gutterSize+`px)`,this.nextPanelElement.style.flexBasis=`calc(`+a+`% - `+(this.panels.length-1)*this.gutterSize+`px)`,this.panelSizes[this.prevPanelIndex]=i,this.panelSizes[this.prevPanelIndex+1]=a,this.prevSize=parseFloat(i).toFixed(4),this.$emit(`resize`,{originalEvent:e,sizes:this.panelSizes})},onResizeEnd:function(e){this.isStateful()&&this.saveState(),this.$emit(`resizeend`,{originalEvent:e,sizes:this.panelSizes}),this.$refs.gutter.forEach(function(e){return e.setAttribute(`data-p-gutter-resizing`,!1)}),this.$el.setAttribute(`data-p-resizing`,!1),this.clear()},repeat:function(e,t,n){this.onResizeStart(e,t,!0),this.onResize(e,n,!0)},setTimer:function(e,t,n){var r=this;this.timer||=setInterval(function(){r.repeat(e,t,n)},40)},clearTimer:function(){this.timer&&=(clearInterval(this.timer),null)},onGutterKeyUp:function(){this.clearTimer(),this.onResizeEnd()},onGutterKeyDown:function(e,t){switch(e.code){case`ArrowLeft`:this.layout===`horizontal`&&this.setTimer(e,t,this.step*-1),e.preventDefault();break;case`ArrowRight`:this.layout===`horizontal`&&this.setTimer(e,t,this.step),e.preventDefault();break;case`ArrowDown`:this.layout===`vertical`&&this.setTimer(e,t,this.step*-1),e.preventDefault();break;case`ArrowUp`:this.layout===`vertical`&&this.setTimer(e,t,this.step),e.preventDefault();break}},onGutterMouseDown:function(e,t){this.onResizeStart(e,t),this.bindMouseListeners()},onGutterTouchStart:function(e,t){this.onResizeStart(e,t),this.bindTouchListeners(),e.preventDefault()},onGutterTouchMove:function(e){this.onResize(e),e.preventDefault()},onGutterTouchEnd:function(e){this.onResizeEnd(e),this.unbindTouchListeners(),e.preventDefault()},bindMouseListeners:function(){var e=this;this.mouseMoveListener||(this.mouseMoveListener=function(t){return e.onResize(t)},document.addEventListener(`mousemove`,this.mouseMoveListener)),this.mouseUpListener||(this.mouseUpListener=function(t){e.onResizeEnd(t),e.unbindMouseListeners()},document.addEventListener(`mouseup`,this.mouseUpListener))},bindTouchListeners:function(){var e=this;this.touchMoveListener||(this.touchMoveListener=function(t){return e.onResize(t.changedTouches[0])},document.addEventListener(`touchmove`,this.touchMoveListener)),this.touchEndListener||(this.touchEndListener=function(t){e.resizeEnd(t),e.unbindTouchListeners()},document.addEventListener(`touchend`,this.touchEndListener))},validateResize:function(e,t){return!(e>100||e<0||t>100||t<0||this.prevPanelMinSize>e||this.nextPanelMinSize>t)},unbindMouseListeners:function(){this.mouseMoveListener&&=(document.removeEventListener(`mousemove`,this.mouseMoveListener),null),this.mouseUpListener&&=(document.removeEventListener(`mouseup`,this.mouseUpListener),null)},unbindTouchListeners:function(){this.touchMoveListener&&=(document.removeEventListener(`touchmove`,this.touchMoveListener),null),this.touchEndListener&&=(document.removeEventListener(`touchend`,this.touchEndListener),null)},clear:function(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null},isStateful:function(){return this.stateKey!=null},getStorage:function(){switch(this.stateStorage){case`local`:return window.localStorage;case`session`:return window.sessionStorage;default:throw Error(this.stateStorage+` is not a valid value for the state storage, supported values are "local" and "session".`)}},saveState:function(){f(this.panelSizes)&&this.getStorage().setItem(this.stateKey,JSON.stringify(this.panelSizes))},restoreState:function(){var e=this,t=this.getStorage().getItem(this.stateKey);return t?(this.panelSizes=JSON.parse(t),cP(this.$el.children).filter(function(e){return e.getAttribute(`data-pc-name`)===`splitterpanel`}).forEach(function(t,n){t.style.flexBasis=`calc(`+e.panelSizes[n]+`% - `+(e.panels.length-1)*e.gutterSize+`px)`}),!0):!1},resetState:function(){this.initializePanels()}},computed:{panels:function(){var e=this,t=[];return this.$slots.default().forEach(function(n){e.isSplitterPanel(n)?t.push(n):n.children instanceof Array&&n.children.forEach(function(n){e.isSplitterPanel(n)&&t.push(n)})}),t},gutterStyle:function(){return this.horizontal?{width:this.gutterSize+`px`}:{height:this.gutterSize+`px`}},horizontal:function(){return this.layout===`horizontal`},getPTOptions:function(){return{context:{nested:this.$parentInstance?.nestedState}}},prevPanelMinSize:function(){var e=HO(this.panels[this.prevPanelIndex],`minSize`);return this.panels[this.prevPanelIndex].props&&e?e:0},nextPanelMinSize:function(){var e=HO(this.panels[this.prevPanelIndex+1],`minSize`);return this.panels[this.prevPanelIndex+1].props&&e?e:0},dataP:function(){return qt(aP(aP({},this.layout,this.layout),`nested`,this.$parentInstance?.nestedState!=null))}}},hP=[`data-p`],gP=[`onMousedown`,`onTouchstart`,`onTouchmove`,`onTouchend`,`data-p`],_P=[`aria-orientation`,`aria-valuenow`,`onKeydown`,`data-p`];function vP(e,t,n,r,i,a){return l(),V(`div`,J({class:e.cx(`root`),"data-p-resizing":!1,"data-p":a.dataP},e.ptmi(`root`,a.getPTOptions)),[(l(!0),V(G,null,Le(a.panels,function(n,r){return l(),V(G,{key:r},[(l(),K(k(n),{tabindex:`-1`})),r===a.panels.length-1?L(``,!0):(l(),V(`div`,J({key:0,ref_for:!0,ref:`gutter`,class:e.cx(`gutter`),role:`separator`,tabindex:`-1`,onMousedown:function(e){return a.onGutterMouseDown(e,r)},onTouchstart:function(e){return a.onGutterTouchStart(e,r)},onTouchmove:function(e){return a.onGutterTouchMove(e,r)},onTouchend:function(e){return a.onGutterTouchEnd(e,r)},"data-p-gutter-resizing":!1,"data-p":a.dataP},{ref_for:!0},e.ptm(`gutter`)),[U(`div`,J({class:e.cx(`gutterHandle`),tabindex:`0`,style:[a.gutterStyle],"aria-orientation":e.layout,"aria-valuenow":i.prevSize,onKeyup:t[0]||=function(){return a.onGutterKeyUp&&a.onGutterKeyUp.apply(a,arguments)},onKeydown:function(e){return a.onGutterKeyDown(e,r)},"data-p":a.dataP},{ref_for:!0},e.ptm(`gutterHandle`)),null,16,_P)],16,gP))],64)}),128))],16,hP)}mP.render=vP;var yP=z({__name:`Splitter`,setup(e){let t=F({root:`flex flex-wrap
        border border-surface-200 dark:border-surface-700 rounded-md
        bg-surface-0 dark:bg-surface-900
        text-surface-700 dark:text-surface-0
        p-vertical:flex-col p-nested:grow p-nested:border-none
        *:grow *:overflow-hidden *:flex`,gutter:`grow-0 shrink-0 flex items-center justify-center z-10 bg-surface-200 dark:bg-surface-700
        p-horizontal:cursor-col-resize p-vertical:cursor-row-resize`,gutterHandle:`rounded-md bg-transparent 
        focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-2 focus-visible:outline-primary
        transition-colors duration-200
        p-horizontal:h-[24px] p-horizontal:w-full p-vertical:w-[24px] p-vertical:h-full`});return(e,n)=>(l(),K(R(mP),{unstyled:``,gutterSize:1,pt:t.value,ptOptions:{mergeProps:R(WM)}},{default:Y(()=>[r(e.$slots,`default`)]),_:3},8,[`pt`,`ptOptions`]))}}),bP=Ue.extend({name:`splitterpanel`,classes:{root:function(e){var t=e.instance;return[`p-splitterpanel`,{"p-splitterpanel-nested":t.isNested}]}}}),xP={name:`SplitterPanel`,extends:{name:`BaseSplitterPanel`,extends:ok,props:{size:{type:Number,default:null},minSize:{type:Number,default:null}},style:bP,provide:function(){return{$pcSplitterPanel:this,$parentInstance:this}}},inheritAttrs:!1,data:function(){return{nestedState:null}},computed:{isNested:function(){var e=this;return this.$slots.default().some(function(t){return e.nestedState=t.type.name===`Splitter`?!0:null,e.nestedState})},getPTOptions:function(){return{context:{nested:this.isNested}}}}};function SP(e,t,n,i,a,o){return l(),V(`div`,J({ref:`container`,class:e.cx(`root`)},e.ptmi(`root`,o.getPTOptions)),[r(e.$slots,`default`)],16)}xP.render=SP;var CP={class:`flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 shrink-0`},wP={class:`flex items-center gap-3`},TP={class:`flex items-center justify-center w-7 h-7 rounded-lg bg-linear-to-br from-purple-500 to-purple-700 text-white transition-transform duration-200 hover:scale-105`},EP={class:`flex flex-1 overflow-hidden`},DP={class:`w-[360px] border-r border-slate-200 overflow-hidden shrink-0 bg-white`},OP={class:`flex-1 p-4 overflow-y-auto`},kP={class:`flex items-center justify-between px-4 py-2 border-b border-slate-200 bg-slate-50/80 shrink-0`},AP={key:0,class:`flex items-center gap-1 text-[10px] text-slate-500`},jP=[`value`,`disabled`],MP=[`disabled`],NP=[`disabled`],PP={class:`flex-1 overflow-y-auto p-4`},FP={key:0,class:`p-3 bg-slate-50/50 border border-slate-200 rounded-md`},IP={key:1,class:`text-xs text-slate-400`},LP={class:`flex items-center justify-end gap-2 px-5 py-3 border-t border-slate-200 bg-slate-50/80 shrink-0`},RP=z({__name:`VariableEditorModal`,props:{modelValue:{type:Boolean,default:!1},value:{default:``}},emits:[`update:modelValue`,`update:value`,`save`],setup(e,{emit:t}){let n=e,r=t,i=UC(),a=F(null),o=F(n.value||``),s=F(0),c=F(`0`),u=I(()=>{if(!i.selectedNodeId)return[];let{tree:e}=MC(i.selectedNodeId,i.nodes,i.edges);return e}),d=I(()=>{let e=o.value;return!e||typeof e!=`string`?!1:/\{\{\s*\$?[^{}]+?\s*\}\}/.test(e)}),f=I(()=>{let e=o.value;if(!e)return[];if(!d.value||!i.selectedNodeId)return[e];try{let{map:t}=MC(i.selectedNodeId,i.nodes,i.edges),n=NC({preview:e},[],t).preview;return Array.isArray(n)?n:n==null?[]:[n]}catch{return[``]}}),p=I(()=>f.value.length>1&&s.value>0),m=I(()=>f.value.length>1&&s.value<f.value.length-1);T(()=>n.value,e=>{o.value=e||``,O(o.value,!1)}),T(a,e=>{e&&O(o.value,!1)},{flush:`post`}),T(f,e=>{if(!e.length){s.value=0,c.value=`0`;return}s.value>e.length-1&&(s.value=e.length-1),c.value=String(s.value+1)},{immediate:!0}),T(s,e=>{if(!f.value.length){c.value=`0`;return}c.value=String(e+1)});function h(){r(`update:modelValue`,!1)}function g(){r(`update:value`,o.value),r(`save`,o.value),h()}function _(){}function v(){}function y(){if(!a.value)return;let e=k(a.value);e!==o.value&&(o.value=e,O(e,!0))}function b(e){e.preventDefault();let t=e.clipboardData?.getData(`text/plain`)||``;j(t),y()}function x(e){if(!a.value)return;let t=e.detail;if(!t?.reference)return;let n=t.reference.trim();n&&(j(n),y())}function S(){s.value<=0||--s.value}function C(){s.value>=f.value.length-1||(s.value+=1)}function w(e){if(!f.value.length){c.value=`0`;return}c.value=e.target.value.replace(/[^0-9]/g,``)}function E(){if(!f.value.length){c.value=`0`;return}let e=c.value.trim();if(!e){c.value=String(s.value+1);return}let t=f.value.length,n=Number(e);if(Number.isNaN(n)){c.value=String(s.value+1);return}let r=Math.min(Math.max(Math.floor(n),1),t);s.value=r-1,c.value=String(r)}function D(e){e.key===`Enter`&&(e.preventDefault(),E())}function O(e,t=!1){let n=a.value;if(!n)return;let r=null;t&&(r=A());let i=M(e)||``;n.innerHTML!==i&&(n.innerHTML=i),t&&r!==null&&ee(r)}function k(e){return e.textContent?.replace(/\u00a0/g,` `).replace(/\u200B/g,``)??``}function A(){let e=a.value;if(!e)return null;let t=window.getSelection();if(!t||t.rangeCount===0)return null;let n=t.getRangeAt(0);if(!e.contains(n.endContainer))return null;let r=n.cloneRange();return r.selectNodeContents(e),r.setEnd(n.endContainer,n.endOffset),r.toString().length}function ee(e){let t=a.value;if(!t)return;let n=window.getSelection();if(!n)return;let r=k(t),i=Math.max(0,Math.min(e,r.length)),o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),s=o.nextNode(),c=0;for(;s;){let e=s.textContent?.length??0;if(c+e>=i){let e=i-c,t=document.createRange();t.setStart(s,e),t.collapse(!0),n.removeAllRanges(),n.addRange(t);return}c+=e,s=o.nextNode()}let l=document.createRange();l.selectNodeContents(t),l.collapse(!1),n.removeAllRanges(),n.addRange(l)}function j(e){let t=a.value;if(!t)return;let n=window.getSelection();if(!n)return;if(n.rangeCount===0){t.appendChild(document.createTextNode(e));return}let r=n.getRangeAt(0);t.contains(r.startContainer)||(r.selectNodeContents(t),r.collapse(!1)),r.deleteContents();let i=document.createTextNode(e);r.insertNode(i);let o=document.createRange();o.setStart(i,i.length),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}function M(e){if(!e)return``;let t=/\{\{\s*\$?[^{}]+?\s*\}\}/g,n=0,r=``,i;for(;(i=t.exec(e))!==null;){let t=i[0],a=i.index;r+=N(e.slice(n,a)),r+=`<span class="variable-token">${N(t)}</span>`,n=a+t.length}return r+=N(e.slice(n)),r}function N(e){return e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#39;`)}return(t,n)=>(l(),K(ge,{name:`fade`},{default:Y(()=>[e.modelValue?(l(),V(`div`,{key:0,class:`fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center`,onClick:He(h,[`self`])},[U(`div`,{class:`w-[95vw] h-[95vh] bg-white rounded-lg shadow-xl flex flex-col overflow-hidden`,onClick:n[0]||=He(()=>{},[`stop`])},[U(`div`,CP,[U(`div`,wP,[U(`div`,TP,[H(kT,{class:`w-4 h-4`})]),n[1]||=U(`h3`,{class:`text-[15px] font-medium text-[#1a1a1a] tracking-tight`},`  `,-1)]),U(`button`,{type:`button`,class:`flex items-center justify-center w-7 h-7 rounded-lg text-slate-400 transition-colors duration-200 hover:bg-slate-100 hover:text-slate-700`,onClick:h},[H(Be,{class:`w-4 h-4`})])]),U(`div`,EP,[U(`div`,DP,[H($N,{variables:u.value},null,8,[`variables`])]),H(yP,{class:`flex-1 border-0! rounded-none!`},{default:Y(()=>[H(R(xP),{size:50,minSize:30,class:`flex flex-col`},{default:Y(()=>[n[2]||=U(`div`,{class:`px-4 py-2 border-b border-slate-200 bg-slate-50/50 shrink-0`},[U(`div`,{class:`text-xs font-medium text-slate-600`},``),U(`div`,{class:`text-[10px] text-slate-400 mt-0.5`},[Ge(`  `),U(`span`,{class:`font-mono text-emerald-600`},`{{ . }}`),Ge(`  `)])],-1),U(`div`,OP,[U(`div`,{ref_key:`editorRef`,ref:a,contenteditable:`true`,class:`w-full h-full min-h-[200px] p-3 font-mono text-sm text-slate-700 bg-white border border-slate-200 rounded-md outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200 whitespace-pre-wrap wrap-break-word`,onInput:y,onVariableDrop:x,onPaste:b,onFocus:_,onBlur:v},null,544)])]),_:1}),H(R(xP),{size:50,minSize:20,class:`flex flex-col`},{default:Y(()=>[U(`div`,kP,[n[4]||=U(`div`,{class:`text-xs font-semibold text-slate-600`},``,-1),f.value.length>1?(l(),V(`div`,AP,[n[3]||=U(`span`,{class:`font-medium`},`Page`,-1),U(`input`,{value:c.value,type:`text`,inputmode:`numeric`,pattern:`[0-9]*`,placeholder:`0`,disabled:!f.value.length,class:`h-5 w-7 rounded bg-white px-1 text-center text-[10px] font-medium text-slate-600 shadow-inner ring-1 ring-inset ring-slate-200 transition focus:outline-none focus:ring-2 focus:ring-slate-300 disabled:bg-slate-100 disabled:text-slate-400`,onInput:w,onBlur:E,onKeydown:D},null,40,jP),U(`span`,null,`/ `+B(f.value.length||0),1),U(`button`,{type:`button`,class:`flex h-5 w-5 items-center justify-center text-slate-400 transition-colors hover:text-slate-700 disabled:cursor-not-allowed disabled:text-slate-300`,disabled:!p.value,"aria-label":``,onClick:He(S,[`stop`])},[H(ZC,{class:`h-3 w-3 -rotate-180`})],8,MP),U(`button`,{type:`button`,class:`flex h-5 w-5 items-center justify-center text-slate-400 transition-colors hover:text-slate-700 disabled:cursor-not-allowed disabled:text-slate-300`,disabled:!m.value,"aria-label":``,onClick:He(C,[`stop`])},[H(ZC,{class:`h-3 w-3`})],8,NP)])):L(``,!0)]),U(`div`,PP,[f.value.length?(l(),V(`div`,FP,[H(LN,{value:o.value,"current-item-index":s.value,inline:``},null,8,[`value`,`current-item-index`])])):(l(),V(`p`,IP,[...n[5]||=[U(`span`,{class:`font-mono bg-gray-100 px-2 py-1 rounded`},`[empty]`,-1)]]))])]),_:1})]),_:1})]),U(`div`,LP,[H(tP,{variant:`outlined`,onClick:h},{default:Y(()=>[...n[6]||=[Ge(``,-1)]]),_:1}),H(tP,{onClick:g},{default:Y(()=>[...n[7]||=[Ge(``,-1)]]),_:1})])])])):L(``,!0)]),_:1}))}}),zP=W(RP,[[`__scopeId`,`data-v-023bd04c`]]),BP={class:`pointer-events-none flex items-center justify-center w-7 text-gray-600 rounded-l-md shrink-0 border-r border-gray-200`,style:{"background-color":`#f1f3f9`}},VP={class:`relative flex-1 min-w-0`},HP={class:`w-5 h-8 pt-3`},UP={key:0,class:`overflow-hidden`},WP={class:`flex items-center justify-between border-b border-slate-100 bg-slate-50/90 px-2 py-1.5`},GP={class:`flex items-center gap-1 text-[10px] text-slate-500`},KP=[`value`,`disabled`],qP=[`disabled`],JP=[`disabled`],YP={class:`max-h-56 overflow-y-auto px-2 py-2`},XP={key:1,class:`text-xs text-slate-400`},ZP={key:2,class:`text-[10px] leading-tight text-slate-400 px-1`},QP=``,$P=`\\{\\{\\s*[^{}]+?\\s*\\}\\}`,eF=`<span data-cursor-anchor="true" style="display:inline-block;width:1px;">&#8203;</span>`,tF=z({inheritAttrs:!1,__name:`VariableTextInput`,props:{modelValue:{default:``},placeholder:{default:``},rows:{default:1},multiline:{type:Boolean,default:!1},previewMode:{default:`bottom`},density:{default:`default`}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=F(null),a=F(C(n.modelValue)),o=F(!1),s=F(!1),c=F(0),u=F(`0`),d=F(!1),f=!1,p=F(!1),m=new RegExp(QP,`g`),h=RegExp(`^${$P}`),g=RegExp(`${$P}$`),_=UC(),v=I(()=>!a.value&&n.placeholder);T(()=>n.modelValue,e=>{let t=C(e);t!==a.value&&(a.value=t,N(t,!1))}),T(i,e=>{e&&N(a.value,!1)},{flush:`post`});let y=I(()=>{let e=a.value;return!e||typeof e!=`string`?!1:/\{\{\s*[^{}]+?\s*\}\}/.test(e)}),b=I(()=>{let e=a.value;if(!e)return[];if(!y.value||!_.selectedNodeId)return[e];try{let{map:t}=MC(_.selectedNodeId,_.nodes,_.edges),n=NC({preview:e},[],t).preview;return Array.isArray(n)?n:n==null?[]:[n]}catch{return[``]}}),x=I(()=>b.value.length>1&&c.value>0),S=I(()=>b.value.length>1&&c.value<b.value.length-1);T(b,e=>{if(!e.length){c.value=0,u.value=`0`;return}c.value>e.length-1&&(c.value=e.length-1),u.value=String(c.value+1)},{immediate:!0}),T(c,e=>{if(!b.value.length){u.value=`0`;return}u.value=String(e+1)});function C(e){return e==null?``:String(e)}function w(){d.value=!0,n.previewMode===`dropdown`&&(c.value=0,o.value=!0)}function E(){d.value=!1}function D(e){if(!i.value)return;let t=e.target;p.value=t===i.value||t?.dataset.cursorAnchor===`true`}function O(){i.value&&(p.value&&=(ne()===0&&a.value&&re(a.value.length),!1))}function k(){c.value<=0||--c.value}function A(){c.value>=b.value.length-1||(c.value+=1)}function ee(e){if(!b.value.length){u.value=`0`;return}u.value=e.target.value.replace(/[^0-9]/g,``)}function j(){if(!b.value.length){u.value=`0`;return}let e=u.value.trim();if(!e){u.value=String(c.value+1);return}let t=b.value.length,n=Number(e);if(Number.isNaN(n)){u.value=String(c.value+1);return}let r=Math.min(Math.max(Math.floor(n),1),t);c.value=r-1,u.value=String(r)}function M(e){e.key===`Enter`&&(e.preventDefault(),j())}function N(e,t=!1){let n=i.value;if(!n)return;let r=null;t&&(r=ne());let a=fe(e)||``;n.innerHTML!==a&&(n.innerHTML=a),t&&r!==null&&re(r)}function te(e){return e.textContent?.replace(/\u00a0/g,` `).replace(/\u200B/g,``)??``}function ne(){let e=i.value;if(!e)return null;let t=window.getSelection();if(!t||t.rangeCount===0)return null;let n=t.getRangeAt(0);if(!e.contains(n.endContainer))return null;let r=n.cloneRange();return r.selectNodeContents(e),r.setEnd(n.endContainer,n.endOffset),r.toString().replace(m,``).length}function re(e){let t=i.value;if(!t)return;let n=window.getSelection();if(!n)return;let r=te(t),a=Math.max(0,Math.min(e,r.length)),o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),s=o.nextNode(),c=0;for(;s;){let e=s.textContent?.length??0;if(c+e>=a){let e=a-c,t=document.createRange();t.setStart(s,e),t.collapse(!0),n.removeAllRanges(),n.addRange(t);return}c+=e,s=o.nextNode()}let l=document.createRange();l.selectNodeContents(t),l.collapse(!1),n.removeAllRanges(),n.addRange(l)}function ie(){if(!i.value||f)return;let e=te(i.value);e!==a.value&&(a.value=e,r(`update:modelValue`,e),f=!0,N(e,!0),f=!1)}function P(e){e.preventDefault();let t=e.clipboardData?.getData(`text/plain`)||``;de(t),ie()}function ae(e){if(e.key===`Enter`){if(e.preventDefault(),!n.multiline)return;de(`
`),ie();return}e.key===`Backspace`&&oe(e,`backward`)||e.key===`Delete`&&oe(e,`forward`)}function oe(e,t){if(!i.value)return!1;let n=window.getSelection();if(!n||n.rangeCount===0)return!1;let r=n.getRangeAt(0),o=a.value;if(!r.collapsed){let t=ce(r,`start`),n=ce(r,`end`);if(t===null||n===null)return!1;let{start:i,end:a}=le(o,t,n);return i===a?!1:(e.preventDefault(),se(o.slice(0,i)+o.slice(a),i),!0)}let s=ne();if(s===null)return!1;if(t===`backward`){if(s===0)return!1;let t=o.slice(0,s).match(g);if(t){let n=t[0],r=s-n.length;return e.preventDefault(),se(o.slice(0,r)+o.slice(s),r),!0}}else{let t=o.slice(s).match(h);if(t){let n=t[0],r=s+n.length;return e.preventDefault(),se(o.slice(0,s)+o.slice(r),s),!0}}let c=new RegExp($P,`g`),l;for(;(l=c.exec(o))!==null;){let n=l.index,r=n+l[0].length;if(t===`backward`&&s>n&&s<=r||t===`forward`&&s>=n&&s<r)return e.preventDefault(),se(o.slice(0,n)+o.slice(r),n),!0}return!1}function se(e,t){a.value=e,r(`update:modelValue`,e),N(e,!1),re(t)}function ce(e,t){let n=i.value;if(!n)return null;let r=e.cloneRange();return r.selectNodeContents(n),t===`start`?r.setEnd(e.startContainer,e.startOffset):r.setEnd(e.endContainer,e.endOffset),r.toString().replace(m,``).length}function le(e,t,n){if(t===n)return{start:t,end:n};let r=new RegExp($P,`g`),i,a=t,o=n;for(;(i=r.exec(e))!==null;){let e=i.index,t=e+i[0].length;e<a&&t>a&&(a=e),e<o&&t>o&&(o=t)}return{start:a,end:o}}function ue(e){if(!i.value)return;let t=e.detail;if(!t?.reference)return;let n=t.reference.trim();n&&(de(n),ie())}function de(e){let t=i.value;if(!t)return;let n=window.getSelection();if(!n)return;if(n.rangeCount===0){t.appendChild(document.createTextNode(e));return}let r=n.getRangeAt(0);t.contains(r.startContainer)||(r.selectNodeContents(t),r.collapse(!1)),r.deleteContents();let a=document.createTextNode(e);r.insertNode(a);let o=document.createRange();o.setStart(a,a.length),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}function fe(e){if(!e)return QP;let t=new RegExp($P,`g`);t.lastIndex=0;let n=0,r=``,i;for(;(i=t.exec(e))!==null;){let t=i[0],a=i.index;r+=pe(e.slice(n,a)),r+=`<span class="variable-token">${pe(t)}</span>`,n=a+t.length}return r+=pe(e.slice(n)),r+eF}function pe(e){return e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#39;`)}function me(){s.value=!0}function he(e){a.value=e,r(`update:modelValue`,e),N(e,!1)}return(t,n)=>(l(),V(G,null,[U(`div`,J(t.$attrs,{class:`space-y-2`}),[e.previewMode===`top`&&d.value?(l(),K(LN,{key:0,value:a.value},null,8,[`value`])):L(``,!0),H(NN,{modelValue:o.value,"onUpdate:modelValue":n[0]||=e=>o.value=e,"width-mode":e.previewMode===`dropdown`?`trigger`:`auto`,placement:`bottom-start`,offset:4},{trigger:Y(()=>[U(`div`,{class:q([`relative flex items-stretch h-full rounded-md border transition-all duration-200`,d.value?`border-slate-400 ring-2 ring-slate-200`:`border-slate-200`])},[U(`div`,BP,[H(YT,{class:`w-4 h-4`})]),U(`div`,VP,[v.value?(l(),V(`span`,{key:0,class:q([`pointer-events-none absolute select-none text-slate-400`,e.density===`compact`?`left-2 top-1 text-xs`:`left-2 top-2 text-sm`])},B(e.placeholder),3)):L(``,!0),U(`div`,{ref_key:`editorRef`,ref:i,contenteditable:`true`,class:q([`w-full cursor-text font-mono text-slate-700 bg-white outline-none wrap-break-word`,e.density===`compact`?`text-xs`:`text-sm`,`px-2`,e.multiline?e.density===`compact`?`py-1 min-h-12 max-h-52 overflow-y-auto whitespace-pre-wrap resize-y`:`py-2 min-h-16 max-h-60 overflow-y-auto whitespace-pre-wrap resize-y`:e.density===`compact`?`h-7 flex items-center overflow-hidden whitespace-nowrap resize-none`:`h-8 flex items-center overflow-hidden whitespace-nowrap resize-none`]),onInput:ie,onVariableDrop:ue,onPaste:P,onKeydown:ae,onFocus:w,onBlur:E,onMousedown:D,onMouseup:O},null,34)]),U(`div`,HP,[U(`button`,{type:`button`,class:`flex items-center justify-center w-full h-full border-l rounded-tl-md border-t border-slate-200 bg-white text-slate-500 transition-colors hover:border-slate-300 hover:text-slate-700 hover:bg-slate-100 rounded-r-md shrink-0`,onClick:He(me,[`stop`]),title:``},[H(GT,{class:`h-3 w-3`})])])],2)]),default:Y(()=>[e.previewMode===`dropdown`?(l(),V(`div`,UP,[U(`div`,WP,[n[3]||=U(`div`,{class:`text-[10px] font-semibold uppercase tracking-wide text-slate-500`},` Result `,-1),U(`div`,GP,[n[2]||=U(`span`,{class:`font-medium`},`Page`,-1),U(`input`,{value:u.value,type:`text`,inputmode:`numeric`,pattern:`[0-9]*`,placeholder:`0`,disabled:!b.value.length,class:`h-5 w-7 rounded bg-white px-1 text-center text-[10px] font-medium text-slate-600 shadow-inner ring-1 ring-inset ring-slate-200 transition focus:outline-none focus:ring-2 focus:ring-slate-300 disabled:bg-slate-100 disabled:text-slate-400`,onInput:ee,onBlur:j,onKeydown:M},null,40,KP),U(`span`,null,`/ `+B(b.value.length||0),1),U(`button`,{type:`button`,class:`flex h-5 w-5 items-center justify-center text-slate-400 transition-colors hover:text-slate-700 disabled:cursor-not-allowed disabled:text-slate-300`,disabled:!x.value,"aria-label":``,onClick:He(k,[`stop`])},[H(ZC,{class:`h-3 w-3 -rotate-180`})],8,qP),U(`button`,{type:`button`,class:`flex h-5 w-5 items-center justify-center text-slate-400 transition-colors hover:text-slate-700 disabled:cursor-not-allowed disabled:text-slate-300`,disabled:!S.value,"aria-label":``,onClick:He(A,[`stop`])},[H(ZC,{class:`h-3 w-3`})],8,JP)])]),U(`div`,YP,[b.value.length?(l(),K(LN,{key:0,value:a.value,"current-item-index":c.value,inline:``},null,8,[`value`,`current-item-index`])):(l(),V(`p`,XP,[...n[4]||=[U(`span`,{class:`font-mono bg-gray-100`},`[empty]`,-1)]]))]),n[5]||=U(`div`,{class:`border-t border-slate-100 bg-slate-50 px-2 py-1.5`},[U(`p`,{class:`text-[10px] leading-tight text-slate-400`},[Ge(` Tip:  `),U(`span`,{class:`font-mono text-emerald-600`},`{{ . }}`),Ge(`  `)])],-1)])):L(``,!0)]),_:1},8,[`modelValue`,`width-mode`]),e.previewMode===`bottom`&&d.value?(l(),K(LN,{key:1,value:a.value},null,8,[`value`])):L(``,!0),e.previewMode!==`dropdown`&&d.value?(l(),V(`p`,ZP,[...n[6]||=[Ge(` Tip:  `,-1),U(`span`,{class:`font-mono text-emerald-600`},`{{ . }}`,-1),Ge(`  `,-1)]])):L(``,!0)],16),H(zP,{modelValue:s.value,"onUpdate:modelValue":n[1]||=e=>s.value=e,value:a.value,onSave:he},null,8,[`modelValue`,`value`])],64))}}),nF=[`onClick`,`disabled`,`title`],rF={class:`flex-auto overflow-hidden whitespace-nowrap text-ellipsis`},iF={class:`flex w-max`},aF={class:`border-r border-slate-100 shrink-0`,style:{width:`140px`}},oF={class:`p-1.5 space-y-0.5`},sF=[`onClick`,`onMouseenter`],cF={class:`truncate flex-1`},lF={class:`overflow-auto max-h-80 shrink-0`,style:{width:`180px`}},uF={class:`p-1.5 space-y-0.5`},dF=[`onClick`],fF={class:`block truncate`},pF=z({__name:`CascadedSelect`,props:{modelValue:{default:void 0},options:{default:()=>[]},groups:{default:()=>[]},placeholder:{default:``},disabled:{type:Boolean,default:!1},triggerClass:{default:``},dropdownClass:{default:``}},emits:[`update:modelValue`,`change`],setup(e,{emit:t}){let n=e,r=t,i=F(!1),a=F(``),o=I(()=>n.options.find(e=>e.value===n.modelValue)),s=I(()=>o.value?o.value.displayLabel||o.value.label:n.placeholder),c=I(()=>a.value?n.options.filter(e=>e.group===a.value):[]);T(()=>n.groups,e=>{if(e.length>0&&!a.value)if(o.value)a.value=o.value.group;else{let t=e[0];t&&(a.value=t.value)}},{immediate:!0}),T(i,e=>{e&&o.value&&(a.value=o.value.group)});function u(e){r(`update:modelValue`,e.value),r(`change`,e.value),i.value=!1}function d(e){return n.modelValue===e}return(t,r)=>(l(),K(NN,{modelValue:i.value,"onUpdate:modelValue":r[0]||=e=>i.value=e,"width-mode":`auto`,offset:2},{trigger:Y(({toggle:t})=>[U(`button`,{onClick:t,class:q([`inline-flex items-center justify-between cursor-pointer select-none`,`h-8 rounded-md border transition-colors duration-200`,i.value?`border-slate-400 ring-2 ring-slate-100`:`border-slate-200 hover:border-slate-300`,n.triggerClass]),disabled:e.disabled,title:o.value?.title||o.value?.label},[U(`span`,rF,B(s.value),1),H(TT,{class:q([`w-3.5 h-3.5 transition-transform shrink-0`,i.value?`rotate-180`:``])},null,8,[`class`])],10,nF)]),default:Y(()=>[U(`div`,iF,[U(`div`,aF,[U(`div`,oF,[(l(!0),V(G,null,Le(e.groups,e=>(l(),V(`button`,{key:e.value,onClick:t=>a.value=e.value,onMouseenter:t=>a.value=e.value,class:q([`w-full flex items-center gap-2 px-3 py-2 text-sm rounded`,`transition-colors duration-150 text-left`,a.value===e.value?`bg-slate-100 text-slate-900 font-medium`:`text-slate-700 hover:bg-slate-50`])},[U(`span`,cF,B(e.label),1),H(ZC,{class:`w-3.5 h-3.5 shrink-0 text-slate-400`})],42,sF))),128))])]),U(`div`,lF,[U(`div`,uF,[(l(!0),V(G,null,Le(c.value,e=>(l(),V(`button`,{key:e.value,onClick:t=>u(e),class:q([`w-full px-3 py-2 text-sm rounded text-left`,`transition-colors duration-150`,d(e.value)?`bg-red-50 text-red-600 font-medium`:`text-slate-700 hover:bg-slate-50`])},[U(`span`,fF,B(e.label),1)],10,dF))),128))])])])]),_:1},8,[`modelValue`]))}}),mF={class:`relative`},hF={class:`absolute right-0 top-[-40px]`},gF={class:`space-y-2.5`},_F={class:`flex items-center justify-between mb-3 pb-2 border-b border-slate-100`},vF=[`onClick`],yF={class:`flex gap-2`},bF={class:`flex flex-col w-12 items-center`},xF={class:`flex-1 relative w-full min-h-[10px]`},SF={key:0,class:`absolute left-1/2 right-0 top-2 bottom-0 border-l border-t border-purple-200 rounded-tl-lg`},CF={class:`flex-1 relative w-full min-h-[10px]`},wF={key:0,class:`absolute left-1/2 right-0 top-0 bottom-2 border-l border-b border-purple-200 rounded-bl-lg`},TF={class:`flex-1 space-y-2 overflow-hidden`},EF={class:`flex-1 min-w-0`},DF={class:`shrink-0`},OF={key:0,class:`flex-1 min-w-0`},kF=[`onClick`],AF=[`onClick`],jF=W(z({__name:`ConditionEditor`,props:{modelValue:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=qe({conditions:n.modelValue.conditions||[c()]});T(()=>n.modelValue,e=>{JSON.stringify(e)!==JSON.stringify(i)&&(i.conditions=e.conditions||[c()])},{deep:!0});let a=I(()=>[{value:`string`,label:`String`},{value:`number`,label:`Number`},{value:`date`,label:`Date & Time`},{value:`boolean`,label:`Boolean`},{value:`array`,label:`Array`},{value:`object`,label:`Object`}]),o={"is equal to":`=`,"is not equal to":``,contains:``,"does not contain":``,"starts with":`^`,"ends with":`$`,"is greater than":`>`,"is less than":`<`,"is greater than or equal to":``,"is less than or equal to":``,exists:`?`,"does not exist":``,"is empty":``,"is not empty":`!`,"is true":``,"is false":``,"is before":`<`,"is after":`>`,"is before or equal to":``,"is after or equal to":``,"length equal to":`len=`,"length not equal to":`len`,"length greater than":`len>`,"length less than":`len<`,"length greater than or equal to":`len`,"length less than or equal to":`len`},s=I(()=>{let e=[];return Object.entries(Dt).forEach(([t,n])=>{n.forEach(n=>{e.push({value:n,label:xt[n],displayLabel:o[n]||xt[n],group:t,title:xt[n]})})}),e});function c(){return{logic:`and`,subConditions:[u()]}}function u(){return{field:``,dataType:`string`,operator:`is equal to`,value:``}}function d(e){return e==null?``:typeof e==`string`||typeof e==`number`?e:String(e)}function f(){i.conditions.push(c()),x()}function p(e){i.conditions.length>1&&(i.conditions.splice(e,1),x())}function m(e){let t=i.conditions[e];t&&(t.subConditions.push(u()),x())}function h(e,t){let n=i.conditions[e];n&&n.subConditions.length>1&&(n.subConditions.splice(t,1),x())}function g(e,t){i.conditions[e]=t,x()}function _(e,t,n){let r=i.conditions[e];r&&(r.subConditions[t]=n,x())}function v(e,t,n){let r=i.conditions[e];r&&r.subConditions[t]&&(r.subConditions[t].field=n,x())}function y(e,t,n){let r=i.conditions[e];r&&r.subConditions[t]&&(r.subConditions[t].value=n,x())}function b(e){return![`exists`,`does not exist`,`is empty`,`is not empty`,`is true`,`is false`].includes(e)}function x(){r(`update:modelValue`,{conditions:i.conditions})}return(e,t)=>(l(),V(`div`,mF,[U(`div`,hF,[U(`button`,{onClick:f,class:`flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium text-purple-600 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 active:bg-purple-200 transition-all shadow-sm hover:shadow`},[H(jE),t[0]||=U(`span`,null,``,-1)])]),U(`div`,gF,[(l(!0),V(G,null,Le(i.conditions,(e,n)=>(l(),V(`div`,{key:n,class:`bg-linear-to-br from-white to-slate-50 border border-slate-200 rounded-md p-3 shadow-sm hover:shadow-md transition-shadow`},[U(`div`,_F,[t[1]||=U(`div`,{class:`text-sm font-semibold text-purple-700`},``,-1),i.conditions.length>1?(l(),V(`button`,{key:0,onClick:e=>p(n),class:`p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors`,title:``},[H(yE,{class:`w-4 h-4`})],8,vF)):L(``,!0)]),U(`div`,yF,[U(`div`,bF,[U(`div`,xF,[e.subConditions.length>1?(l(),V(`div`,SF)):L(``,!0)]),H(GM,{modelValue:e.logic,"onUpdate:modelValue":t=>e.logic=t,options:[{label:``,value:`and`},{label:``,value:`or`}],onChange:t=>g(n,e),class:`logic-select`},null,8,[`modelValue`,`onUpdate:modelValue`,`onChange`]),U(`div`,CF,[e.subConditions.length>1?(l(),V(`div`,wF)):L(``,!0)])]),U(`div`,TF,[(l(!0),V(G,null,Le(e.subConditions,(t,r)=>(l(),V(`div`,{key:r,class:`flex items-center gap-2 bg-white border border-slate-200 rounded-lg p-2 hover:border-purple-300 transition-colors`},[U(`div`,EF,[H(tF,{"preview-mode":`dropdown`,"model-value":d(t.field),"onUpdate:modelValue":e=>v(n,r,e),placeholder:``,class:`compact-editor`},null,8,[`model-value`,`onUpdate:modelValue`])]),U(`div`,DF,[H(pF,{modelValue:t.operator,"onUpdate:modelValue":e=>t.operator=e,options:s.value,groups:a.value,onChange:()=>_(n,r,t),"trigger-class":`w-11 bg-white px-1 py-0.5 text-sm font-semibold text-slate-700`,placeholder:`=`},null,8,[`modelValue`,`onUpdate:modelValue`,`options`,`groups`,`onChange`])]),b(t.operator)?(l(),V(`div`,OF,[H(tF,{"preview-mode":`dropdown`,"model-value":d(t.value),placeholder:``,class:`compact-editor`,"onUpdate:modelValue":e=>y(n,r,e)},null,8,[`model-value`,`onUpdate:modelValue`])])):L(``,!0),e.subConditions.length>1?(l(),V(`button`,{key:1,onClick:e=>h(n,r),class:`shrink-0 p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors`,title:``},[H(yE,{class:`w-3.5 h-3.5`})],8,kF)):L(``,!0)]))),128)),U(`button`,{onClick:e=>m(n),class:`flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-600 hover:bg-purple-50 rounded-lg transition-colors ml-12`},[H(jE,{class:`w-3 h-3`}),t[2]||=U(`span`,null,``,-1)],8,AF)])])]))),128))]),t[3]||=U(`div`,{class:`mt-2.5 bg-linear-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-md px-3 py-2.5 shadow-sm`},[U(`div`,{class:`text-sm font-semibold text-slate-600`},``)],-1)]))}}),[[`__scopeId`,`data-v-9ec6356b`]]),MF={class:`flex flex-col bg-white border border-gray-200 rounded-md overflow-hidden`},NF={class:`p-4 space-y-4`},PF={key:0,class:`space-y-4`},FF={class:`flex flex-col gap-2`},IF={key:0,class:`flex flex-col gap-2`},LF={key:1,class:`flex flex-col gap-2`},RF={class:`grid grid-cols-3 gap-3`},zF={class:`flex flex-col gap-2`},BF={class:`flex flex-col gap-2`},VF={class:`flex flex-col gap-2`},HF={class:`grid grid-cols-2 gap-3`},UF={class:`flex flex-col gap-2`},WF={class:`flex flex-col gap-2`},GF={class:`text-xs text-slate-500 bg-slate-50 border border-dashed border-slate-200 rounded-md p-2.5 leading-relaxed`},KF={class:`font-mono text-purple-600`},qF={key:1},JF={key:2,class:`space-y-4`},YF={class:`flex flex-col gap-2`},XF={key:0,class:`space-y-2.5`},ZF={class:`text-xs text-slate-400 w-16 shrink-0`},QF={key:1,class:`text-xs text-slate-500 p-2.5 bg-slate-50 border border-slate-200 rounded-md`},$F={key:3,class:`space-y-4`},eI={class:`flex flex-col gap-2`},tI={key:4,class:`space-y-4`},nI={class:`flex items-center gap-2`},rI={class:`text-sm font-medium text-slate-700`},iI={class:`text-[11px] px-2 py-0.5 rounded-full bg-slate-100 text-slate-500`},aI={key:0,class:`text-[11px] px-2 py-0.5 rounded-full bg-red-50 text-red-500`},oI={key:0,class:`text-xs text-slate-400 leading-relaxed`},sI={key:0,class:`p-5 text-center text-slate-400 text-sm italic bg-slate-50 border-2 border-dashed border-slate-200 rounded-md`},cI=W(z({__name:`NodeConfigForm`,setup(t){let n=UC(),r=F({}),i=F(`[]`),o=[{label:``,value:`input`},{label:``,value:`static`},{label:``,value:`range`}],s=I(()=>{let e=n.selectedNode;return e&&e.id.split(`_`)[0]||``}),c=I(()=>(n.selectedNode?.data?.inputs??[]).filter(e=>e.id!==`__input__`&&e.id!==`__output__`)),u=I({get(){return{conditions:Array.isArray(r.value.conditions)?r.value.conditions:[]}},set(e){r.value={...r.value,conditions:e.conditions},p()}});T(()=>n.selectedNode,e=>{e&&e.data&&e.data.config&&(r.value={...e.data.config},s.value===`for`&&d(),s.value===`if`&&f())},{immediate:!0,deep:!0});function d(){r.value.mode||(r.value.mode=`input`),r.value.range||(r.value.range={start:0,end:5,step:1}),r.value.itemName||(r.value.itemName=`item`),r.value.indexName||(r.value.indexName=`index`);try{i.value=JSON.stringify(r.value.staticItems??[],null,2)}catch{i.value=`[]`}}function f(){Array.isArray(r.value.conditions)?r.value.conditions.length<1&&(r.value.conditions=[{logic:`and`,subConditions:[{field:``,dataType:`string`,operator:`is equal to`,value:``}]}]):r.value.conditions=[{logic:`and`,subConditions:[{field:``,dataType:`string`,operator:`is equal to`,value:``}]}]}function p(){let e=n.selectedNode;e&&(n.updateNodeData(e.id,{config:{...r.value}}),s.value===`if`&&n.syncIfNodePorts(e.id))}function m(){r.value.mode===`range`&&!r.value.range&&(r.value.range={start:0,end:5,step:1}),p()}function h(){try{r.value.staticItems=JSON.parse(i.value||`[]`),p()}catch(e){console.error(`:`,e)}}function g(e,t,n){let i=y(e)??n;r.value[e]=b(t,i),p()}function _(e){return r.value?.[e]}function v(e,t){r.value.range||(r.value.range={start:0,end:0,step:1}),r.value.range[e]=b(t,`number`),p()}function y(e){return n.selectedNode?.data?.inputs.find(t=>t.id===e)?.type}function b(e,t){if(!t||e.includes(`{{`))return e;let n=e.trim();switch(t){case`number`:{if(!n)return;let t=Number(n);return Number.isNaN(t)?e:t}case`boolean`:return n?[`true`,`1`].includes(n.toLowerCase())?!0:[`false`,`0`].includes(n.toLowerCase())?!1:e:void 0;case`object`:case`array`:if(!n)return t===`array`?[]:{};try{return JSON.parse(n)}catch{return e}default:return e}}function x(e){if(e==null)return``;if(typeof e==`string`)return e;if(typeof e==`object`)try{return JSON.stringify(e,null,2)}catch{return String(e)}return String(e)}function S(e,t){return e===`object`||e===`array`?!0:typeof t==`string`?t.includes(`
`)||t.length>60:!1}return(t,n)=>(l(),V(`div`,MF,[n[26]||=U(`div`,{class:`flex items-center justify-between px-4 py-3 border-b border-slate-200 bg-slate-50`},[U(`span`,{class:`text-sm font-semibold text-slate-700`},``)],-1),U(`div`,NF,[s.value===`for`?(l(),V(`div`,PF,[U(`div`,FF,[n[11]||=U(`label`,{class:`text-xs font-semibold uppercase tracking-wide text-slate-500`},`  `,-1),H(GM,{modelValue:r.value.mode,"onUpdate:modelValue":n[0]||=e=>r.value.mode=e,options:o,optionLabel:`label`,optionValue:`value`,class:`h-9`,onChange:m},null,8,[`modelValue`])]),r.value.mode===`input`?(l(),V(`div`,IF,[n[12]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(qM,{modelValue:r.value.itemsPath,"onUpdate:modelValue":n[1]||=e=>r.value.itemsPath=e,type:`text`,class:`h-9`,placeholder:` data.items `,onChange:p},null,8,[`modelValue`]),n[13]||=U(`p`,{class:`text-xs text-slate-400 leading-relaxed`},[Ge(`  `),U(`code`,{class:`bg-slate-100 text-purple-500 px-1.5 py-0.5 rounded font-mono text-xs`},`payload.list`),Ge(` `)],-1)])):r.value.mode===`static`?(l(),V(`div`,LF,[n[14]||=U(`label`,{class:`text-sm font-medium text-slate-600`},` (JSON)`,-1),a(U(`textarea`,{"onUpdate:modelValue":n[2]||=e=>i.value=e,class:`w-full font-mono text-sm leading-relaxed text-slate-700 bg-white border border-slate-200 rounded-md px-3 py-2.5 transition-colors duration-200 outline-none resize-none hover:border-slate-300 focus:border-slate-400 focus:ring-2 focus:ring-slate-200`,rows:`4`,placeholder:`["task1", "task2"]`,onChange:h},null,544),[[e,i.value]])])):r.value.mode===`range`?(l(),V(G,{key:2},[U(`div`,RF,[U(`div`,zF,[n[15]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(tF,{"model-value":x(r.value.range?.start),"onUpdate:modelValue":n[3]||=e=>v(`start`,e)},null,8,[`model-value`])]),U(`div`,BF,[n[16]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(tF,{"model-value":x(r.value.range?.end),"onUpdate:modelValue":n[4]||=e=>v(`end`,e)},null,8,[`model-value`])]),U(`div`,VF,[n[17]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(tF,{"model-value":x(r.value.range?.step),"onUpdate:modelValue":n[5]||=e=>v(`step`,e)},null,8,[`model-value`])])]),n[18]||=U(`p`,{class:`text-xs text-slate-400 leading-relaxed`},[Ge(`  0 `),U(`code`,{class:`bg-slate-100 text-purple-500 px-1.5 py-0.5 rounded font-mono text-xs`},`[start, end)`),Ge(`  `)],-1)],64)):L(``,!0),U(`div`,HF,[U(`div`,UF,[n[19]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(qM,{modelValue:r.value.itemName,"onUpdate:modelValue":n[6]||=e=>r.value.itemName=e,type:`text`,class:`h-9`,placeholder:` item`,onChange:p},null,8,[`modelValue`])]),U(`div`,WF,[n[20]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(qM,{modelValue:r.value.indexName,"onUpdate:modelValue":n[7]||=e=>r.value.indexName=e,type:`text`,class:`h-9`,placeholder:` index`,onChange:p},null,8,[`modelValue`])])]),U(`div`,GF,[n[21]||=Ge(`  ID `,-1),U(`span`,KF,B(r.value.containerId||``),1)])])):s.value===`if`?(l(),V(`div`,qF,[H(jF,{modelValue:u.value,"onUpdate:modelValue":n[8]||=e=>u.value=e},null,8,[`modelValue`])])):s.value===`merge`?(l(),V(`div`,JF,[U(`div`,YF,[n[22]||=U(`label`,{class:`text-xs font-semibold uppercase tracking-wide text-slate-500`},`  `,-1),H(GM,{modelValue:r.value.mode,"onUpdate:modelValue":n[9]||=e=>r.value.mode=e,options:[{label:``,value:`object`},{label:``,value:`array`}],optionLabel:`label`,optionValue:`value`,class:`h-9`,onChange:p},null,8,[`modelValue`])]),r.value.mode===`object`?(l(),V(`div`,XF,[n[23]||=U(`label`,{class:`text-sm font-medium text-slate-600`},`5`,-1),(l(!0),V(G,null,Le(r.value.keys,(e,t)=>(l(),V(`div`,{key:t,class:`flex items-center gap-3`},[U(`span`,ZF,``+B(t+1)+`:`,1),H(qM,{modelValue:r.value.keys[t],"onUpdate:modelValue":e=>r.value.keys[t]=e,type:`text`,class:`flex-1 h-9`,placeholder:`key${t+1}`,onChange:p},null,8,[`modelValue`,`onUpdate:modelValue`,`placeholder`])]))),128))])):(l(),V(`div`,QF,`  `))])):s.value===`code`?(l(),V(`div`,$F,[U(`div`,eI,[n[24]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),a(U(`textarea`,{"onUpdate:modelValue":n[10]||=e=>r.value.code=e,class:`w-full font-mono text-sm leading-relaxed text-slate-700 bg-white border border-slate-200 rounded-md px-3 py-2.5 transition-colors duration-200 outline-none resize-none hover:border-slate-300 focus:border-slate-400 focus:ring-2 focus:ring-slate-200`,rows:`15`,placeholder:` JavaScript ...`,onChange:p},null,544),[[e,r.value.code]])]),n[25]||=U(`div`,{class:`text-xs text-slate-500 p-2.5 bg-slate-50 border border-slate-200 rounded-md space-y-1.5`},[U(`div`,null,[U(`strong`,{class:`text-slate-600`},`:`)]),U(`div`,null,` input1, input2, input3 - `),U(`div`,null,` JSON, Math, Date, console - `),U(`div`,{class:`pt-1`},[U(`strong`,{class:`text-slate-600`},`:`),Ge(`  ( return ) `)])],-1)])):(l(),V(`div`,tI,[(l(!0),V(G,null,Le(c.value,e=>(l(),V(`div`,{key:e.id,class:`flex flex-col gap-2`},[U(`div`,nI,[U(`span`,rI,B(e.name||e.id),1),U(`span`,iI,B(e.type||`any`),1),e.required?(l(),V(`span`,aI,`  `)):L(``,!0)]),H(tF,{"model-value":x(_(e.id)),multiline:S(e.type,_(e.id)),"onUpdate:modelValue":t=>g(e.id,t,e.type)},null,8,[`model-value`,`multiline`,`onUpdate:modelValue`]),e.description?(l(),V(`p`,oI,B(e.description),1)):L(``,!0)]))),128)),c.value.length===0?(l(),V(`div`,sI,`  `)):L(``,!0)]))])]))}}),[[`__scopeId`,`data-v-0dbf7c0b`]]),lI={class:`w-[95vw] h-[95vh] bg-[#fafafa] rounded-md overflow-hidden flex flex-col border border-slate-200 shadow-[0_8px_40px_rgba(0,0,0,0.08)] transition-transform duration-300`},uI={key:0,class:`flex flex-col items-center justify-center h-full px-8 py-12`},dI={key:1,class:`flex flex-col h-full`},fI={class:`flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 shrink-0`},pI={class:`flex items-center gap-3`},mI={class:`flex items-center justify-center w-7 h-7 rounded-lg bg-linear-to-br from-purple-500 to-purple-700 text-white transition-transform duration-200 hover:scale-105`},hI={class:`w-full h-full overflow-hidden bg-white border-r border-slate-200`},gI={class:`w-full h-full overflow-y-auto bg-[#f6f6f8]`},_I={class:`max-w-3xl mx-auto p-4 space-y-3`},vI={class:`bg-white border border-slate-200 rounded-md overflow-hidden transition-colors duration-200 hover:border-slate-300`},yI={class:`p-4 flex flex-col gap-2`},bI={class:`flex gap-3 p-3 bg-white border border-slate-200 rounded-md`},xI=z({__name:`NodeEditorPanel`,setup(e){let t=UC(),{selectedNode:n}=t,r=F(``),i=I(()=>{if(!t.selectedNodeId)return console.log(`[VariablePanel] `),[];let e=t.getAvailableVariables(t.selectedNodeId);return console.log(`[VariablePanel]  ${t.selectedNodeId} :`,e),e});T(()=>t.selectedNode,e=>{e&&e.data&&(r.value=e.data.label||``)},{immediate:!0});function a(){n&&n.data&&t.updateNodeData(n.id,{label:r.value})}function o(){t.closeNodeEditor(),t.selectNode(null)}function s(){n&&t.executeNode(n.id)}function c(){if(n){let e=n.id;t.removeNode(e)}}return(e,t)=>(l(),V(`div`,{class:`fixed inset-0 bg-black/10 backdrop-blur-sm z-50 flex items-center justify-center transition-opacity duration-200`,onClick:He(o,[`self`])},[U(`div`,lI,[R(n)?(l(),V(`div`,dI,[U(`div`,fI,[U(`div`,pI,[U(`div`,mI,[H(kT,{class:`w-4 h-4`})]),t[2]||=U(`h3`,{class:`text-[15px] font-medium text-[#1a1a1a] tracking-tight`},`  `,-1)]),U(`button`,{class:`flex items-center justify-center w-7 h-7 rounded-lg text-slate-400 transition-colors duration-200 hover:bg-slate-100 hover:text-slate-700`,onClick:o},[H(Be,{class:`w-4 h-4`})])]),H(yP,{class:`flex-1 border-0! rounded-none!`},{default:Y(()=>[H(R(xP),{size:25,minSize:15,class:`border-0!`},{default:Y(()=>[U(`div`,hI,[H($N,{variables:i.value},null,8,[`variables`])])]),_:1}),H(R(xP),{size:75,minSize:50,class:`border-0!`},{default:Y(()=>[U(`div`,gI,[U(`div`,_I,[U(`div`,vI,[t[4]||=U(`div`,{class:`px-4 py-2.5 bg-slate-50 border-b border-slate-200`},[U(`span`,{class:`text-sm font-medium text-slate-600 tracking-tight`},``)],-1),U(`div`,yI,[t[3]||=U(`label`,{class:`text-sm font-medium text-slate-600`},``,-1),H(qM,{modelValue:r.value,"onUpdate:modelValue":t[0]||=e=>r.value=e,type:`text`,placeholder:``,onChange:a},null,8,[`modelValue`])])]),H(cI),U(`div`,bI,[H(tP,{class:`flex-1`,variant:`filled`,severity:`primary`,onClick:s},{default:Y(()=>[H(DE,{class:`w-4 h-4`}),t[5]||=U(`span`,null,``,-1)]),_:1}),H(tP,{class:`flex-1`,variant:`outlined`,severity:`secondary`,onClick:c},{default:Y(()=>[H(qE,{class:`w-4 h-4`}),t[6]||=U(`span`,null,``,-1)]),_:1})])])])]),_:1})]),_:1})])):(l(),V(`div`,uI,[H(VT),t[1]||=U(`p`,{class:`mt-5 text-[15px] font-medium text-center text-slate-600`},`  `,-1)]))])]))}}),SI={class:`space-y-2`},CI=z({__name:`Accordion`,props:{value:{default:void 0},multiple:{type:Boolean,default:!1}},emits:[`update:value`],setup(e,{emit:t}){let n=e,i=t,a=F([]);T(()=>n.value,e=>{e===void 0?a.value=[]:Array.isArray(e)?a.value=e:a.value=[e]},{immediate:!0});function o(e){if(n.multiple){let t=a.value.indexOf(e);t>-1?a.value.splice(t,1):a.value.push(e),i(`update:value`,[...a.value])}else a.value.includes(e)?(a.value=[],i(`update:value`,void 0)):(a.value=[e],i(`update:value`,e))}function s(e){return a.value.includes(e)}return ee(`accordion`,{togglePanel:o,isPanelExpanded:s}),(e,t)=>(l(),V(`div`,SI,[r(e.$slots,`default`)]))}}),wI={class:`overflow-hidden`},TI=z({__name:`AccordionPanel`,props:{value:{}},setup(e){return ee(`accordionPanelValue`,e.value),(e,t)=>(l(),V(`div`,wI,[r(e.$slots,`default`)]))}}),EI=z({__name:`AccordionHeader`,setup(e){let t=ot(`accordion`),n=ot(`accordionPanelValue`,``),i=I(()=>t?.isPanelExpanded(n)??!1),a=I(()=>{let e=[`w-full`,`flex`,`items-center`,`gap-2`,`px-2`,`py-2`,`text-sm`,`font-medium`,`text-left`,`text-slate-700`,`bg-white`,`border-none`,`border-b`,`border-slate-200`,`outline-none`,`cursor-pointer`,`transition-all`,`duration-200`,`hover:bg-slate-50`];return i.value&&e.push(`bg-slate-50`),e.join(` `)});function o(){t?.togglePanel(n)}return(e,t)=>(l(),V(`button`,{class:q(a.value),onClick:o},[r(e.$slots,`default`),H(TT,{class:q([`w-4 h-4 transition-transform duration-200 ml-auto shrink-0`,i.value?`rotate-180`:``])},null,8,[`class`])],2))}}),DI={class:`overflow-hidden`},OI={class:`pt-2`},kI=W(z({__name:`AccordionContent`,setup(e){let t=ot(`accordion`),n=ot(`accordionPanelValue`,``),i=I(()=>t?.isPanelExpanded(n)??!1);function o(e){let t=e;t.style.height=`0`,t.offsetHeight,t.style.height=t.scrollHeight+`px`}function s(e){let t=e;t.style.height=`auto`}function c(e){let t=e;t.style.height=t.scrollHeight+`px`,t.offsetHeight,t.style.height=`0`}function u(e){let t=e;t.style.height=``}return(e,t)=>(l(),K(ge,{name:`accordion`,onEnter:o,onAfterEnter:s,onLeave:c,onAfterLeave:u},{default:Y(()=>[a(U(`div`,DI,[U(`div`,OI,[r(e.$slots,`default`,{},void 0,!0)])],512),[[Ee,i.value]])]),_:3}))}}),[[`__scopeId`,`data-v-b8f3b832`]]),AI={class:`node-list-panel`},jI={class:`panel-header`},MI={class:`px-4 py-3 border-b border-slate-200`},NI={class:`flex-1 overflow-y-auto px-4 py-3 space-y-2`},PI={class:`text-xs text-slate-400`},FI={class:`space-y-1`},II=[`onDragstart`],LI={class:`flex items-start gap-2`},RI={class:`flex-1 min-w-0`},zI={class:`flex items-center gap-1.5 mb-0.5`},BI={class:`text-[11px] font-medium text-slate-700 truncate`},VI={class:`text-[10px] text-slate-400 line-clamp-2 leading-relaxed`},HI={key:0,class:`flex flex-col items-center justify-center py-12 text-slate-400`},UI=W(z({__name:`NodeListPanel`,emits:[`close`,`dragStart`,`dragEnd`],setup(e,{emit:t}){let n=t,r=F(``),i=kC(),a=I(()=>i.getNodesByCategory.value),o=F(Object.keys(a.value)),s=I(()=>{let e=r.value.toLowerCase().trim();if(!e)return a.value;let t={};return i.searchNodes(e).forEach(e=>{let n=e.category;t[n]||(t[n]=[]),t[n].push(e)}),t});function c(e,t){e.dataTransfer&&(e.dataTransfer.effectAllowed=`copy`,e.dataTransfer.setData(`application/vueflow`,JSON.stringify({type:t.type,label:t.label})),e.target instanceof HTMLElement&&(e.target.style.opacity=`0.5`),n(`dragStart`,t))}function u(e){e.target instanceof HTMLElement&&(e.target.style.opacity=`1`),n(`dragEnd`)}function d(e){return{:{bg:`#ede9fe`,text:`#6b21a8`,border:`#d8b4fe`,icon:`#a855f7`,tagBg:`#f3e8ff`,tagText:`#7c3aed`},:{bg:`#dbeafe`,text:`#1e40af`,border:`#bfdbfe`,icon:`#3b82f6`,tagBg:`#eff6ff`,tagText:`#2563eb`},:{bg:`#d1fae5`,text:`#065f46`,border:`#a7f3d0`,icon:`#10b981`,tagBg:`#ecfdf5`,tagText:`#059669`},:{bg:`#fef3c7`,text:`#92400e`,border:`#fde68a`,icon:`#f59e0b`,tagBg:`#fffbeb`,tagText:`#d97706`},:{bg:`#fce7f3`,text:`#9f1239`,border:`#fbcfe8`,icon:`#ec4899`,tagBg:`#fdf2f8`,tagText:`#db2777`},:{bg:`#e0e7ff`,text:`#3730a3`,border:`#c7d2fe`,icon:`#6366f1`,tagBg:`#eef2ff`,tagText:`#4f46e5`},:{bg:`#ffe4e6`,text:`#881337`,border:`#fecdd3`,icon:`#f43f5e`,tagBg:`#fff1f2`,tagText:`#e11d48`},:{bg:`#fef3c7`,text:`#78350f`,border:`#fde68a`,icon:`#f59e0b`,tagBg:`#fffbeb`,tagText:`#d97706`},:{bg:`#ddd6fe`,text:`#5b21b6`,border:`#c4b5fd`,icon:`#8b5cf6`,tagBg:`#f5f3ff`,tagText:`#7c3aed`}}[e]||{bg:`#f1f5f9`,text:`#475569`,border:`#e2e8f0`,icon:`#64748b`,tagBg:`#f8fafc`,tagText:`#64748b`}}return(e,t)=>(l(),V(`div`,AI,[U(`div`,jI,[t[4]||=U(`h2`,{class:`panel-title`},``,-1),U(`button`,{onClick:t[0]||=e=>n(`close`),class:`close-btn`},[...t[3]||=[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[U(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),U(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})],-1)]])]),U(`div`,MI,[H(qM,{modelValue:r.value,"onUpdate:modelValue":t[1]||=e=>r.value=e,placeholder:`...`,class:`w-full text-sm`},null,8,[`modelValue`])]),U(`div`,NI,[H(CI,{value:o.value,"onUpdate:value":t[2]||=e=>o.value=e,multiple:``},{default:Y(()=>[(l(!0),V(G,null,Le(s.value,(e,t)=>(l(),K(TI,{key:t,value:t},{default:Y(()=>[H(EI,null,{default:Y(()=>[Ge(B(t)+` `,1),U(`span`,PI,`(`+B(e.length)+`)`,1)]),_:2},1024),H(kI,null,{default:Y(()=>[U(`div`,FI,[(l(!0),V(G,null,Le(e,e=>(l(),V(`div`,{key:e.type,draggable:!0,onDragstart:t=>c(t,e),onDragend:u,class:`px-2 py-1.5 rounded hover:bg-slate-50 cursor-move transition-colors group`},[U(`div`,LI,[U(`div`,{class:`mt-0.5 transition-colors`,style:Je({color:d(t).icon})},[H(hE,{class:`w-3.5 h-3.5`})],4),U(`div`,RI,[U(`div`,zI,[U(`div`,BI,B(e.label),1),U(`span`,{class:`px-1.5 py-0.5 rounded text-[9px] font-medium shrink-0`,style:Je({backgroundColor:d(t).tagBg,color:d(t).tagText})},B(t),5)]),U(`div`,VI,B(e.description),1)])])],40,II))),128))])]),_:2},1024)]),_:2},1032,[`value`]))),128))]),_:1},8,[`value`]),Object.keys(s.value).length===0?(l(),V(`div`,HI,[H(VT,{class:`w-12 h-12 mb-2 opacity-50`}),t[5]||=U(`div`,{class:`text-sm`},``,-1)])):L(``,!0)]),t[6]||=U(`div`,{class:`panel-footer`},``,-1)]))}}),[[`__scopeId`,`data-v-1189e8ca`]]),WI=[`id`,`d`,`marker-end`],GI=[`d`],KI=[`x`,`y`],qI=z({__name:`InteractiveEdge`,props:{id:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{type:[String,Object,Function]},style:{},selected:{type:Boolean},sourcePosition:{},targetPosition:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},markerEnd:{},curvature:{},interactionWidth:{},data:{},events:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{},sourceX:{},sourceY:{},targetX:{},targetY:{},variant:{}},setup(e){let t=e,n=UC(),r=F(!1),i=I(()=>{let e=n.nodes.find(e=>e.id===t.source),r=n.nodes.find(e=>e.id===t.target);return e?.type===`loopContainer`||r?.type===`loopContainer`}),a=I(()=>t.data?.isActive||!1),o=I(()=>{let e={sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY};switch(t.variant){case`simplebezier`:return um({...e,sourcePosition:t.sourcePosition??X.Bottom,targetPosition:t.targetPosition??X.Top});case`smoothstep`:return gm({...e,sourcePosition:t.sourcePosition??X.Bottom,targetPosition:t.targetPosition??X.Top,borderRadius:t.borderRadius,offset:t.offset});case`step`:return gm({...e,sourcePosition:t.sourcePosition??X.Bottom,targetPosition:t.targetPosition??X.Top,borderRadius:0,offset:t.offset});case`straight`:return _m(e);case`default`:default:return cm({...e,sourcePosition:t.sourcePosition??X.Bottom,targetPosition:t.targetPosition??X.Top,curvature:t.curvature})}}),s=I(()=>o.value?.[0]??``),c=I(()=>o.value?.[1]),u=I(()=>o.value?.[2]),d=I(()=>t.markerEnd),f=I(()=>{let e=t.style?.strokeWidth||2;return{stroke:t.style?.stroke||`#b1b1b7`,strokeWidth:typeof e==`number`?`${e}px`:e,fill:`none`}});function p(e){e.stopPropagation(),e.preventDefault(),n.removeEdge(t.id)}function m(e){e.stopPropagation(),e.preventDefault()}function h(){i.value||(r.value=!0)}function g(){r.value=!1}return(t,n)=>(l(),V(`g`,{class:q([`vue-flow__edge-custom`,{"edge-active":a.value}])},[U(`path`,{id:e.id,class:`vue-flow__edge-path-visual`,d:s.value,"marker-end":d.value,style:Je(f.value)},null,12,WI),U(`path`,{d:s.value,class:q([`vue-flow__edge-path vue-flow__edge-interaction`,{"edge-non-interactive":i.value}]),onMouseenter:h,onMouseleave:g},null,42,GI),Number.isFinite(c.value)&&Number.isFinite(u.value)&&r.value?(l(),V(`foreignObject`,{key:0,x:c.value-16,y:u.value-16,width:`32`,height:`32`,class:`edgebutton-foreignobject`,onMouseenter:h,onMouseleave:g},[U(`div`,{class:q([`flex items-center justify-center w-full h-full transition-all duration-200`,r.value||e.selected?`opacity-100 pointer-events-auto scale-100`:`opacity-0 pointer-events-none scale-50`]),xmlns:`http://www.w3.org/1999/xhtml`},[U(`button`,{type:`button`,class:`group relative flex items-center justify-center w-8 h-8 bg-transparent text-red-500 cursor-pointer transition-all duration-200 ease-out hover:scale-110 active:scale-100 focus:outline-none`,onClick:p,onMousedown:m},[H(qE,{class:`w-4 h-4 transition-transform duration-200 group-hover:scale-110`})],32)],2)],40,KI)):L(``,!0)],2))}}),JI=W(qI,[[`__scopeId`,`data-v-597fb083`]]),YI={class:`vertical-tab-menu`},XI={class:`menu-top`},ZI={class:`menu-bottom`},QI=W(z({__name:`VerticalTabMenu`,props:{activeTab:{}},emits:[`tab-change`],setup(e){return(t,n)=>(l(),V(`div`,YI,[U(`div`,XI,[U(`button`,{class:q([`menu-btn`,{active:e.activeTab===`folders`}]),onClick:n[0]||=e=>t.$emit(`tab-change`,`folders`),title:``},[...n[3]||=[U(`svg`,{width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[U(`path`,{d:`M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z`})],-1)]],2),U(`button`,{class:q([`menu-btn`,{active:e.activeTab===`nodes`}]),onClick:n[1]||=e=>t.$emit(`tab-change`,`nodes`),title:``},[...n[4]||=[Oe(`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ef03272e><rect x="3" y="3" width="7" height="7" data-v-ef03272e></rect><rect x="14" y="3" width="7" height="7" data-v-ef03272e></rect><rect x="14" y="14" width="7" height="7" data-v-ef03272e></rect><rect x="3" y="14" width="7" height="7" data-v-ef03272e></rect></svg>`,1)]],2)]),U(`div`,ZI,[U(`button`,{class:q([`menu-btn`,{active:e.activeTab===`settings`}]),onClick:n[2]||=e=>t.$emit(`tab-change`,`settings`),title:``},[...n[5]||=[U(`svg`,{width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[U(`circle`,{cx:`12`,cy:`12`,r:`3`}),U(`path`,{d:`M12 1v6m0 6v6m9-9h-6m-6 0H3M19.778 4.222l-4.242 4.242m-7.072 7.072L4.222 19.778m15.556 0l-4.242-4.242m-7.072-7.072L4.222 4.222`})],-1)]],2)])]))}}),[[`__scopeId`,`data-v-ef03272e`]]),$I={class:`tree-item`},eL={key:0,class:`drop-indicator top`},tL={key:1,class:`label`},nL={class:`actions`},rL={key:1,class:`drop-indicator bottom`},iL={key:2,class:`tree-children`},aL={key:0,class:`drop-indicator top`},oL=[`onClick`,`onKeydown`,`onDragstart`,`onDragenter`,`onDragover`,`onDrop`],sL=[`onBlur`,`onKeydown`],cL={key:1,class:`label`},lL={class:`actions`},uL=[`onClick`],dL={key:1,class:`drop-indicator bottom`},fL=z({__name:`WorkflowFolderItem`,props:{folder:{},currentWorkflowId:{},level:{},isLastChild:{type:Boolean},draggingItem:{},dropTarget:{},dropPosition:{}},emits:[`select-workflow`,`create-workflow`,`delete-workflow`,`rename-workflow`,`delete-folder`,`rename-folder`,`toggle-folder`,`drag-start`,`drag-enter`,`drag-leave`,`drop`],setup(t,{emit:n}){let r=t,i=n,o=F(null),s=F(``),c=F(``),u=F(!1),d=e=>o.value===e,f={mounted(e){P(()=>{e.focus(),e.select()})}};function p(){u.value||i(`toggle-folder`,r.folder)}function m(e){e.key===`F2`&&(e.preventDefault(),e.stopPropagation(),s.value=r.folder.name,u.value=!0)}function h(){s.value.trim()&&s.value!==r.folder.name&&i(`rename-folder`,r.folder.id,s.value.trim()),u.value=!1}function g(e){e.key===`Enter`?(e.preventDefault(),h()):e.key===`Escape`&&(e.preventDefault(),u.value=!1)}function _(e){d(e)||i(`select-workflow`,e)}function v(e,t){e.key===`F2`&&(e.preventDefault(),e.stopPropagation(),c.value=t.title,o.value=t.id)}function y(e,t){c.value.trim()?i(`rename-workflow`,e,c.value.trim()):i(`rename-workflow`,e,t),o.value=null}function b(e,t,n){e.key===`Enter`?(e.preventDefault(),y(t,n)):e.key===`Escape`&&(e.preventDefault(),o.value=null)}function x(e,t,n){let r={type:t,id:n.id,name:t===`folder`?n.name:n.title||``,data:n};i(`drag-start`,r,e)}function S(e){e.preventDefault(),e.stopPropagation(),w(e,`folder`,r.folder)}function C(e,t){e.preventDefault(),e.stopPropagation(),w(e,`workflow`,t)}function w(e,t,n){e.stopPropagation();let r=e.currentTarget.getBoundingClientRect(),a=e.clientY-r.top,o=r.height,s;s=t===`folder`?a<o*.25?`before`:a>o*.75?`after`:`inside`:a<=o/2?`before`:`after`,i(`drag-enter`,{type:t,id:n.id,data:n},s,e)}function T(){}function E(e,t,n){e.preventDefault(),e.stopPropagation(),r.dropTarget&&r.dropPosition&&i(`drop`,r.dropTarget,r.dropPosition)}return(n,r)=>{let i=Fe(`WorkflowFolderItem`,!0);return l(),V(`div`,$I,[t.dropTarget?.id===t.folder.id&&t.dropPosition===`before`&&t.draggingItem?.id!==t.folder.id?(l(),V(`div`,eL)):L(``,!0),U(`div`,{class:q([`tree-row folder-row`,{"drag-over-inside":t.dropTarget?.id===t.folder.id&&t.dropPosition===`inside`}]),style:Je({paddingLeft:`${t.level*12+8}px`}),tabindex:0,draggable:`true`,onClick:p,onKeydown:m,onDragstart:r[4]||=e=>x(e,`folder`,t.folder),onDragenter:r[5]||=e=>w(e,`folder`,t.folder),onDragleave:T,onDragover:S,onDrop:r[6]||=e=>E(e,`folder`,t.folder)},[U(`div`,{class:q([`chevron`,{expanded:t.folder.expanded}])},[...r[20]||=[U(`svg`,{width:`14`,height:`14`,viewBox:`0 0 16 16`,fill:`none`},[U(`path`,{d:`M6 5l4 3-4 3`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`})],-1)]],2),r[23]||=U(`div`,{class:`icon folder-icon`},[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 16 16`,fill:`none`},[U(`path`,{d:`M14.5 5.5v7a1 1 0 01-1 1h-11a1 1 0 01-1-1v-8a1 1 0 011-1h4l1.5 1.5h5.5a1 1 0 011 1z`,fill:`#fbbf24`}),U(`path`,{d:`M6.5 3.5h-4a1 1 0 00-1 1v1h6v-1.5a.5.5 0 00-.5-.5h-1l.5-.5z`,fill:`#f59e0b`})])],-1),u.value?a((l(),V(`input`,{key:0,"onUpdate:modelValue":r[0]||=e=>s.value=e,class:`rename-input`,onBlur:h,onKeydown:g,onClick:r[1]||=He(()=>{},[`stop`])},null,544)),[[f],[e,s.value]]):(l(),V(`div`,tL,B(t.folder.name),1)),U(`div`,nL,[U(`button`,{onClick:r[2]||=He(e=>n.$emit(`create-workflow`,t.folder.id),[`stop`]),class:`action-btn`,title:``},[...r[21]||=[U(`svg`,{width:`14`,height:`14`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M8 3v10M3 8h10`,stroke:`currentColor`,"stroke-width":`1.5`})],-1)]]),U(`button`,{onClick:r[3]||=He(e=>n.$emit(`delete-folder`,t.folder.id),[`stop`]),class:`action-btn delete`,title:``},[...r[22]||=[U(`svg`,{width:`14`,height:`14`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M11 3h3v1h-1v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4H2V3h3V2a1 1 0 011-1h4a1 1 0 011 1v1z`})],-1)]])])],38),t.dropTarget?.id===t.folder.id&&t.dropPosition===`after`&&t.draggingItem?.id!==t.folder.id?(l(),V(`div`,rL)):L(``,!0),t.folder.expanded?(l(),V(`div`,iL,[(l(!0),V(G,null,Le(t.folder.workflows,i=>(l(),V(`div`,{key:i.id,class:`workflow-item-wrapper`},[t.dropTarget?.id===i.id&&t.dropPosition===`before`&&t.draggingItem?.id!==i.id?(l(),V(`div`,aL)):L(``,!0),U(`div`,{class:q([`tree-row workflow-row`,{active:i.id===t.currentWorkflowId,"drag-over":t.dropTarget?.id===i.id&&t.dropPosition===`inside`}]),style:Je({paddingLeft:`${(t.level+1)*12+8}px`}),tabindex:0,draggable:`true`,onClick:e=>_(i.id),onKeydown:e=>v(e,i),onDragstart:e=>x(e,`workflow`,i),onDragenter:e=>w(e,`workflow`,i),onDragleave:T,onDragover:e=>C(e,i),onDrop:e=>E(e,`workflow`,i)},[r[25]||=U(`div`,{class:`chevron-spacer`},null,-1),r[26]||=U(`div`,{class:`icon`},[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M4 2a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V6.414A2 2 0 0013.414 5L11 2.586A2 2 0 009.586 2H4zm5 2v3h3l-3-3z`})])],-1),d(i.id)?a((l(),V(`input`,{key:0,"onUpdate:modelValue":r[7]||=e=>c.value=e,class:`rename-input`,onBlur:e=>y(i.id,i.title),onKeydown:e=>b(e,i.id,i.title),onClick:r[8]||=He(()=>{},[`stop`])},null,40,sL)),[[f],[e,c.value]]):(l(),V(`div`,cL,B(i.title),1)),U(`div`,lL,[U(`button`,{onClick:He(e=>n.$emit(`delete-workflow`,i.id),[`stop`]),class:`action-btn delete`,title:``},[...r[24]||=[U(`svg`,{width:`14`,height:`14`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M11 3h3v1h-1v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4H2V3h3V2a1 1 0 011-1h4a1 1 0 011 1v1z`})],-1)]],8,uL)])],46,oL),t.dropTarget?.id===i.id&&t.dropPosition===`after`&&t.draggingItem?.id!==i.id?(l(),V(`div`,dL)):L(``,!0)]))),128)),(l(!0),V(G,null,Le(t.folder.subfolders,e=>(l(),K(i,{key:e.id,folder:e,"current-workflow-id":t.currentWorkflowId,level:t.level+1,"is-last-child":!1,"dragging-item":t.draggingItem,"drop-target":t.dropTarget,"drop-position":t.dropPosition,onSelectWorkflow:r[9]||=e=>n.$emit(`select-workflow`,e),onCreateWorkflow:r[10]||=e=>n.$emit(`create-workflow`,e),onDeleteWorkflow:r[11]||=e=>n.$emit(`delete-workflow`,e),onDeleteFolder:r[12]||=e=>n.$emit(`delete-folder`,e),onRenameWorkflow:r[13]||=(e,t)=>n.$emit(`rename-workflow`,e,t),onRenameFolder:r[14]||=(e,t)=>n.$emit(`rename-folder`,e,t),onToggleFolder:r[15]||=e=>n.$emit(`toggle-folder`,e),onDragStart:r[16]||=(e,t)=>n.$emit(`drag-start`,e,t),onDragEnter:r[17]||=(e,t,r)=>n.$emit(`drag-enter`,e,t,r),onDragLeave:r[18]||=e=>n.$emit(`drag-leave`),onDrop:r[19]||=(e,t)=>n.$emit(`drop`,e,t)},null,8,[`folder`,`current-workflow-id`,`level`,`dragging-item`,`drop-target`,`drop-position`]))),128))])):L(``,!0)])}}}),pL=W(fL,[[`__scopeId`,`data-v-2fd9e774`]]),mL=`workflow-folders`,hL=`workflow-last-edited`;function gL(){try{let e=localStorage.getItem(mL);if(e){let t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return t}}catch(e){console.error(`:`,e)}return[{id:`folder-default`,name:``,expanded:!0,workflows:[],subfolders:[]}]}function _L(e){try{localStorage.setItem(hL,e)}catch(e){console.error(`:`,e)}}function vL(){try{return localStorage.getItem(hL)}catch(e){return console.error(`:`,e),null}}function yL(e){try{localStorage.setItem(mL,JSON.stringify(e))}catch(e){console.error(`:`,e)}}const bL=he(`workflow`,()=>{let e=F(gL()),t=F(null);e.value.length===0&&(e.value.push({id:`folder-default`,name:``,expanded:!0,workflows:[],subfolders:[]}),yL(e.value));let n=I(()=>t.value?r(t.value):null);function r(t){function n(e){let r=e.workflows.find(e=>e.id===t);if(r)return r;if(e.subfolders)for(let t of e.subfolders){let e=n(t);if(e)return e}return null}for(let t of e.value){let e=n(t);if(e)return e}return null}function i(t){function n(e){if(e.id===t)return e;if(e.subfolders)for(let t of e.subfolders){let e=n(t);if(e)return e}return null}for(let t of e.value){let e=n(t);if(e)return e}return null}function a(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function o(t){let n=t?i(t):e.value[0];if(!n)return console.warn(` ${t||`()`}`),``;let r={id:a(`workflow`),title:` ${n.workflows.length+1}`,data:{nodes:[],edges:[]},createdAt:Date.now(),updatedAt:Date.now()};return n.workflows.push(r),yL(e.value),r.id}function s(n){function r(e){let t=e.workflows.findIndex(e=>e.id===n);if(t!==-1)return e.workflows.splice(t,1),!0;if(e.subfolders){for(let t of e.subfolders)if(r(t))return!0}return!1}for(let i of e.value)if(r(i))return t.value===n&&(t.value=null),yL(e.value),!0;return!1}function c(t,n){let i=r(t);return i?(i.title=n,i.updatedAt=Date.now(),yL(e.value),!0):!1}function l(t,n){let i=r(t);return i?(i.data=n,i.updatedAt=Date.now(),yL(e.value),!0):!1}function u(e){let n=r(e);return n?(t.value=e,_L(e),n):null}function d(){let t=[];function n(e){t.push(...e.workflows),e.subfolders&&e.subfolders.forEach(n)}return e.value.forEach(n),t}function f(){if(t.value)return t.value;let e=vL();if(e&&r(e))return t.value=e,e;let n=d();if(n.length>0){let e=n[0];if(e)return t.value=e.id,_L(e.id),e.id}let i=o();return i?(t.value=i,_L(i),i):null}function p(){let t={id:a(`folder`),name:` ${e.value.length+1}`,expanded:!0,workflows:[],subfolders:[]};return e.value.push(t),yL(e.value),t.id}function m(t){if(e.value.length===1&&e.value[0]?.id===t)return console.warn(``),!1;function n(e,t){if(!e)return!1;let r=e.findIndex(e=>e.id===t);if(r!==-1)return e.splice(r,1),!0;for(let r of e)if(r.subfolders&&n(r.subfolders,t))return!0;return!1}return n(e.value,t)?(yL(e.value),!0):!1}function h(t,n){let r=i(t);return r?(r.name=n,yL(e.value),!0):!1}function g(t){t.expanded=!t.expanded,yL(e.value)}function _(t,n,a,o){let s=r(t);if(!s)return!1;let c={...s};function l(e){for(let n of e){let e=n.workflows.findIndex(e=>e.id===t);if(e!==-1)return n.workflows.splice(e,1),!0;if(n.subfolders&&l(n.subfolders))return!0}return!1}if(!l(e.value))return!1;if(a===`folder`){let t=i(n);if(!t)return e.value[0]?.workflows.push(c),!1;if(o===`inside`)t.workflows.unshift(c);else{let r=t;function i(e){if(e.findIndex(e=>e.id===n)!==-1)return r.workflows.unshift(c),!0;for(let t of e)if(t.subfolders){if(t.subfolders.findIndex(e=>e.id===n)!==-1){let e=o===`before`?0:t.workflows.length;return t.workflows.splice(e,0,c),!0}if(i(t.subfolders))return!0}return!1}i(e.value)||r.workflows.push(c)}}else{function t(e){for(let r of e){let e=r.workflows.findIndex(e=>e.id===n);if(e!==-1){let t=o===`before`?e:e+1;return r.workflows.splice(t,0,c),!0}if(r.subfolders&&t(r.subfolders))return!0}return!1}if(!t(e.value))return e.value[0]?.workflows.push(c),!1}return yL(e.value),!0}function v(t,n,r,a){let o=i(t);if(!o)return!1;function s(e,t){if(e.id===t)return!0;if(!e.subfolders)return!1;for(let n of e.subfolders)if(s(n,t))return!0;return!1}if(s(o,n))return console.warn(``),!1;function c(e){let n=e.findIndex(e=>e.id===t);if(n!==-1)return e.splice(n,1)[0];for(let t of e)if(t.subfolders){let e=c(t.subfolders);if(e)return e}}let l=c(e.value);if(!l)return!1;if(r===`folder`){let t=i(n);if(!t)return e.value.push(l),!1;if(a===`inside`)t.subfolders||=[],t.subfolders.unshift(l);else{let t=l;function r(e){let i=e.findIndex(e=>e.id===n);if(i!==-1){let n=a===`before`?i:i+1;return e.splice(n,0,t),!0}for(let t of e)if(t.subfolders&&r(t.subfolders))return!0;return!1}if(!r(e.value))return e.value.push(t),!1}}else{let t=l;function r(e){for(let i of e){if(i.workflows.findIndex(e=>e.id===n)!==-1)return i.subfolders||=[],i.subfolders.unshift(t),!0;if(i.subfolders&&r(i.subfolders))return!0}return!1}if(!r(e.value))return e.value.push(t),!1}return yL(e.value),!0}return{folders:e,currentWorkflowId:t,currentWorkflow:n,createWorkflow:o,deleteWorkflow:s,renameWorkflow:c,saveWorkflowData:l,selectWorkflow:u,initializeWorkflow:f,getAllWorkflows:d,createFolder:p,deleteFolder:m,renameFolder:h,toggleFolder:g,moveWorkflow:_,moveFolder:v,findWorkflow:r,findFolder:i}});var xL={class:`workflow-tree-container`},SL={class:`tree-header`},CL={class:`search-box`},wL={class:`tree-content`},TL={key:0,class:`empty-state`},EL={class:`empty-text`},DL={key:0,class:`drag-ghost`},OL={width:`16`,height:`16`,viewBox:`0 0 16 16`,fill:`currentColor`,class:`ghost-icon`},kL={key:0,d:`M7 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1H8.5L7 3z`},AL={key:1,d:`M4 2a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V6.414A2 2 0 0013.414 5L11 2.586A2 2 0 009.586 2H4zm5 2v3h3l-3-3z`},jL=W(z({__name:`WorkflowFileTree`,emits:[`close`],setup(t,{emit:n}){let r=bL(),{folders:i,currentWorkflowId:o}=pe(r),s=F(``),c=F(null),u=F(null),d=F(null),f=I(()=>{if(!s.value)return i.value;let e=s.value.toLowerCase();function t(n){let r=n.workflows.filter(t=>t.title.toLowerCase().includes(e)),i=(n.subfolders||[]).map(t).filter(e=>e!==null);return r.length>0||i.length>0?{...n,workflows:r,subfolders:i,expanded:!0}:null}return i.value.map(t).filter(e=>e!==null)});function p(e){r.toggleFolder(e)}function m(e){r.selectWorkflow(e)}function h(e){let t=typeof e==`string`?e:void 0,n=r.createWorkflow(t);n&&r.selectWorkflow(n)}function g(e){confirm(``)&&r.deleteWorkflow(e)}function _(e,t){r.renameWorkflow(e,t)}function v(){r.createFolder()}function y(e){confirm(``)&&r.deleteFolder(e)}function b(e,t){r.renameFolder(e,t)}function x(e,t){c.value=e;let n=document.createElement(`div`);n.style.opacity=`0`,document.body.appendChild(n),t.dataTransfer?.setDragImage(n,0,0),setTimeout(()=>document.body.removeChild(n),0);let r=()=>{c.value=null,u.value=null,d.value=null,document.removeEventListener(`dragend`,r)};document.addEventListener(`dragend`,r)}function S(e,t,n){if(!c.value)return;if(c.value.id===e.id){u.value=null,d.value=null;return}let r=t;c.value.type===`workflow`&&e.type===`folder`&&(r=`inside`),u.value=e,d.value=r}function C(){}function w(e,t){if(!c.value)return;let n=c.value.type,i=c.value.id,a=e.type,o=e.id;if(i===o){c.value=null,u.value=null,d.value=null;return}n===`workflow`?r.moveWorkflow(i,o,a,t):n===`folder`&&r.moveFolder(i,o,a,t),c.value=null,u.value=null,d.value=null}return(t,n)=>(l(),V(`div`,xL,[U(`div`,SL,[n[3]||=U(`h3`,{class:`tree-title`},``,-1),U(`button`,{class:`close-btn`,onClick:n[0]||=e=>t.$emit(`close`),title:``},[...n[2]||=[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[U(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),U(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})],-1)]])]),U(`div`,{class:`toolbar`},[U(`button`,{onClick:h,class:`tool-btn`,title:``},[...n[4]||=[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M14 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zm-1 8H3V5h10v6z`}),U(`path`,{d:`M8 6v4M6 8h4`,stroke:`currentColor`,"stroke-width":`1.5`})],-1)]]),U(`button`,{onClick:v,class:`tool-btn`,title:``},[...n[5]||=[U(`svg`,{width:`16`,height:`16`,viewBox:`0 0 16 16`,fill:`currentColor`},[U(`path`,{d:`M7 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1H8.5L7 3z`})],-1)]])]),U(`div`,CL,[n[6]||=U(`svg`,{width:`14`,height:`14`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,class:`search-icon`},[U(`circle`,{cx:`11`,cy:`11`,r:`8`}),U(`path`,{d:`m21 21-4.35-4.35`})],-1),a(U(`input`,{"onUpdate:modelValue":n[1]||=e=>s.value=e,type:`text`,placeholder:`...`,class:`search-input`},null,512),[[e,s.value]])]),U(`div`,wL,[f.value.length===0?(l(),V(`div`,TL,[n[7]||=U(`svg`,{width:`48`,height:`48`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`1.5`},[U(`path`,{d:`M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z`})],-1),U(`p`,EL,B(s.value?``:``),1),s.value?L(``,!0):(l(),V(`button`,{key:0,onClick:h,class:`create-btn`},`  `))])):L(``,!0),(l(!0),V(G,null,Le(f.value,(e,t)=>(l(),K(pL,{key:e.id,folder:e,"current-workflow-id":R(o),level:0,"is-last-child":t===f.value.length-1,"dragging-item":c.value,"drop-target":u.value,"drop-position":d.value,onSelectWorkflow:m,onCreateWorkflow:h,onDeleteWorkflow:g,onDeleteFolder:y,onRenameWorkflow:_,onRenameFolder:b,onToggleFolder:p,onDragStart:x,onDragEnter:S,onDragLeave:C,onDrop:w},null,8,[`folder`,`current-workflow-id`,`is-last-child`,`dragging-item`,`drop-target`,`drop-position`]))),128))]),c.value?(l(),V(`div`,DL,[(l(),V(`svg`,OL,[c.value.type===`folder`?(l(),V(`path`,kL)):(l(),V(`path`,AL))])),Ge(` `+B(c.value.name),1)])):L(``,!0)]))}}),[[`__scopeId`,`data-v-d9dfba11`]]);function ML(e){let t=ot(`workflowEmitter`);if(!t)throw Error(`workflowEmitter not provided. Make sure it's provided in main.ts`);let n=t,r=Me(),i=F(null),a=F(new Map),o=F(new Map),s=F(new Map),c=F(new Map),l=F(new Map),u=I(()=>typeof e==`string`?e:e?.value||``);function f(e){return i.value?e.executionId===i.value:a.value.get(e.executionId)?.workflowId===u.value}function p(e){o.value.has(e)||o.value.set(e,new Map)}function m(e){s.value.has(e)||s.value.set(e,new Set)}function h(e){let t=a.value.get(e),n=o.value.get(e),r=s.value.get(e);if(!t||!n)return null;let i={};n.forEach((e,t)=>{i[t]=e});let c;return n.forEach((e,t)=>{e.status===`running`&&(c=t)}),{context:t,nodes:i,activeEdges:r?Array.from(r):[],snapshotTime:Date.now(),currentNodeId:c}}function g(e){let t=h(e);if(t&&(c.value.set(e,t),c.value.size>5)){let e=Array.from(c.value.keys())[0];e&&c.value.delete(e)}}function _(e){let t={executionId:e.executionId,workflowId:e.workflowId,mode:e.mode,startTime:e.timestamp,status:`running`};a.value.set(e.executionId,t);let n=e.workflowId===u.value;console.log(`[WorkflowExecution]  ID :`,`\n   ID: ${e.workflowId}`,`\n   ID: ${u.value}`,`\n  : ${n}`),n?(i.value=e.executionId,console.log(`[WorkflowExecution]   ID: ${e.executionId}`)):console.warn(`[WorkflowExecution]    ID `),p(e.executionId),m(e.executionId),console.log(`[WorkflowExecution] : ${e.executionId}`)}function v(e){if(!f(e))return;let t=a.value.get(e.executionId);t&&(t.status=`completed`,a.value.set(e.executionId,t)),g(e.executionId),console.log(`[WorkflowExecution] : ${e.executionId}, : ${e.duration}ms`)}function y(e){if(!f(e))return;let t=a.value.get(e.executionId);t&&(t.status=`error`,a.value.set(e.executionId,t)),console.error(`[WorkflowExecution] : ${e.executionId}`,e.error);let n=e.error.nodeId?` ${e.error.nodeId} `:``,i=e.error.stack||void 0;r.showError(n,e.error.message,i)}function b(e){if(!f(e))return;p(e.executionId);let t=o.value.get(e.executionId),n=t.get(e.nodeId),r={nodeId:e.nodeId,status:e.status,startTime:n?.startTime||e.timestamp,endTime:e.status===`success`||e.status===`error`?e.timestamp:void 0,output:e.output,error:e.error};t.set(e.nodeId,r),console.log(`${{pending:``,running:``,success:``,error:``,skipped:``}[e.status]||``}  ${e.nodeId}: ${e.status}`,e.duration?`: ${e.duration}ms`:``,e.output?e.output:``),(e.status===`success`||e.status===`error`)&&g(e.executionId)}function x(e){if(!f(e))return;p(e.executionId);let t=o.value.get(e.executionId),n=t.get(e.nodeId);n&&(n.progress=e.progress,t.set(e.nodeId,n))}function S(e){if(!f(e))return;p(e.executionId);let t=o.value.get(e.executionId),n=t.get(e.nodeId);n&&(n.logs||=[],n.logs.push({level:e.level,message:e.message,timestamp:e.timestamp}),t.set(e.nodeId,n))}function C(e){if(!f(e))return;p(e.executionId);let t=`${e.executionId}:${e.forNodeId}`;l.value.set(t,{total:e.totalIterations,completed:0});let n=o.value.get(e.executionId),r=n.get(e.forNodeId);r&&(r.progress=e.totalIterations===0?100:0,n.set(e.forNodeId,r)),console.log(`[WorkflowExecution] : ${e.forNodeId},  ${e.totalIterations}`)}function w(e){f(e)&&console.log(`[WorkflowExecution] : ${e.forNodeId},  ${e.iterationIndex+1} `,e.variables)}function T(e){if(!f(e))return;let t=`${e.executionId}:${e.forNodeId}`,n=l.value.get(t);if(n){n.completed=Math.max(n.completed,e.iterationIndex+1),l.value.set(t,n);let r=o.value.get(e.executionId);if(r){let t=r.get(e.forNodeId);t&&n.total>0&&(t.progress=Math.min(100,Math.round(n.completed/n.total*100)),r.set(e.forNodeId,t))}}console.log(`[WorkflowExecution] : ${e.forNodeId},  ${e.iterationIndex+1} , : ${e.status}`)}function E(e){if(!f(e))return;let t=`${e.executionId}:${e.forNodeId}`;l.value.delete(t);let n=o.value.get(e.executionId);if(n){let t=n.get(e.forNodeId);t&&(t.progress=100,n.set(e.forNodeId,t))}console.log(`[WorkflowExecution] : ${e.forNodeId},  ${e.successCount} ,  ${e.errorCount} `)}function D(e){if(!f(e))return;m(e.executionId);let t=s.value.get(e.executionId);t.add(e.edgeId),setTimeout(()=>{t.delete(e.edgeId)},500)}function O(e){let{executionId:t,snapshot:n}=e;a.value.set(t,n.context);let r=new Map;Object.entries(n.nodes).forEach(([e,t])=>{r.set(e,t)}),o.value.set(t,r);let c=new Set(n.activeEdges);s.value.set(t,c),n.context.workflowId===u.value&&(i.value=t),console.log(`[WorkflowExecution] : ${t}`)}function k(e){return o.value.get(e)}function A(e,t){return o.value.get(e)?.get(t)}function ee(e){return s.value.get(e)}function j(e,t){return s.value.get(e)?.has(t)||!1}function M(e,t){n.emit(Ft.RESTORE_REQUEST,{executionId:e,workflowId:t,requestTime:Date.now()})}function N(e){a.value.delete(e),o.value.delete(e),s.value.delete(e),c.value.delete(e),i.value===e&&(i.value=null)}function te(){let e=[];a.value.forEach((t,n)=>{(t.status===`completed`||t.status===`error`)&&e.push(n)}),e.forEach(e=>{N(e)}),console.log(`[WorkflowExecution]  ${e.length} `)}return oe(()=>{n.on(Ft.STARTED,_),n.on(Ft.COMPLETED,v),n.on(Ft.ERROR,y),n.on(Ft.NODE_STATUS,b),n.on(Ft.NODE_PROGRESS,x),n.on(Ft.NODE_LOG,S),n.on(Ft.EDGE_ACTIVE,D),n.on(Ft.RESTORE_DATA,O),n.on(Ft.LOOP_STARTED,C),n.on(Ft.ITERATION_STARTED,w),n.on(Ft.ITERATION_COMPLETED,T),n.on(Ft.LOOP_COMPLETED,E),console.log(`[WorkflowExecution] `)}),d(()=>{n.off(Ft.STARTED,_),n.off(Ft.COMPLETED,v),n.off(Ft.ERROR,y),n.off(Ft.NODE_STATUS,b),n.off(Ft.NODE_PROGRESS,x),n.off(Ft.NODE_LOG,S),n.off(Ft.EDGE_ACTIVE,D),n.off(Ft.RESTORE_DATA,O),n.off(Ft.LOOP_STARTED,C),n.off(Ft.ITERATION_STARTED,w),n.off(Ft.ITERATION_COMPLETED,T),n.off(Ft.LOOP_COMPLETED,E),console.log(`[WorkflowExecution] `)}),{activeExecutionId:I(()=>i.value),executions:I(()=>a.value),getNodeStates:k,getNodeState:A,getActiveEdges:ee,isEdgeActive:j,requestRestore:M,clearExecution:N,clearCompletedExecutions:te}}var NL={class:`flex w-screen h-screen bg-linear-to-br from-slate-50 to-slate-100`},PL={class:`flex-1 flex relative overflow-hidden`},FL={key:0,class:`absolute left-0 top-0 h-full z-30`},IL={class:`absolute bottom-4 left-4 flex gap-3 z-5 px-3 py-2 rounded-lg`},LL={class:`flex items-center gap-1 text-xs`},RL={class:`text-slate-600 font-semibold`},zL={class:`flex items-center gap-1 text-xs`},BL={class:`text-slate-600 font-semibold`},VL={class:`flex items-center gap-1 text-xs`},HL={class:`text-slate-600 font-semibold`},UL={key:1,class:`absolute bottom-5 left-1/2 -translate-x-1/2 flex gap-1.5 px-1.5 py-1.5 bg-white/95 backdrop-blur-xl border border-slate-200 rounded-md shadow-lg z-5`},WL={key:0,class:`w-4 h-4 rounded-full border-2 border-white/70 border-t-transparent animate-spin`},GL=W(z({__name:`NodeEditor`,setup(e){N(e=>({v4520e722:R(s).edgeDragColor,v239ff1a8:R(s).edgeStrokeWidth+`px`,v346da0a5:R(s).backgroundColor,v9f7bb514:R(s).edgeColor,ecc42eca:R(s).edgeSelectedColor,d59889de:R(s).edgeStrokeWidth+1+`px`,b8425052:R(s).edgeStrokeWidth+.5+`px`}));let t=UC(),{nodes:n,edges:r,isExecutingWorkflow:i,selectedNodeId:a}=pe(t),o=MO(),{config:s}=pe(o),c=bL(),{currentWorkflow:u}=pe(c),f=I(()=>u.value?.id||`default-workflow`),p=ML(f),m=null;function h(){let e=p.activeExecutionId.value;if(!e){n.value.forEach(e=>{e.data&&e.data.executionStatus&&(e.data.executionStatus=void 0)});return}let t=p.getNodeStates(e);t&&n.value.forEach(e=>{let n=t.get(e.id);if(n&&e.data){if(e.data.executionStatus!==n.status&&(e.data.executionStatus=n.status),n.status===`success`&&n.output){let t=n.endTime&&n.startTime?n.endTime-n.startTime:0;e.data.result={status:`success`,duration:t,timestamp:n.endTime||Date.now(),...n.output},e.data.resultExpanded===void 0&&(e.data.resultExpanded=!1)}n.status===`error`&&n.error&&(e.data.executionError=n.error.message)}})}function g(){let e=p.activeExecutionId.value;if(!e){r.value.forEach(e=>{e.data&&e.data.isActive&&(e.data={...e.data,isActive:!1})});return}let t=p.getActiveEdges(e);t&&r.value.forEach(e=>{let n=t.has(e.id),r=e.data?.isActive||!1;n!==r&&(e.data={...e.data||{},isActive:n})})}function _(){h(),g()}oe(()=>{m=window.setInterval(_,100)});let v=Dm(),{getIntersectingNodes:y,getSelectedNodes:b,addSelectedNodes:x,removeSelectedElements:S,nodesSelectionActive:C}=v,w=I({get:()=>v.multiSelectionActive?.value??!1,set:e=>{v.multiSelectionActive&&(v.multiSelectionActive.value=e)}}),E=F(!1),D=F(0),O=F(s.value.showMiniMap),k=F(),A=F(null);T(()=>a.value,e=>{e&&A.value===`folders`&&(A.value=`nodes`)}),T(()=>u.value,e=>{e&&e.data?t.loadWorkflowData(e.data.nodes,e.data.edges):t.clearCanvas()},{immediate:!0}),T(()=>[n.value,r.value],()=>{c.currentWorkflowId&&(ee.value&&clearTimeout(ee.value),ee.value=setTimeout(()=>{c.saveWorkflowData(c.currentWorkflowId,{nodes:n.value,edges:r.value})},500))},{deep:!0});let ee=F(null),j=F(null),M=F(null),te=F(!1),ne=new Map,re=new Map,ie=F(null);if(typeof window<`u`){let e=`__NODE_EDITOR_DEBUG__`,n={get store(){return t},get lastExecutionLog(){return t.lastExecutionLog??null},get isExecutingWorkflow(){return t.isExecutingWorkflow??!1},get nodes(){return t.nodes??[]},get edges(){return t.edges??[]}};Object.defineProperty(window,e,{configurable:!0,enumerable:!1,get(){return n}}),rt(()=>{window&&Object.prototype.hasOwnProperty.call(window,e)&&delete window[e]})}let ae=F([]);function se(e){if(!(e instanceof HTMLElement))return!1;let t=e.tagName;if(t===`INPUT`||t===`TEXTAREA`||e.isContentEditable)return!0;let n=e.getAttribute(`role`);return n===`textbox`||n===`combobox`||n===`searchbox`?!0:!!e.closest(`[contenteditable="true"]`)}function ce(){let e=document.activeElement;return e?!se(e):!0}function le(e,n,r=`normal`){if(!e)return;let i=ne.get(e);if(n){if(i===r)return;ne.set(e,r),t.setContainerHighlight(e,!0,r);return}i!==void 0&&(ne.delete(e),t.setContainerHighlight(e,!1))}function ue(e){return r.value.some(t=>t.source===e||t.target===e)}function de(e,t=`normal`){j.value!==e&&(j.value&&le(j.value,!1),j.value=e,e&&le(e,!0,t))}Ii(window,`keydown`,e=>{if(e.key===`F2`){if(t.renamingNodeId){e.preventDefault();return}if(se(e.target))return;let n=t.selectedNodeId;n&&(e.preventDefault(),t.startRenamingNode(n));return}te.value||(e.key===`Control`||e.ctrlKey)&&(te.value=!0)}),Ii(window,`mousemove`,e=>{let t=k.value;if(!t)return;let n=t.$el;if(!n)return;let r=e.target;if(!r||!n.contains(r))return;let i=t.project?.({x:e.clientX,y:e.clientY});i&&(ie.value=i)});function me(e=!1){if(!M.value)return;let n=M.value;M.value=null,le(n.containerId,!1),j.value===n.containerId&&(j.value=null),t.finalizeNodeDetachFromContainer(n.nodeId,{keepInContainer:!0,recordHistory:e})}Ii(window,`keyup`,e=>{te.value&&(e.ctrlKey||(me(!1),te.value=!1))}),Ii(window,`blur`,()=>{me(!1),te.value=!1});let he=null,_e=null;T(()=>t.isNodeEditorVisible,e=>{e&&A.value===`settings`&&(A.value=null)});let ve=0,ye=performance.now(),be;oe(()=>{c.initializeWorkflow(),P(()=>{setTimeout(()=>{t.initializeHistory()},100)}),be=window.setInterval(()=>{let e=performance.now(),t=e-ye;D.value=Math.round(ve*1e3/t),ve=0,ye=e},1e3);let e=()=>{ve++,requestAnimationFrame(e)};requestAnimationFrame(e),he=v.onNodeDrag(({node:e})=>{if(!e||!e.id)return;let n=e.position??{x:0,y:0},r=re.get(e.id);if(r&&r.x===n.x&&r.y===n.y)return;re.set(e.id,{x:n.x,y:n.y}),t.handleNodeDrag(e.id,n);let i=t.nodes.find(t=>t.id===e.id),a=y(e),o=a.filter(e=>e.type===`loopContainer`);if(!(M.value&&M.value.nodeId===e.id&&M.value)&&te.value&&i?.parentNode){let n=t.beginNodeDetachFromContainer(e.id);n&&(M.value={nodeId:e.id,containerId:n,isIntersecting:!0},de(null),le(n,!0,`normal`),o=o.filter(e=>e.id!==n))}let s=M.value&&M.value.nodeId===e.id?M.value:null;if(s){let e=a.some(e=>e.id===s.containerId);s.isIntersecting=e;let t=e?`normal`:`warning`;le(s.containerId,!0,t),o=o.filter(e=>e.id!==s.containerId),de(null)}else if(i?.parentNode){de(null);return}let c=o.length>0?o[0]?.id??null:null,l=ue(e.id)?`warning`:`normal`;de(c??null,l)}),_e=v.onNodeDragStop(({node:e})=>{if(!e||!e.id)return;re.delete(e.id);let n=e.position??{x:0,y:0};t.handleNodeDragStop(e.id,n);let r=M.value&&M.value.nodeId===e.id?M.value:null;if(r){le(r.containerId,!1);let n=y(e).some(e=>e.id===r.containerId);if(t.finalizeNodeDetachFromContainer(e.id,{keepInContainer:n}),M.value=null,n){de(null);return}}let i=j.value;i&&(de(null),ue(e.id)||t.moveNodeIntoContainer(e.id,i))}),typeof window<`u`&&(window.__nodeEditorDebug={getHistory:()=>{let e=t.getHistoryDebugInfo();return console.log(`===  ===`),console.log(`: ${e.totalRecords}`),console.log(`: ${e.currentIndex}`),console.log(`: ${e.canUndo}`),console.log(`: ${e.canRedo}`),console.log(`
:`),console.table(e.records),e},getFullHistory:()=>t.historyRecords,getCurrentState:()=>({nodes:t.nodes,edges:t.edges,nodesCount:t.nodes.length,edgesCount:t.edges.length}),testUndo:()=>{t.canUndo?(t.undo(),console.log(` `)):console.log(` `)},testRedo:()=>{t.canRedo?(t.redo(),console.log(` `)):console.log(` `)},help:()=>{console.log(`
===  ===

:
  __nodeEditorDebug.getHistory()       - 
  __nodeEditorDebug.getFullHistory()   - 
  __nodeEditorDebug.getCurrentState()  - 
  __nodeEditorDebug.testUndo()         - 
  __nodeEditorDebug.testRedo()         - 
  __nodeEditorDebug.help()             - 

:
  __nodeEditorDebug.getHistory()
        `)}},console.log(`%c`,`color: #10b981; font-weight: bold; font-size: 14px;`),console.log(`%c __nodeEditorDebug.help() `,`color: #6366f1; font-size: 12px;`))}),d(()=>{be&&clearInterval(be),m&&clearInterval(m),he?.off(),_e?.off(),ne.forEach((e,n)=>{t.setContainerHighlight(n,!1)}),ne.clear(),de(null),M.value=null,re.clear(),typeof window<`u`&&delete window.__nodeEditorDebug});let xe=Ji(),Se=xe[`Ctrl+Z`],Ce=xe[`Ctrl+Y`],we=xe[`Ctrl+Shift+Z`],Te=xe[`Ctrl+C`],Ee=xe[`Ctrl+V`],De=xe.Delete,Oe=xe.Escape,ke=xe.Shift;T(ke,e=>{w.value=!!e}),Ni(Se,()=>{t.canUndo&&je()}),Ni(Ce,()=>{t.canRedo&&z()}),Ni(we,()=>{t.canRedo&&z()});function Ae(){let e=k.value;if(!e)return{x:0,y:0};let t=e.$el;if(t){let n=t.getBoundingClientRect();return e.project({x:n.left+n.width/2,y:n.top+n.height/2})}return e.project({x:window.innerWidth/2,y:window.innerHeight/2})}Ni(Te,()=>{if(!ce())return;let e=b.value??[];e.length&&t.copyNodesToClipboard(e.map(e=>e.id))}),Ni(Ee,()=>{if(!ce()||!t.hasClipboardData())return;let e=ie.value??Ae(),r=t.pasteClipboardNodes(e);r.length!==0&&(S(),P(()=>{setTimeout(()=>{let e=n.value.filter(e=>r.includes(e.id));if(e.length>0){x(e),ae.value=[...r],e.length>1&&(C.value=!0),e.forEach(e=>{k.value?.updateNodeInternals?.(e.id)});let n=r[r.length-1];n&&t.selectNode(n)}},200)}))}),Ni(De,()=>{if(!ce())return;let e=b.value??[];e.length&&e.forEach(e=>{t.removeNode(e.id)})}),Ni(Oe,()=>{ce()&&(b.value??[]).length&&(S(),ae.value=[],C.value=!1,t.selectNode(null))});function je(){t.undo()}function z(){t.redo()}function Me(){r.value.forEach(e=>{e.type=s.value.edgeType,e.animated=s.value.edgeAnimated,e.style={...e.style,stroke:s.value.edgeColor,strokeWidth:s.value.edgeStrokeWidth}})}T(()=>[s.value.edgeType,s.value.edgeColor,s.value.edgeStrokeWidth,s.value.edgeAnimated,s.value.edgeSelectedColor],()=>{Me()},{immediate:!0}),T(()=>r.value.length,()=>{Me()});function Ne(e){A.value===e?A.value=null:A.value=e}function Pe(){A.value=null}function Fe(e){if(e.preventDefault(),e.dataTransfer)try{let n=JSON.parse(e.dataTransfer.getData(`application/vueflow`));if(!n.type)return;let r=k.value;if(!r)return;let i=r.project({x:e.clientX,y:e.clientY}),a=Ie(i),o=i,s={};if(a){let e=a,t=e.positionAbsolute?.x??a.position.x,n=e.positionAbsolute?.y??a.position.y;o={x:i.x-t,y:i.y-n},s.parentNodeId=a.id}t.createNodeByType(n.type,o,s)}catch(e){console.error(`:`,e)}}function Ie(e){let t=n.value??[];for(let n of t){if(n.type!==`loopContainer`)continue;let t=n,r=t.data?.config?.headerHeight??Tx.containerDefaults.headerHeight,i=t.data?.config?.padding??{x:Tx.containerDefaults.padding.left,y:Tx.containerDefaults.padding.top},a=t.dimensions?.width??t.width??t.data?.width??0,o=t.dimensions?.height??t.height??t.data?.height??0,s=t.positionAbsolute?.x??n.position.x,c=t.positionAbsolute?.y??n.position.y,l=i.x??Tx.containerDefaults.padding.left,u=i.y??Tx.containerDefaults.padding.top,d=s+l,f=s+a-l,p=c+r+u,m=c+o-u;if(e.x>=d&&e.x<=f&&e.y>=p&&e.y<=m)return n}return null}function Le(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=`copy`)}function Re(e){if(E.value)return;let n=[];e.forEach(e=>{if(e.type===`select`){n.push(e);return}e.type===`dimensions`&&`id`in e&&e.dimensions?t.updateNodeDimensions(e.id,e.dimensions):e.type===`position`&&`id`in e&&e.position?t.updateNodePosition(e.id,e.position,e.dragging===!0):e.type===`remove`&&`id`in e&&t.removeNode(e.id)}),n.length!==0&&P(()=>{let e=b.value??[];ae.value=e.map(e=>e.id);let r=n[n.length-1]?.id??null;if(e.length>1?C.value=!0:C.value=!1,e.length>0){let n=(r?e.find(e=>e.id===r):void 0)??e[e.length-1];t.selectNode(n?.id??null)}else t.selectedNodeId&&t.selectNode(null)})}function ze(e){e.forEach(e=>{e.type===`remove`&&t.removeEdge(e.id)})}let Be=F(null),Ve=F(null),He=F(null);function Ue(e){Be.value=e.nodeId,Ve.value=e.handleId,He.value=e.handleType}function We(){Be.value=null,Ve.value=null,He.value=null}function Ge(e,t){if(!Be.value||!Ve.value)return!0;let r=n.value.find(e=>e.id===Be.value),i=n.value.find(t=>t.id===e);if(!r||!i)return!1;let a=r.data?.inputs?.some(e=>e.id===Ve.value),o=r.data?.outputs?.some(e=>e.id===Ve.value),s=i.data?.inputs?.some(e=>e.id===t)??!1,c=i.data?.outputs?.some(e=>e.id===t)??!1;return!!(o&&s||a&&c)}window.__checkPortValidity=Ge,window.__isConnecting=()=>Be.value!==null&&Ve.value!==null,window.__updateNodeInternals=e=>{e&&k.value?.updateNodeInternals(e)};function Ke(e){let n={source:e.source,sourceHandle:e.sourceHandle||null,target:e.target,targetHandle:e.targetHandle||null};if(!t.validateConnection(n))return;let r={id:`edge_${Date.now()}`,source:e.source,sourceHandle:e.sourceHandle,target:e.target,targetHandle:e.targetHandle,type:s.value.edgeType,animated:s.value.edgeAnimated,style:{stroke:s.value.edgeColor,strokeWidth:s.value.edgeStrokeWidth}};t.addEdge(r)}function qe({edge:e,connection:n}){let i=t.nodes.find(t=>t.id===e.source),a=t.nodes.find(t=>t.id===e.target);if(i?.type===`loopContainer`||a?.type===`loopContainer`||r.value.some(t=>t.id!==e.id&&t.source===n.source&&t.target===n.target&&t.sourceHandle===n.sourceHandle&&t.targetHandle===n.targetHandle))return;let o={source:n.source,sourceHandle:n.sourceHandle||null,target:n.target,targetHandle:n.targetHandle||null};t.validateConnection(o)&&(r.value=r.value.map(t=>t.id===e.id?{...t,source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle}:t))}function W(){t.selectNode(null),ae.value=[]}function Je(e){return e.id===t.selectedNodeId?`#667eea`:`#94a3b8`}function G(){s.value.showMiniMap=!s.value.showMiniMap,O.value=s.value.showMiniMap}function Ye(){n.value.length!==0&&typeof v.fitView==`function`&&v.fitView({padding:.2,duration:400})}async function Xe(){if(n.value.length===0)return;let e=(e,t)=>{let n=Number(e);return Number.isFinite(n)?n:t},r=s.value.autoLayoutDirection??`LR`,i=e(s.value.autoLayoutNodeSpacing,160),a=e(s.value.autoLayoutRankSpacing,240),o=e(s.value.autoLayoutPadding,120);t.autoLayout({direction:r,nodesep:i,ranksep:a,padding:o,loopContainerGap:i}),await P(),typeof v.fitView==`function`&&v.fitView({padding:.2,duration:400})}async function q(){if(!(i.value||n.value.length===0))try{await t.executeWorkflow(f.value),console.log(`[NodeEditor]  ID: ${f.value}`)}catch(e){console.error(``,e)}}return(e,a)=>(l(),V(`div`,NL,[H(QI,{"active-tab":A.value,onTabChange:Ne},null,8,[`active-tab`]),U(`div`,PL,[A.value===null?L(``,!0):(l(),V(`div`,FL,[A.value===`folders`?(l(),K(jL,{key:0,onClose:Pe})):L(``,!0),A.value===`nodes`?(l(),K(UI,{key:1,onClose:Pe})):L(``,!0),A.value===`settings`?(l(),K(MN,{key:2,onClose:Pe})):L(``,!0)])),U(`div`,IL,[U(`div`,LL,[a[2]||=U(`span`,{class:`text-slate-400 font-medium`},`:`,-1),U(`span`,RL,B(R(n).length),1)]),U(`div`,zL,[a[3]||=U(`span`,{class:`text-slate-400 font-medium`},`:`,-1),U(`span`,BL,B(R(r).length),1)]),U(`div`,VL,[a[4]||=U(`span`,{class:`text-slate-400 font-medium`},`FPS:`,-1),U(`span`,HL,B(D.value),1)])]),H(R(ih),{ref_key:`vueFlowRef`,ref:k,nodes:R(n),"onUpdate:nodes":a[0]||=e=>fe(n)?n.value=e:null,edges:R(r),"onUpdate:edges":a[1]||=e=>fe(r)?r.value=e:null,"default-viewport":{zoom:1,x:0,y:0},"min-zoom":R(s).minZoom,"max-zoom":R(s).maxZoom,"snap-to-grid":R(s).snapToGrid,"snap-grid":[R(s).snapGrid[0],R(s).snapGrid[1]],"connection-radius":0,"edges-updatable":!0,"edge-updater-radius":20,"select-nodes-on-drag":!0,"nodes-draggable":!E.value,"elements-selectable":!E.value,onNodesChange:Re,onEdgesChange:ze,onConnect:Ke,onConnectStart:Ue,onConnectEnd:We,onEdgeUpdate:qe,onPaneClick:W,onDrop:Fe,onDragover:Le},{"node-custom":Y(({data:e,id:t})=>[H(wO,{id:t,data:e},null,8,[`id`,`data`])]),"node-loopContainer":Y(({data:e,id:t})=>[H(kO,{id:t,data:e},null,8,[`id`,`data`])]),"edge-default":Y(e=>[H(JI,J(e,{variant:`default`}),null,16)]),"edge-simplebezier":Y(e=>[H(JI,J(e,{variant:`simplebezier`}),null,16)]),"edge-smoothstep":Y(e=>[H(JI,J(e,{variant:`smoothstep`}),null,16)]),"edge-step":Y(e=>[H(JI,J(e,{variant:`step`}),null,16)]),"edge-straight":Y(e=>[H(JI,J(e,{variant:`straight`}),null,16)]),default:Y(()=>[R(s).showBackground?(l(),K(R(mh),{key:0,"pattern-color":R(s).backgroundPatternColor,gap:R(s).backgroundGap,variant:R(s).backgroundPattern===`cross`?`dots`:R(s).backgroundPattern},null,8,[`pattern-color`,`gap`,`variant`])):L(``,!0),H(R(xx),{class:`right-0`,style:{left:`unset !important`}}),R(s).showMiniMap?(l(),K(R(Yb),{key:1,"node-color":Je,"mask-color":`rgba(0, 0, 0, 0.08)`,pannable:!0,zoomable:!0,class:`modern-minimap`})):L(``,!0)]),_:1},8,[`nodes`,`edges`,`min-zoom`,`max-zoom`,`snap-to-grid`,`snap-grid`,`nodes-draggable`,`elements-selectable`]),R(s).showControls?(l(),V(`div`,UL,[H(tP,{variant:`outlined`,"icon-only":``,disabled:!R(t).canUndo,onClick:je,title:` (Ctrl+Z)`},{default:Y(()=>[H(ZE)]),_:1},8,[`disabled`]),H(tP,{variant:`outlined`,"icon-only":``,disabled:!R(t).canRedo,onClick:z,title:` (Ctrl+Y)`},{default:Y(()=>[H(FE)]),_:1},8,[`disabled`]),a[5]||=U(`div`,{class:`w-px h-6 bg-slate-200 my-auto`},null,-1),H(tP,{variant:R(s).showMiniMap?void 0:`outlined`,"icon-only":``,onClick:G,title:``},{default:Y(()=>[H(hE)]),_:1},8,[`variant`]),H(tP,{variant:`outlined`,"icon-only":``,disabled:R(n).length===0,onClick:Ye,title:``},{default:Y(()=>[H(mw)]),_:1},8,[`disabled`]),H(tP,{variant:`outlined`,"icon-only":``,disabled:R(n).length===0,onClick:Xe,title:``},{default:Y(()=>[H(rE)]),_:1},8,[`disabled`]),H(tP,{variant:`filled`,"icon-only":``,disabled:R(n).length===0||R(i),onClick:q,title:``},{default:Y(()=>[R(i)?(l(),V(`span`,WL)):(l(),K(DE,{key:1,class:`w-4 h-4`}))]),_:1},8,[`disabled`])])):L(``,!0),H(ge,{name:`slide-left`},{default:Y(()=>[R(t).isNodeEditorVisible?(l(),K(xI,{key:0})):L(``,!0)]),_:1})])]))}}),[[`__scopeId`,`data-v-b9b36752`]]);export{GL as default};
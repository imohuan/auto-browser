import{Dt as e,Nt as t,Tt as n,Yt as r,at as i,ct as a,en as o,ht as s,in as c,kt as l,lt as u,mt as d,ot as f,r as p,rt as m,st as ee,tn as h,vt as g}from"./index-BBQwUZyz.js";import{O as _,t as te}from"./IconDocument-C6Xi7czs.js";var v=class{constructor(e={}){this.requestId=1,this.sessionId=null,this.isInitialized=!1,this.apiUrl=e.apiUrl||`/api/mcp`,this.protocolVersion=e.protocolVersion||`2024-11-05`,this.clientInfo=e.clientInfo||{name:`mcp-client`,version:`1.0.0`},this.enableLog=e.enableLog??!0}async request(e,t){let n={jsonrpc:`2.0`,id:this.requestId++,method:e,params:t};this.log(`ğŸ“¤ å‘é€è¯·æ±‚:`,e,t?`\n   å‚æ•°: ${JSON.stringify(t,null,2)}`:``);try{let e={"Content-Type":`application/json`,Accept:`application/json, text/event-stream`,"Cache-Control":`no-cache`};this.sessionId&&(e[`mcp-session-id`]=this.sessionId);let t=await fetch(this.apiUrl,{method:`POST`,headers:e,body:JSON.stringify(n)}),r=t.headers.get(`mcp-session-id`);return r&&!this.sessionId&&(this.sessionId=r,this.log(`ğŸ’¾ ä¿å­˜ Session ID:`,r)),await this.parseResponse(t)}catch(e){return this.logError(`âŒ ç½‘ç»œé”™è¯¯:`,e.message),{success:!1,error:{code:-1,message:e.message}}}}async initialize(){this.log(`ğŸš€ ========== åˆå§‹åŒ– MCP ä¼šè¯ ==========`);let e={protocolVersion:this.protocolVersion,capabilities:{},clientInfo:this.clientInfo},t=await this.request(`initialize`,e);if(t.success){let e={"Content-Type":`application/json`,Accept:`application/json, text/event-stream`};return this.sessionId&&(e[`mcp-session-id`]=this.sessionId),await fetch(this.apiUrl,{method:`POST`,headers:e,body:JSON.stringify({jsonrpc:`2.0`,method:`notifications/initialized`})}),this.isInitialized=!0,this.log(`âœ… ä¼šè¯åˆå§‹åŒ–æˆåŠŸ
`),!0}else return this.logError(`âŒ ä¼šè¯åˆå§‹åŒ–å¤±è´¥:`,t.error?.message,`
`),!1}async callTool(e,t={}){if(!this.isInitialized){if(this.log(`âš ï¸  æœªåˆå§‹åŒ–ï¼Œå…ˆåˆå§‹åŒ–...`),!await this.initialize())return{success:!1,error:{code:-1,message:`åˆå§‹åŒ–å¤±è´¥`}};await this.sleep(1e3)}this.log(`ğŸ”§ ========== è°ƒç”¨å·¥å…·: ${e} ==========`);let n={name:e,arguments:t};return await this.request(`tools/call`,n)}async listTools(){return!this.isInitialized&&(this.log(`âš ï¸  æœªåˆå§‹åŒ–ï¼Œå…ˆåˆå§‹åŒ–...`),!await this.initialize())?{success:!1,error:{code:-1,message:`åˆå§‹åŒ–å¤±è´¥`}}:(this.log(`ğŸ“‹ ========== è·å–å·¥å…·åˆ—è¡¨ ==========`),await this.request(`tools/list`))}async getWindowsAndTabs(){return await this.callTool(`get_windows_and_tabs`)}async navigate(e,t){return await this.callTool(`chrome_navigate`,{url:e,...t})}async closeTabs(e){return await this.callTool(`chrome_close_tabs`,e)}async goBackOrForward(e=!1){return await this.callTool(`chrome_go_back_or_forward`,{isForward:e})}async screenshot(e){return await this.callTool(`chrome_screenshot`,e)}async networkCaptureStart(e){return await this.callTool(`chrome_network_capture_start`,e)}async networkCaptureStop(){return await this.callTool(`chrome_network_capture_stop`)}async networkDebuggerStart(e){return await this.callTool(`chrome_network_debugger_start`,{...e&&{url:e}})}async networkDebuggerStop(){return await this.callTool(`chrome_network_debugger_stop`)}async networkRequest(e,t){return await this.callTool(`chrome_network_request`,{url:e,...t})}async searchTabsContent(e){return await this.callTool(`search_tabs_content`,{query:e})}async getWebContent(e){return await this.callTool(`chrome_get_web_content`,e)}async getInteractiveElements(e){return await this.callTool(`chrome_get_interactive_elements`,e)}async clickElement(e){return await this.callTool(`chrome_click_element`,e)}async fillOrSelect(e,t){return await this.callTool(`chrome_fill_or_select`,{selector:e,value:t})}async keyboard(e,t){return await this.callTool(`chrome_keyboard`,{keys:e,...t})}async searchHistory(e){return await this.callTool(`chrome_history`,e)}async searchBookmarks(e){return await this.callTool(`chrome_bookmark_search`,e)}async addBookmark(e){return await this.callTool(`chrome_bookmark_add`,e)}async deleteBookmark(e){return await this.callTool(`chrome_bookmark_delete`,e)}async injectScript(e,t,n){return await this.callTool(`chrome_inject_script`,{jsScript:e,type:t,...n&&{url:n}})}async sendCommandToInjectScript(e,t,n){return await this.callTool(`chrome_send_command_to_inject_script`,{eventName:e,...t&&{payload:t},...n&&{tabId:n}})}async captureConsole(e){return await this.callTool(`chrome_console`,e)}reset(){this.sessionId=null,this.isInitialized=!1,this.requestId=1,this.log(`ğŸ”„ ä¼šè¯å·²é‡ç½®`)}getStatus(){return{sessionId:this.sessionId,isInitialized:this.isInitialized,requestCount:this.requestId,apiUrl:this.apiUrl}}isReady(){return this.isInitialized&&this.sessionId!==null}async parseResponse(e){let t=e.headers.get(`content-type`);if(t&&t.includes(`text/event-stream`)){let t=await e.text();return this.parseSSEResponse(t)}else{let t=await e.json();return t.error?(this.logError(`âŒ é”™è¯¯:`,t.error),{success:!1,error:t.error}):(this.log(`âœ… æˆåŠŸ:`,t.result),{success:!0,result:this.parseMCPContent(t.result)})}}parseSSEResponse(e){this.log(`ğŸ“¥ åŸå§‹å“åº”:`,e);let t=e.split(`
`),n=``;for(let e of t)if(e.startsWith(`data: `)){n=e.substring(6);break}if(!n)return this.logError(`âŒ æ— æ³•ä» SSE å“åº”ä¸­æå–æ•°æ®`),{success:!1,error:{code:-1,message:`No data in SSE response`}};let r=JSON.parse(n);return r.error?(this.logError(`âŒ é”™è¯¯:`,r.error),{success:!1,error:r.error}):(this.log(`âœ… æˆåŠŸ:`,r.result),{success:!0,result:this.parseMCPContent(r.result)})}parseMCPContent(e){return this.deepParseTextContent(e)}deepParseTextContent(e){if(e==null)return e;if(typeof e==`object`&&!Array.isArray(e)&&e.type===`text`&&typeof e.text==`string`)try{let t=JSON.parse(e.text);return this.deepParseTextContent(t)}catch{return e.text}if(typeof e==`object`&&!Array.isArray(e)&&Array.isArray(e.content)&&e.content.length>0){let t=e.content[0];if(t&&t.type===`text`&&typeof t.text==`string`)try{let e=JSON.parse(t.text);return e&&typeof e==`object`&&e.data?this.deepParseTextContent(e.data):this.deepParseTextContent(e)}catch{return t.text}}if(Array.isArray(e))return e.map(e=>this.deepParseTextContent(e));if(typeof e==`object`){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.deepParseTextContent(e[n]));return t}return e}sleep(e){return new Promise(t=>setTimeout(t,e))}log(...e){this.enableLog&&console.log(...e)}logError(...e){this.enableLog&&console.error(...e)}};function y(e){return new v(e)}var b=class extends _{constructor(...e){super(...e),this.type=`initializeMCP`,this.label=`åˆå§‹åŒ–MCPæœåŠ¡`,this.description=`åˆå§‹åŒ– MCP å®¢æˆ·ç«¯æœåŠ¡ï¼Œåç»­èŠ‚ç‚¹å°†ä½¿ç”¨æ­¤æœåŠ¡`,this.category=`æµè§ˆå™¨ç®¡ç†`}defineInputs(){return[{id:`apiUrl`,name:`APIåœ°å€`,type:`string`,required:!1},{id:`enableLog`,name:`å¯ç”¨æ—¥å¿—`,type:`boolean`,required:!1}]}defineOutputs(){return[{id:`client`,name:`MCPå®¢æˆ·ç«¯`,type:`object`,description:`åˆå§‹åŒ–åçš„ MCP å®¢æˆ·ç«¯å®ä¾‹`},{id:`status`,name:`çŠ¶æ€ä¿¡æ¯`,type:`object`,description:`å®¢æˆ·ç«¯åˆå§‹åŒ–çŠ¶æ€`}]}getDefaultConfig(){return{apiUrl:`/api/mcp`,enableLog:!0}}async execute(e,t,n){throw Error(`InitializeMCPNode å¿…é¡»é€šè¿‡ run æ–¹æ³•è°ƒç”¨`)}async run(e,t,n){let r=Date.now(),i=Date.now();try{let a={...e};for(let[e,n]of Object.entries(t))n!=null&&(a[e]=n);let o=t.apiUrl||e.apiUrl||`/api/mcp`,s=t.enableLog===void 0?e.enableLog===void 0?!0:e.enableLog:t.enableLog,c=y({apiUrl:o,enableLog:s});if(!await c.initialize())throw Error(`MCP å®¢æˆ·ç«¯åˆå§‹åŒ–å¤±è´¥`);n.mcpClient=c;let l=c.getStatus(),u={outputs:{client:c,status:{sessionId:l.sessionId,isInitialized:l.isInitialized,apiUrl:l.apiUrl}},raw:{client:c,status:l},summary:`MCP å®¢æˆ·ç«¯å·²åˆå§‹åŒ–ï¼ˆSession ID: ${l.sessionId||`N/A`}ï¼‰`},d=Date.now()-r,f=this.formatExecutionResult(u);return{duration:d,data:f,status:`success`,timestamp:i}}catch(e){return{duration:Date.now()-r,data:{outputs:{},raw:null},status:`error`,error:e.message||`æ‰§è¡Œå¤±è´¥`,timestamp:i}}}},x=class extends _{constructor(...e){super(...e),this.type=`navigate`,this.label=`å¯¼èˆªåˆ°URL`,this.description=`å¯¼èˆªåˆ°æŒ‡å®šçš„ URL åœ°å€`,this.category=`æµè§ˆå™¨ç®¡ç†`}defineInputs(){return[{id:`url`,name:`URL`,type:`string`,required:!0},{id:`tabId`,name:`æ ‡ç­¾é¡µID`,type:`number`,required:!1},{id:`waitForLoad`,name:`ç­‰å¾…åŠ è½½`,type:`boolean`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{url:`https://www.baidu.com`,waitForLoad:!0}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.url||e.url,a={};e.tabId&&(a.tabId=e.tabId),e.waitForLoad!==void 0&&(a.waitForLoad=e.waitForLoad);let o=await r.navigate(i,a);if(!o.success)throw Error(o.error?.message||`å¯¼èˆªå¤±è´¥`);let s=o.result;return{outputs:{result:s},raw:s,summary:i?`å·²å¯¼èˆªåˆ° ${i}`:void 0}}},S=class extends _{constructor(...e){super(...e),this.type=`getWindowsAndTabs`,this.label=`è·å–çª—å£å’Œæ ‡ç­¾é¡µ`,this.description=`è·å–æ‰€æœ‰æµè§ˆå™¨çª—å£å’Œæ ‡ç­¾é¡µä¿¡æ¯`,this.category=`æµè§ˆå™¨ç®¡ç†`}defineInputs(){return[]}defineOutputs(){return[{id:`windows`,name:`çª—å£åˆ—è¡¨`,type:`array`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=await r.getWindowsAndTabs();if(!i.success)throw Error(i.error?.message||`è·å–çª—å£å’Œæ ‡ç­¾é¡µå¤±è´¥`);let a=i.result;return{outputs:{windows:a},raw:a,summary:Array.isArray(a)?`å…± ${a.length} ä¸ªçª—å£`:void 0}}},C=class extends _{constructor(...e){super(...e),this.type=`closeTabs`,this.label=`å…³é—­æ ‡ç­¾é¡µ`,this.description=`å…³é—­æŒ‡å®šçš„æ ‡ç­¾é¡µæˆ–çª—å£`,this.category=`æµè§ˆå™¨ç®¡ç†`}defineInputs(){return[{id:`tabIds`,name:`æ ‡ç­¾é¡µIDåˆ—è¡¨`,type:`array`,required:!1},{id:`windowIds`,name:`çª—å£IDåˆ—è¡¨`,type:`array`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.tabIds&&(i.tabIds=Array.isArray(e.tabIds)?e.tabIds:[e.tabIds]),e.windowIds&&(i.windowIds=Array.isArray(e.windowIds)?e.windowIds:[e.windowIds]);let a=await r.closeTabs(i);if(!a.success)throw Error(a.error?.message||`å…³é—­æ ‡ç­¾é¡µå¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:Array.isArray(i.tabIds)?`å·²å…³é—­ ${i.tabIds.length} ä¸ªæ ‡ç­¾`:void 0}}},w=class extends _{constructor(...e){super(...e),this.type=`goBackOrForward`,this.label=`å‰è¿›/åé€€`,this.description=`æµè§ˆå™¨å†å²è®°å½•å‰è¿›æˆ–åé€€`,this.category=`æµè§ˆå™¨ç®¡ç†`}defineInputs(){return[{id:`isForward`,name:`æ˜¯å¦å‰è¿›`,type:`boolean`,required:!0}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{isForward:!1}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.isForward??e.isForward??!1,a=await r.goBackOrForward(i);if(!a.success)throw Error(a.error?.message||`å†å²å¯¼èˆªå¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:i?`å‰è¿›ä¸€æ­¥`:`åé€€ä¸€æ­¥`}}},T=class extends _{constructor(...e){super(...e),this.type=`screenshot`,this.label=`æˆªå›¾`,this.description=`å¯¹å½“å‰é¡µé¢æˆ–æŒ‡å®šåŒºåŸŸè¿›è¡Œæˆªå›¾`,this.category=`æˆªå›¾å’Œè§†è§‰`}defineInputs(){return[{id:`fullPage`,name:`å…¨é¡µæˆªå›¾`,type:`boolean`,required:!1},{id:`quality`,name:`è´¨é‡`,type:`number`,required:!1},{id:`format`,name:`æ ¼å¼`,type:`string`,required:!1}]}defineOutputs(){return[{id:`screenshot`,name:`æˆªå›¾æ•°æ®`,type:`string`}]}getDefaultConfig(){return{fullPage:!1,quality:90,format:`png`}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.fullPage!==void 0&&(i.fullPage=e.fullPage),e.quality!==void 0&&(i.quality=e.quality),e.format&&(i.format=e.format);let a=await r.screenshot(i);if(!a.success)throw Error(a.error?.message||`æˆªå›¾å¤±è´¥`);let o=a.result;return{outputs:{screenshot:o},raw:o,summary:`æˆªå›¾å®Œæˆ`}}},E=class extends _{constructor(...e){super(...e),this.type=`networkCaptureStart`,this.label=`å¼€å§‹ç½‘ç»œæ•è·`,this.description=`å¼€å§‹ç›‘å¬ç½‘ç»œè¯·æ±‚`,this.category=`ç½‘ç»œç›‘æ§`}defineInputs(){return[{id:`filter`,name:`è¿‡æ»¤å™¨`,type:`string`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.filter&&(i.filter=e.filter);let a=await r.networkCaptureStart(i);if(!a.success)throw Error(a.error?.message||`å¼€å§‹ç½‘ç»œæ•è·å¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:`å·²å¼€å¯ç½‘ç»œæ•è·`}}},D=class extends _{constructor(...e){super(...e),this.type=`networkCaptureStop`,this.label=`åœæ­¢ç½‘ç»œæ•è·`,this.description=`åœæ­¢ç›‘å¬å¹¶è·å–æ•è·çš„ç½‘ç»œæ•°æ®`,this.category=`ç½‘ç»œç›‘æ§`}defineInputs(){return[]}defineOutputs(){return[{id:`requests`,name:`ç½‘ç»œè¯·æ±‚`,type:`array`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=await r.networkCaptureStop();if(!i.success)throw Error(i.error?.message||`åœæ­¢ç½‘ç»œæ•è·å¤±è´¥`);let a=i.result;return{outputs:{requests:a},raw:a,summary:Array.isArray(a)?`æ•è·åˆ° ${a.length} æ¡è¯·æ±‚`:void 0}}},O=class extends _{constructor(...e){super(...e),this.type=`networkDebuggerStart`,this.label=`å¼€å§‹è°ƒè¯•å™¨æ•è·`,this.description=`å¼€å§‹ç›‘å¬ç½‘ç»œè¯·æ±‚ï¼ˆåŒ…å«å“åº”ä½“ï¼‰`,this.category=`ç½‘ç»œç›‘æ§`}defineInputs(){return[{id:`url`,name:`URL`,type:`string`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.url||e.url,a=await r.networkDebuggerStart(i);if(!a.success)throw Error(a.error?.message||`å¼€å§‹è°ƒè¯•å™¨æ•è·å¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:`å·²å¼€å¯è°ƒè¯•å™¨ç½‘ç»œæ•è·`}}},k=class extends _{constructor(...e){super(...e),this.type=`networkDebuggerStop`,this.label=`åœæ­¢è°ƒè¯•å™¨æ•è·`,this.description=`åœæ­¢ç›‘å¬å¹¶è·å–æ•è·çš„ç½‘ç»œæ•°æ®ï¼ˆå«å“åº”ä½“ï¼‰`,this.category=`ç½‘ç»œç›‘æ§`}defineInputs(){return[]}defineOutputs(){return[{id:`requests`,name:`ç½‘ç»œè¯·æ±‚`,type:`array`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=await r.networkDebuggerStop();if(!i.success)throw Error(i.error?.message||`åœæ­¢è°ƒè¯•å™¨æ•è·å¤±è´¥`);let a=i.result;return{outputs:{requests:a},raw:a,summary:Array.isArray(a)?`æ•è·åˆ° ${a.length} æ¡è°ƒè¯•è®°å½•`:void 0}}},A=class extends _{constructor(...e){super(...e),this.type=`networkRequest`,this.label=`å‘é€HTTPè¯·æ±‚`,this.description=`å‘é€è‡ªå®šä¹‰ HTTP è¯·æ±‚`,this.category=`ç½‘ç»œç›‘æ§`}defineInputs(){return[{id:`url`,name:`URL`,type:`string`,required:!0},{id:`method`,name:`è¯·æ±‚æ–¹æ³•`,type:`string`,required:!1},{id:`headers`,name:`è¯·æ±‚å¤´`,type:`object`,required:!1},{id:`body`,name:`è¯·æ±‚ä½“`,type:`string`,required:!1}]}defineOutputs(){return[{id:`response`,name:`å“åº”`,type:`any`}]}getDefaultConfig(){return{url:`https://api.example.com`,method:`GET`}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.url||e.url,a={};e.method&&(a.method=e.method),e.headers&&(a.headers=e.headers),e.body&&(a.body=e.body);let o=await r.networkRequest(i,a);if(!o.success)throw Error(o.error?.message||`ç½‘ç»œè¯·æ±‚å¤±è´¥`);let s=o.result;return{outputs:{response:s},raw:s,summary:`${a.method||`GET`} ${i}`}}},j=class extends _{constructor(...e){super(...e),this.type=`searchTabsContent`,this.label=`æœç´¢æ ‡ç­¾é¡µå†…å®¹`,this.description=`è·¨æ ‡ç­¾é¡µè¿›è¡Œè¯­ä¹‰æœç´¢`,this.category=`å†…å®¹åˆ†æ`}defineInputs(){return[{id:`query`,name:`æœç´¢æŸ¥è¯¢`,type:`string`,required:!0}]}defineOutputs(){return[{id:`results`,name:`æœç´¢ç»“æœ`,type:`array`}]}getDefaultConfig(){return{query:``}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.query||e.query;if(!i)throw Error(`æœç´¢æŸ¥è¯¢ä¸èƒ½ä¸ºç©º`);let a=await r.searchTabsContent(i);if(!a.success)throw Error(a.error?.message||`æœç´¢æ ‡ç­¾é¡µå†…å®¹å¤±è´¥`);let o=a.result;return{outputs:{results:o},raw:o,summary:Array.isArray(o)?`åŒ¹é… ${o.length} æ¡è®°å½•`:void 0}}},M=class extends _{constructor(...e){super(...e),this.type=`getWebContent`,this.label=`è·å–ç½‘é¡µå†…å®¹`,this.description=`è·å–å½“å‰é¡µé¢çš„æ–‡æœ¬å†…å®¹`,this.category=`å†…å®¹åˆ†æ`}defineInputs(){return[{id:`selector`,name:`é€‰æ‹©å™¨`,type:`string`,required:!1},{id:`includeHTML`,name:`åŒ…å«HTML`,type:`boolean`,required:!1}]}defineOutputs(){return[{id:`content`,name:`å†…å®¹`,type:`string`}]}getDefaultConfig(){return{includeHTML:!1}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.selector&&(i.selector=e.selector),e.includeHTML!==void 0&&(i.includeHTML=e.includeHTML);let a=await r.getWebContent(i);if(!a.success)throw Error(a.error?.message||`è·å–ç½‘é¡µå†…å®¹å¤±è´¥`);let o=a.result;return{outputs:{content:o},raw:o,summary:e.selector?`å·²è·å– ${e.selector} åŒ¹é…å†…å®¹`:`å·²è·å–é¡µé¢å†…å®¹`}}},N=class extends _{constructor(...e){super(...e),this.type=`getInteractiveElements`,this.label=`è·å–å¯äº¤äº’å…ƒç´ `,this.description=`è·å–é¡µé¢ä¸Šçš„å¯äº¤äº’å…ƒç´ `,this.category=`å†…å®¹åˆ†æ`}defineInputs(){return[{id:`textQuery`,name:`æ–‡æœ¬æŸ¥è¯¢`,type:`string`,required:!1},{id:`selector`,name:`é€‰æ‹©å™¨`,type:`string`,required:!1},{id:`includeCoordinates`,name:`åŒ…å«åæ ‡`,type:`boolean`,required:!1}]}defineOutputs(){return[{id:`elements`,name:`å…ƒç´ åˆ—è¡¨`,type:`array`}]}getDefaultConfig(){return{includeCoordinates:!0}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.textQuery&&(i.textQuery=e.textQuery),e.selector&&(i.selector=e.selector),e.includeCoordinates!==void 0&&(i.includeCoordinates=e.includeCoordinates);let a=await r.getInteractiveElements(i);if(!a.success)throw Error(a.error?.message||`è·å–å¯äº¤äº’å…ƒç´ å¤±è´¥`);let o=a.result;return{outputs:{elements:o},raw:o,summary:Array.isArray(o)?`æ£€æµ‹åˆ° ${o.length} ä¸ªå…ƒç´ `:void 0}}},P=class extends _{constructor(...e){super(...e),this.type=`clickElement`,this.label=`ç‚¹å‡»å…ƒç´ `,this.description=`ç‚¹å‡»é¡µé¢ä¸Šçš„å…ƒç´ æˆ–åæ ‡`,this.category=`äº¤äº’æ“ä½œ`}defineInputs(){return[{id:`selector`,name:`é€‰æ‹©å™¨`,type:`string`,required:!1},{id:`coordinates`,name:`åæ ‡`,type:`object`,required:!1},{id:`waitForNavigation`,name:`ç­‰å¾…å¯¼èˆª`,type:`boolean`,required:!1},{id:`timeout`,name:`è¶…æ—¶æ—¶é—´`,type:`number`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{waitForNavigation:!1,timeout:5e3}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};if(e.selector&&(i.selector=e.selector),e.coordinates&&(i.coordinates=e.coordinates),e.waitForNavigation!==void 0&&(i.waitForNavigation=e.waitForNavigation),e.timeout!==void 0&&(i.timeout=e.timeout),!i.selector&&!i.coordinates)throw Error(`å¿…é¡»æä¾›é€‰æ‹©å™¨æˆ–åæ ‡`);let a=await r.clickElement(i);if(!a.success)throw Error(a.error?.message||`ç‚¹å‡»å…ƒç´ å¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:i.selector?`ç‚¹å‡»å…ƒç´  ${i.selector}`:`ç‚¹å‡»æŒ‡å®šåæ ‡`}}},F=class extends _{constructor(...e){super(...e),this.type=`fillOrSelect`,this.label=`å¡«å……/é€‰æ‹©`,this.description=`å¡«å……è¡¨å•æˆ–é€‰æ‹©é€‰é¡¹`,this.category=`äº¤äº’æ“ä½œ`}defineInputs(){return[{id:`selector`,name:`é€‰æ‹©å™¨`,type:`string`,required:!0},{id:`value`,name:`å€¼`,type:`string`,required:!0}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{selector:``,value:``}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.selector||e.selector,a=t.value||e.value;if(!i)throw Error(`é€‰æ‹©å™¨ä¸èƒ½ä¸ºç©º`);if(!a)throw Error(`å€¼ä¸èƒ½ä¸ºç©º`);let o=await r.fillOrSelect(i,a);if(!o.success)throw Error(o.error?.message||`å¡«å……æˆ–é€‰æ‹©å¤±è´¥`);let s=o.result;return{outputs:{result:s},raw:s,summary:`å·²å¡«å…… ${i}`}}},I=class extends _{constructor(...e){super(...e),this.type=`keyboard`,this.label=`é”®ç›˜è¾“å…¥`,this.description=`æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥`,this.category=`äº¤äº’æ“ä½œ`}defineInputs(){return[{id:`keys`,name:`æŒ‰é”®`,type:`string`,required:!0},{id:`selector`,name:`é€‰æ‹©å™¨`,type:`string`,required:!1},{id:`delay`,name:`å»¶è¿Ÿ(ms)`,type:`number`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{keys:``,delay:0}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.keys||e.keys;if(!i)throw Error(`æŒ‰é”®ä¸èƒ½ä¸ºç©º`);let a={};e.selector&&(a.selector=e.selector),e.delay!==void 0&&(a.delay=e.delay);let o=await r.keyboard(i,a);if(!o.success)throw Error(o.error?.message||`é”®ç›˜è¾“å…¥å¤±è´¥`);let s=o.result;return{outputs:{result:s},raw:s,summary:`æ¨¡æ‹ŸæŒ‰é”®: ${i}`}}},L=class extends _{constructor(...e){super(...e),this.type=`searchHistory`,this.label=`æœç´¢å†å²è®°å½•`,this.description=`æœç´¢æµè§ˆå™¨å†å²è®°å½•`,this.category=`æ•°æ®ç®¡ç†`}defineInputs(){return[{id:`query`,name:`æœç´¢æŸ¥è¯¢`,type:`string`,required:!1},{id:`maxResults`,name:`æœ€å¤§ç»“æœæ•°`,type:`number`,required:!1},{id:`startTime`,name:`å¼€å§‹æ—¶é—´`,type:`number`,required:!1},{id:`endTime`,name:`ç»“æŸæ—¶é—´`,type:`number`,required:!1}]}defineOutputs(){return[{id:`history`,name:`å†å²è®°å½•`,type:`array`}]}getDefaultConfig(){return{maxResults:100}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.query&&(i.query=e.query),e.maxResults!==void 0&&(i.maxResults=e.maxResults),e.startTime!==void 0&&(i.startTime=e.startTime),e.endTime!==void 0&&(i.endTime=e.endTime);let a=await r.searchHistory(i);if(!a.success)throw Error(a.error?.message||`æœç´¢å†å²è®°å½•å¤±è´¥`);let o=a.result;return{outputs:{history:o},raw:o,summary:Array.isArray(o)?`æ‰¾åˆ° ${o.length} æ¡å†å²è®°å½•`:void 0}}},R=class extends _{constructor(...e){super(...e),this.type=`searchBookmarks`,this.label=`æœç´¢ä¹¦ç­¾`,this.description=`æœç´¢æµè§ˆå™¨ä¹¦ç­¾`,this.category=`æ•°æ®ç®¡ç†`}defineInputs(){return[{id:`query`,name:`æœç´¢æŸ¥è¯¢`,type:`string`,required:!1}]}defineOutputs(){return[{id:`bookmarks`,name:`ä¹¦ç­¾åˆ—è¡¨`,type:`array`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.query&&(i.query=e.query);let a=await r.searchBookmarks(i);if(!a.success)throw Error(a.error?.message||`æœç´¢ä¹¦ç­¾å¤±è´¥`);let o=a.result;return{outputs:{bookmarks:o},raw:o,summary:Array.isArray(o)?`æ‰¾åˆ° ${o.length} ä¸ªä¹¦ç­¾`:void 0}}},z=class extends _{constructor(...e){super(...e),this.type=`addBookmark`,this.label=`æ·»åŠ ä¹¦ç­¾`,this.description=`æ·»åŠ æ–°ä¹¦ç­¾`,this.category=`æ•°æ®ç®¡ç†`}defineInputs(){return[{id:`title`,name:`æ ‡é¢˜`,type:`string`,required:!1},{id:`url`,name:`URL`,type:`string`,required:!1}]}defineOutputs(){return[{id:`bookmark`,name:`ä¹¦ç­¾`,type:`object`}]}getDefaultConfig(){return{}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.title&&(i.title=e.title),e.url&&(i.url=e.url);let a=await r.addBookmark(i);if(!a.success)throw Error(a.error?.message||`æ·»åŠ ä¹¦ç­¾å¤±è´¥`);let o=a.result;return{outputs:{bookmark:o},raw:o,summary:i.title?`å·²æ·»åŠ ä¹¦ç­¾ã€Œ${i.title}ã€`:`æ·»åŠ ä¹¦ç­¾æˆåŠŸ`}}},B=class extends _{constructor(...e){super(...e),this.type=`deleteBookmark`,this.label=`åˆ é™¤ä¹¦ç­¾`,this.description=`åˆ é™¤æŒ‡å®šä¹¦ç­¾`,this.category=`æ•°æ®ç®¡ç†`}defineInputs(){return[{id:`bookmarkId`,name:`ä¹¦ç­¾ID`,type:`string`,required:!0}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{bookmarkId:``}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.bookmarkId||e.bookmarkId;if(!i)throw Error(`ä¹¦ç­¾IDä¸èƒ½ä¸ºç©º`);let a=await r.deleteBookmark({bookmarkId:i});if(!a.success)throw Error(a.error?.message||`åˆ é™¤ä¹¦ç­¾å¤±è´¥`);let o=a.result;return{outputs:{result:o},raw:o,summary:`å·²åˆ é™¤ä¹¦ç­¾ ${i}`}}},V=class extends _{constructor(...e){super(...e),this.type=`injectScript`,this.label=`æ³¨å…¥è„šæœ¬`,this.description=`å‘ç½‘é¡µæ³¨å…¥ JavaScript ä»£ç `,this.category=`é«˜çº§åŠŸèƒ½`}defineInputs(){return[{id:`jsScript`,name:`JSä»£ç `,type:`string`,required:!0},{id:`type`,name:`æ‰§è¡Œç¯å¢ƒ`,type:`string`,required:!0},{id:`url`,name:`URL`,type:`string`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{jsScript:`console.log('Hello World');`,type:`ISOLATED`}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.jsScript||e.jsScript,a=t.type||e.type;if(!i)throw Error(`JSä»£ç ä¸èƒ½ä¸ºç©º`);if(a!==`ISOLATED`&&a!==`MAIN`)throw Error(`æ‰§è¡Œç¯å¢ƒå¿…é¡»æ˜¯ ISOLATED æˆ– MAIN`);let o=t.url||e.url,s=await r.injectScript(i,a,o);if(!s.success)throw Error(s.error?.message||`æ³¨å…¥è„šæœ¬å¤±è´¥`);let c=s.result;return{outputs:{result:c},raw:c,summary:`è„šæœ¬å·²æ³¨å…¥(${a})`}}},H=class extends _{constructor(...e){super(...e),this.type=`sendCommandToInjectScript`,this.label=`å‘é€å‘½ä»¤åˆ°è„šæœ¬`,this.description=`å‘æ³¨å…¥çš„è„šæœ¬å‘é€å‘½ä»¤`,this.category=`é«˜çº§åŠŸèƒ½`}defineInputs(){return[{id:`eventName`,name:`äº‹ä»¶å`,type:`string`,required:!0},{id:`payload`,name:`æ•°æ®`,type:`string`,required:!1},{id:`tabId`,name:`æ ‡ç­¾é¡µID`,type:`number`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{eventName:``}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i=t.eventName||e.eventName;if(!i)throw Error(`äº‹ä»¶åä¸èƒ½ä¸ºç©º`);let a=t.payload||e.payload,o=t.tabId||e.tabId,s=await r.sendCommandToInjectScript(i,a,o);if(!s.success)throw Error(s.error?.message||`å‘é€å‘½ä»¤å¤±è´¥`);let c=s.result;return{outputs:{result:c},raw:c,summary:`å·²å‘é€äº‹ä»¶ ${i}`}}},U=class extends _{constructor(...e){super(...e),this.type=`captureConsole`,this.label=`æ•è·æ§åˆ¶å°`,this.description=`æ•è·æµè§ˆå™¨æ§åˆ¶å°è¾“å‡º`,this.category=`é«˜çº§åŠŸèƒ½`}defineInputs(){return[{id:`url`,name:`URL`,type:`string`,required:!1},{id:`includeExceptions`,name:`åŒ…å«å¼‚å¸¸`,type:`boolean`,required:!1},{id:`maxMessages`,name:`æœ€å¤§æ¶ˆæ¯æ•°`,type:`number`,required:!1}]}defineOutputs(){return[{id:`console`,name:`æ§åˆ¶å°è¾“å‡º`,type:`array`}]}getDefaultConfig(){return{includeExceptions:!0,maxMessages:100}}async execute(e,t,n){let r=n.mcpClient;if(!r)throw Error(`MCP å®¢æˆ·ç«¯æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆä½¿ç”¨åˆå§‹åŒ–MCPæœåŠ¡èŠ‚ç‚¹`);let i={};e.url&&(i.url=e.url),e.includeExceptions!==void 0&&(i.includeExceptions=e.includeExceptions),e.maxMessages!==void 0&&(i.maxMessages=e.maxMessages);let a=await r.captureConsole(i);if(!a.success)throw Error(a.error?.message||`æ•è·æ§åˆ¶å°å¤±è´¥`);let o=a.result;return{outputs:{console:o},raw:o,summary:Array.isArray(o)?`æ•è· ${o.length} æ¡æ§åˆ¶å°æ¶ˆæ¯`:void 0}}},W=class extends _{constructor(...e){super(...e),this.type=`delay`,this.label=`å»¶è¿Ÿ`,this.description=`ç­‰å¾…æŒ‡å®šæ—¶é—´åç»§ç»­æ‰§è¡Œ`,this.category=`æµç¨‹æ§åˆ¶`}defineInputs(){return[{id:`delay`,name:`å»¶è¿Ÿæ—¶é—´(ms)`,type:`number`,description:`å»¶è¿Ÿçš„æ¯«ç§’æ•°ï¼Œé»˜è®¤1000ms`}]}defineOutputs(){return[{id:`output`,name:`è¾“å‡º`,type:`any`,description:`å»¶è¿Ÿåè¾“å‡ºçš„æ•°æ®`}]}getDefaultConfig(){return{delay:1e3,passthrough:!0}}getStyleConfig(){return{}}async execute(e,t,n){let r=e.delay||1e3;await new Promise(e=>setTimeout(e,r));let i={delayed:!0};return{outputs:{output:i},raw:i,summary:`å·²å»¶è¿Ÿ ${r}ms`}}},G=class extends _{constructor(...e){super(...e),this.type=`merge`,this.label=`å˜é‡èšåˆ`,this.description=`å°†å¤šä¸ªè¾“å…¥åˆå¹¶ä¸ºä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„`,this.category=`æ•°æ®å¤„ç†`}defineInputs(){return[{id:`input1`,name:`è¾“å…¥1`,type:`any`,required:!1},{id:`input2`,name:`è¾“å…¥2`,type:`any`,required:!1},{id:`input3`,name:`è¾“å…¥3`,type:`any`,required:!1},{id:`input4`,name:`è¾“å…¥4`,type:`any`,required:!1},{id:`input5`,name:`è¾“å…¥5`,type:`any`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{mode:`object`,keys:[`key1`,`key2`,`key3`,`key4`,`key5`]}}async execute(e,t,n){let r=e.mode||`object`,i=e.keys||[`key1`,`key2`,`key3`,`key4`,`key5`];if(r===`object`){let e={};for(let n=1;n<=5;n++){let r=`input${n}`,a=t[r];if(a!==void 0){let t=i[n-1]||r;e[t]=a}}return{outputs:{result:e},raw:e,summary:`å·²åˆå¹¶ ${Object.keys(e).length} ä¸ªå­—æ®µ`}}else if(r===`array`){let e=[];for(let n=1;n<=5;n++){let r=`input${n}`,i=t[r];i!==void 0&&e.push(i)}return{outputs:{result:e},raw:e,summary:`å·²æ”¶é›† ${e.length} ä¸ªè¾“å…¥`}}throw Error(`ä¸æ”¯æŒçš„æ¨¡å¼: ${r}`)}},K=class extends _{constructor(...e){super(...e),this.type=`code`,this.label=`ä»£ç æ‰§è¡Œ`,this.description=`æ‰§è¡Œè‡ªå®šä¹‰ JavaScript ä»£ç `,this.category=`æ•°æ®å¤„ç†`}defineInputs(){return[{id:`input1`,name:`è¾“å…¥1`,type:`any`,required:!1},{id:`input2`,name:`è¾“å…¥2`,type:`any`,required:!1},{id:`input3`,name:`è¾“å…¥3`,type:`any`,required:!1}]}defineOutputs(){return[{id:`result`,name:`ç»“æœ`,type:`any`}]}getDefaultConfig(){return{code:`// å¯ä»¥ä½¿ç”¨çš„å˜é‡:
// - input1, input2, input3: è¾“å…¥æ•°æ®
//
// ç¤ºä¾‹ 1: ç®€å•è®¡ç®—
// return input1 + input2;
//
// ç¤ºä¾‹ 2: å¯¹è±¡å¤„ç†
// return {
//   sum: input1 + input2,
//   product: input1 * input2,
//   message: 'è®¡ç®—å®Œæˆ'
// };
//
// ç¤ºä¾‹ 3: æ•°ç»„å¤„ç†
// return input1.map(item => item * 2);

return input1;`}}async execute(e,t,n){let r=e.code||`return null;`,i=t.input1,a=t.input2,o=t.input3;try{let e={input1:i,input2:a,input3:o};e.JSON=JSON,e.Math=Math,e.Date=Date,e.console=console;let t=Object.keys(e),n=Object.values(e),s=Function(...t,r)(...n);if(s instanceof Promise){let e=await s;return{outputs:{result:e},raw:e}}return{outputs:{result:s},raw:s}}catch(e){throw Error(`ä»£ç æ‰§è¡Œé”™è¯¯: ${e.message}`)}}};new b,new x,new S,new C,new w,new T,new E,new D,new O,new k,new A,new j,new M,new N,new P,new F,new I,new L,new R,new z,new B,new V,new H,new U,new W,new G,new K;var q={class:`h-full flex bg-gray-50`},J={class:`w-96 bg-white border-r border-gray-200 flex flex-col`},Y={class:`shrink-0 border-b border-gray-200`},X={class:`p-4`},Z={class:`space-y-2 text-sm mb-3`},Q={class:`flex items-center justify-between`},ne={class:`flex items-center justify-between`},re={class:`font-semibold text-gray-900`},ie=[`disabled`],ae=[`disabled`],oe={key:0,class:`mx-4 mb-4 bg-blue-50 border border-blue-200 rounded p-3`},se={key:1,class:`mx-4 mb-4 bg-red-50 border border-red-200 rounded p-3`},ce={class:`flex items-center justify-between`},le={class:`text-red-600 text-xs flex-1`},ue={key:2,class:`mx-4 mb-4 bg-green-50 border border-green-200 rounded p-3`},de={class:`flex items-center justify-between`},fe={class:`text-green-600 text-xs flex-1`},pe={class:`px-4 pb-3`},me={class:`flex flex-wrap gap-2`},he=[`onClick`],ge={class:`flex-1 overflow-y-auto`},_e={class:`p-4 space-y-3`},ve={class:`text-sm font-semibold text-gray-900 mb-1`},ye={class:`text-xs text-gray-600 mb-3`},be={class:`flex-1 flex flex-col bg-gray-50 overflow-hidden`},xe={class:`shrink-0 bg-white border-b border-gray-200 px-6 py-4`},Se={class:`flex items-center justify-between`},Ce={class:`flex-1 overflow-auto`},we={key:0,class:`h-full flex items-center justify-center`},Te={class:`text-center text-gray-400`},Ee={key:1,class:`p-6`},De={key:0,class:`space-y-4`},Oe={class:`bg-white rounded-lg border border-gray-200 p-4`},ke={class:`space-y-2 max-h-[calc(100vh-250px)] overflow-auto`},Ae={class:`flex items-start justify-between mb-2`},je={class:`font-semibold text-sm text-blue-600`},Me={class:`text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded`},Ne={class:`text-xs text-gray-600 mb-2`},Pe={class:`text-xs`},$={class:`mt-2 bg-gray-50 p-2 rounded overflow-auto`},Fe={class:`mt-4 text-xs text-gray-500`},Ie={key:1,class:`space-y-4`},Le={class:`bg-white rounded-lg border border-gray-200 p-4`},Re=[`src`],ze={key:0,class:`text-xs text-gray-600 mt-2`},Be={class:`bg-white rounded-lg border border-gray-200 p-4`},Ve=[`innerHTML`],He={key:2,class:`bg-white rounded-lg border border-gray-200 p-4`},Ue=[`innerHTML`],We=p(s({__name:`MCPTest`,setup(s){let p=y({apiUrl:`/api/mcp`,enableLog:!0}),_=r(!1),v=r(null),b=r(null),x=r(null),S=r(p.getStatus()),C=r(`system`),w=[{id:`system`,name:`ç³»ç»Ÿå·¥å…·`,icon:`âš™ï¸`},{id:`browser`,name:`æµè§ˆå™¨ç®¡ç†`,icon:`ğŸŒ`},{id:`screenshot`,name:`æˆªå›¾è§†è§‰`,icon:`ğŸ“¸`},{id:`network`,name:`ç½‘ç»œç›‘æ§`,icon:`ğŸŒ`},{id:`content`,name:`å†…å®¹åˆ†æ`,icon:`ğŸ“„`},{id:`interaction`,name:`äº¤äº’æ“ä½œ`,icon:`ğŸ–±ï¸`},{id:`data`,name:`æ•°æ®ç®¡ç†`,icon:`ğŸ’¾`},{id:`advanced`,name:`é«˜çº§åŠŸèƒ½`,icon:`âš™ï¸`}],T={system:[{id:`listTools`,name:`è·å–å·¥å…·åˆ—è¡¨`,description:`è·å–æ‰€æœ‰å¯ç”¨çš„ MCP å·¥å…·`}],browser:[{id:`getWindowsAndTabs`,name:`è·å–çª—å£æ ‡ç­¾`,description:`è·å–æ‰€æœ‰æ‰“å¼€çš„çª—å£å’Œæ ‡ç­¾é¡µ`},{id:`navigate`,name:`å¯¼èˆª`,description:`å¯¼èˆªåˆ°æŒ‡å®šçš„ URL`},{id:`closeTabs`,name:`å…³é—­æ ‡ç­¾`,description:`å…³é—­æŒ‡å®šçš„æ ‡ç­¾é¡µæˆ–çª—å£`},{id:`goBackOrForward`,name:`å‰è¿›åé€€`,description:`æµè§ˆå™¨å†å²å‰è¿›æˆ–åé€€`}],screenshot:[{id:`screenshot`,name:`æˆªå›¾`,description:`å¯¹å½“å‰é¡µé¢è¿›è¡Œæˆªå›¾`}],network:[{id:`networkCaptureStart`,name:`å¼€å§‹ç½‘ç»œæ•è·`,description:`å¼€å§‹æ•è·ç½‘ç»œè¯·æ±‚`},{id:`networkCaptureStop`,name:`åœæ­¢ç½‘ç»œæ•è·`,description:`åœæ­¢ç½‘ç»œæ•è·å¹¶è¿”å›æ•°æ®`},{id:`networkDebuggerStart`,name:`è°ƒè¯•å™¨æ•è·å¼€å§‹`,description:`å¼€å§‹è°ƒè¯•å™¨ç½‘ç»œæ•è·(å«å“åº”ä½“)`},{id:`networkDebuggerStop`,name:`è°ƒè¯•å™¨æ•è·åœæ­¢`,description:`åœæ­¢è°ƒè¯•å™¨ç½‘ç»œæ•è·`},{id:`networkRequest`,name:`è‡ªå®šä¹‰è¯·æ±‚`,description:`å‘é€è‡ªå®šä¹‰ HTTP è¯·æ±‚`}],content:[{id:`searchTabsContent`,name:`æœç´¢æ ‡ç­¾å†…å®¹`,description:`è·¨æ ‡ç­¾é¡µè¯­ä¹‰æœç´¢`},{id:`getWebContent`,name:`è·å–é¡µé¢å†…å®¹`,description:`è·å–ç½‘é¡µçš„æ–‡æœ¬å’Œ HTML å†…å®¹`},{id:`getInteractiveElements`,name:`è·å–äº¤äº’å…ƒç´ `,description:`è·å–é¡µé¢ä¸Šæ‰€æœ‰å¯äº¤äº’å…ƒç´ `}],interaction:[{id:`clickElement`,name:`ç‚¹å‡»å…ƒç´ `,description:`ç‚¹å‡»é¡µé¢ä¸Šçš„å…ƒç´ `},{id:`fillOrSelect`,name:`å¡«å……è¡¨å•`,description:`å¡«å……è¾“å…¥æ¡†æˆ–é€‰æ‹©ä¸‹æ‹‰é€‰é¡¹`},{id:`keyboard`,name:`é”®ç›˜è¾“å…¥`,description:`æ¨¡æ‹Ÿé”®ç›˜æŒ‰é”®`}],data:[{id:`searchHistory`,name:`æœç´¢å†å²`,description:`æœç´¢æµè§ˆå™¨å†å²è®°å½•`},{id:`searchBookmarks`,name:`æœç´¢ä¹¦ç­¾`,description:`æœç´¢æµè§ˆå™¨ä¹¦ç­¾`},{id:`addBookmark`,name:`æ·»åŠ ä¹¦ç­¾`,description:`æ·»åŠ æ–°ä¹¦ç­¾`},{id:`deleteBookmark`,name:`åˆ é™¤ä¹¦ç­¾`,description:`åˆ é™¤æŒ‡å®šä¹¦ç­¾`}],advanced:[{id:`injectScript`,name:`æ³¨å…¥è„šæœ¬`,description:`å‘é¡µé¢æ³¨å…¥ JavaScript ä»£ç `},{id:`sendCommandToInjectScript`,name:`å‘é€å‘½ä»¤`,description:`å‘æ³¨å…¥çš„è„šæœ¬å‘é€å‘½ä»¤`},{id:`captureConsole`,name:`æ•è·æ§åˆ¶å°`,description:`æ•è·æµè§ˆå™¨æ§åˆ¶å°è¾“å‡º`}]},E=i(()=>T[C.value]||[]),D=()=>{S.value=p.getStatus()},O=async()=>{_.value=!0,v.value=null,b.value=null;try{let e=await p.initialize();D(),e?b.value=`åˆå§‹åŒ–æˆåŠŸï¼`:v.value=`åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°`}catch(e){v.value=e.message||`åˆå§‹åŒ–å‡ºé”™`}finally{_.value=!1}},k=()=>{p.reset(),D(),v.value=null,b.value=null,x.value=null,b.value=`å·²é‡ç½®ï¼`},A=e=>{D(),e.success?(b.value=e.message||`æ‰§è¡ŒæˆåŠŸï¼`,x.value=e.result):v.value=e.error?.message||e.message||`æ‰§è¡Œå¤±è´¥`},j=e=>{if(!e||!e.content||!Array.isArray(e.content))return e;if(e.content.length>0&&e.content[0].type===`text`)try{let t=JSON.parse(e.content[0].text);return{...e,_parsedContent:t,content:e.content}}catch{return e}return e},M=e=>!!(e&&Array.isArray(e.tools)||e&&e._parsedContent&&Array.isArray(e._parsedContent.tools)),N=e=>{try{let t=j(e);return t._parsedContent?JSON.stringify(t._parsedContent,null,2):JSON.stringify(t,null,2)}catch{return String(e)}},P=e=>{try{return N(e).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,e=>{let t=`json-number`;return/^"/.test(e)?t=/:$/.test(e)?`json-key`:`json-string`:/true|false/.test(e)?t=`json-boolean`:/null/.test(e)&&(t=`json-null`),`<span class="${t}">${e}</span>`})}catch{return String(e)}},F=e=>({props:[`client`],emits:[`result`],setup(t,{emit:n}){let i=r(!1),a=r({}),o=async(r={})=>{if(!i.value){i.value=!0;try{let i,a=t.client;switch(e){case`listTools`:i=await a.listTools();break;case`getWindowsAndTabs`:i=await a.getWindowsAndTabs();break;case`navigate`:i=await a.navigate(r.url,r);break;case`closeTabs`:let e={...r};e.tabIds&&typeof e.tabIds==`string`&&(e.tabIds=e.tabIds.split(`,`).map(e=>parseInt(e.trim())).filter(e=>!isNaN(e))),i=await a.closeTabs(e);break;case`goBackOrForward`:i=await a.goBackOrForward(r.isForward);break;case`screenshot`:i=await a.screenshot(r);break;case`networkCaptureStart`:i=await a.networkCaptureStart(r);break;case`networkCaptureStop`:i=await a.networkCaptureStop();break;case`networkDebuggerStart`:i=await a.networkDebuggerStart(r.url);break;case`networkDebuggerStop`:i=await a.networkDebuggerStop();break;case`networkRequest`:i=await a.networkRequest(r.url,r);break;case`searchTabsContent`:i=await a.searchTabsContent(r.query);break;case`getWebContent`:i=await a.getWebContent(r);break;case`getInteractiveElements`:i=await a.getInteractiveElements(r);break;case`clickElement`:i=await a.clickElement(r);break;case`fillOrSelect`:i=await a.fillOrSelect(r.selector,r.value);break;case`keyboard`:i=await a.keyboard(r.keys,r);break;case`searchHistory`:i=await a.searchHistory(r);break;case`searchBookmarks`:i=await a.searchBookmarks(r);break;case`addBookmark`:i=await a.addBookmark(r);break;case`deleteBookmark`:i=await a.deleteBookmark(r);break;case`injectScript`:i=await a.injectScript(r.jsScript,r.type,r.url);break;case`sendCommandToInjectScript`:i=await a.sendCommandToInjectScript(r.eventName,r.payload,r.tabId);break;case`captureConsole`:i=await a.captureConsole(r);break;default:i={success:!1,error:{message:`æœªçŸ¥å·¥å…·`}}}n(`result`,i)}catch(e){n(`result`,{success:!1,error:{message:e.message}})}finally{i.value=!1}}};return()=>I(e,o,i.value,a)}}),I=(e,t,n,r)=>{let i=(e=`æ‰§è¡Œ`)=>g(`button`,{onClick:()=>t(r.value),disabled:n||!S.value.isInitialized,class:`w-full mt-2 px-3 py-1.5 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors`},n?`æ‰§è¡Œä¸­...`:e),a=(e,t,n=`text`)=>g(`input`,{value:r.value[e]||``,onInput:t=>{r.value[e]=t.target.value},placeholder:t,type:n,class:`w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500`}),o=(e,t)=>g(`select`,{value:r.value[e]||``,onChange:t=>{r.value[e]=t.target.value},class:`w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500`},t.map(e=>g(`option`,{value:e.value},e.label))),s=(e,t)=>g(`label`,{class:`flex items-center space-x-2 text-xs`},[g(`input`,{type:`checkbox`,checked:r.value[e]||!1,onChange:t=>{r.value[e]=t.target.checked},class:`rounded`}),g(`span`,t)]);switch(e){case`navigate`:return g(`div`,{class:`space-y-2`},[a(`url`,`è¾“å…¥ URLï¼ˆå¦‚ï¼šhttps://www.baidu.comï¼‰`),s(`newWindow`,`åœ¨æ–°çª—å£æ‰“å¼€`),s(`waitForLoad`,`ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ`),i(`å¯¼èˆª`)]);case`screenshot`:return g(`div`,{class:`space-y-2`},[s(`fullPage`,`å®Œæ•´é¡µé¢æˆªå›¾`),s(`storeBase64`,`å­˜å‚¨ Base64 æ•°æ®`),s(`savePng`,`ä¿å­˜ä¸º PNG æ–‡ä»¶`),i(`æˆªå›¾`)]);case`closeTabs`:return g(`div`,{class:`space-y-2`},[a(`tabIds`,`æ ‡ç­¾é¡µ IDï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼Œå¯é€‰ï¼‰`),a(`url`,`URLï¼ˆå¯é€‰ï¼‰`),i(`å…³é—­`)]);case`goBackOrForward`:return g(`div`,{class:`space-y-2`},[g(`div`,{class:`space-y-1`},[g(`label`,{class:`flex items-center space-x-2 text-xs`},[g(`input`,{type:`radio`,name:`direction`,value:`false`,checked:r.value.isForward===!1||!r.value.hasOwnProperty(`isForward`),onChange:()=>{r.value.isForward=!1}}),g(`span`,`åé€€`)]),g(`label`,{class:`flex items-center space-x-2 text-xs`},[g(`input`,{type:`radio`,name:`direction`,value:`true`,checked:r.value.isForward===!0,onChange:()=>{r.value.isForward=!0}}),g(`span`,`å‰è¿›`)])]),i(`æ‰§è¡Œ`)]);case`getWebContent`:return g(`div`,{class:`space-y-2`},[a(`url`,`URLï¼ˆå¯é€‰ï¼Œé»˜è®¤å½“å‰æ ‡ç­¾ï¼‰`),s(`textContent`,`è·å–æ–‡æœ¬å†…å®¹`),s(`htmlContent`,`è·å– HTML å†…å®¹`),a(`selector`,`CSS é€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰`),i(`è·å–`)]);case`clickElement`:return g(`div`,{class:`space-y-2`},[a(`selector`,`CSS é€‰æ‹©å™¨`),s(`waitForNavigation`,`ç­‰å¾…é¡µé¢å¯¼èˆª`),a(`timeout`,`è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ 5000ï¼‰`,`number`),i(`ç‚¹å‡»`)]);case`fillOrSelect`:return g(`div`,{class:`space-y-2`},[a(`selector`,`CSS é€‰æ‹©å™¨`),a(`value`,`å¡«å……çš„å€¼`),i(`å¡«å……`)]);case`keyboard`:return g(`div`,{class:`space-y-2`},[a(`keys`,`æŒ‰é”®ï¼ˆå¦‚ï¼šCtrl+Cã€Enterï¼‰`),a(`selector`,`CSS é€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰`),a(`delay`,`æŒ‰é”®å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼Œå¯é€‰ï¼‰`,`number`),i(`è¾“å…¥`)]);case`searchTabsContent`:return g(`div`,{class:`space-y-2`},[a(`query`,`æœç´¢å…³é”®è¯`),i(`æœç´¢`)]);case`searchHistory`:return g(`div`,{class:`space-y-2`},[a(`text`,`æœç´¢æ–‡æœ¬ï¼ˆå¯é€‰ï¼‰`),a(`maxResults`,`æœ€å¤§ç»“æœæ•°`,`number`),i(`æœç´¢`)]);case`searchBookmarks`:return g(`div`,{class:`space-y-2`},[a(`query`,`æœç´¢å…³é”®è¯ï¼ˆå¯é€‰ï¼‰`),i(`æœç´¢`)]);case`addBookmark`:return g(`div`,{class:`space-y-2`},[a(`title`,`ä¹¦ç­¾æ ‡é¢˜`),a(`url`,`ä¹¦ç­¾ URL`),i(`æ·»åŠ `)]);case`deleteBookmark`:return g(`div`,{class:`space-y-2`},[a(`id`,`ä¹¦ç­¾ ID`),i(`åˆ é™¤`)]);case`networkRequest`:return g(`div`,{class:`space-y-2`},[a(`url`,`è¯·æ±‚ URL`),o(`method`,[{value:`GET`,label:`GET`},{value:`POST`,label:`POST`},{value:`PUT`,label:`PUT`},{value:`DELETE`,label:`DELETE`}]),i(`å‘é€`)]);case`injectScript`:return g(`div`,{class:`space-y-2`},[g(`textarea`,{value:r.value.jsScript||``,onInput:e=>{r.value.jsScript=e.target.value},placeholder:`è¾“å…¥ JavaScript ä»£ç `,rows:3,class:`w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500`}),o(`type`,[{value:`ISOLATED`,label:`ISOLATED`},{value:`MAIN`,label:`MAIN`}]),a(`url`,`URLï¼ˆå¯é€‰ï¼Œé»˜è®¤å½“å‰æ ‡ç­¾ï¼‰`),i(`æ³¨å…¥`)]);case`sendCommandToInjectScript`:return g(`div`,{class:`space-y-2`},[a(`eventName`,`äº‹ä»¶åç§°`),a(`payload`,`æ•°æ®ï¼ˆJSON å­—ç¬¦ä¸²ï¼‰`),a(`tabId`,`æ ‡ç­¾é¡µ IDï¼ˆå¯é€‰ï¼‰`,`number`),i(`å‘é€`)]);case`captureConsole`:return g(`div`,{class:`space-y-2`},[a(`url`,`URLï¼ˆå¯é€‰ï¼Œé»˜è®¤å½“å‰æ ‡ç­¾ï¼‰`),s(`includeExceptions`,`åŒ…å«å¼‚å¸¸ä¿¡æ¯`),a(`maxMessages`,`æœ€å¤§æ¶ˆæ¯æ•°ï¼ˆé»˜è®¤ 100ï¼‰`,`number`),i(`æ•è·æ§åˆ¶å°`)]);case`getInteractiveElements`:return g(`div`,{class:`space-y-2`},[a(`textQuery`,`æ–‡æœ¬æœç´¢ï¼ˆå¯é€‰ï¼‰`),a(`selector`,`CSS é€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰`),s(`includeCoordinates`,`åŒ…å«åæ ‡ä¿¡æ¯`),i(`è·å–`)]);case`networkCaptureStart`:return g(`div`,{class:`space-y-2`},[a(`url`,`URLï¼ˆå¯é€‰ï¼Œé»˜è®¤å½“å‰æ ‡ç­¾ï¼‰`),i(`å¼€å§‹`)]);case`networkDebuggerStart`:return g(`div`,{class:`space-y-2`},[a(`url`,`å¯¼èˆª URLï¼ˆå¯é€‰ï¼‰`),i(`å¼€å§‹`)]);default:return g(`div`,[i()])}},L=e=>{if(e&&(e.screenshot||e.screenshotBase64||e.base64Data||e.base64||e.screenshotPath||e.image&&typeof e.image==`string`))return!0;if(e&&Array.isArray(e.content)&&e.content.length>0){let t=e.content[0];if(t.type===`text`&&t.text)try{let e=JSON.parse(t.text);if(e.base64Data||e.screenshot||e.screenshotBase64||e.screenshotPath)return!0}catch{return t.text.includes(`base64Data`)}}return!1},R=e=>{let t=``;if(t=e.screenshot||e.screenshotBase64||e.base64Data||e.base64||e.image||``,!t&&e&&Array.isArray(e.content)&&e.content.length>0){let n=e.content[0];if(n.type===`text`&&n.text)try{let e=JSON.parse(n.text);t=e.base64Data||e.screenshot||e.screenshotBase64||e.base64||e.image||``}catch(e){console.error(`è§£ææˆªå›¾æ•°æ®å¤±è´¥:`,e)}}return t?t.startsWith(`data:image`)?t:`data:image/png;base64,${t}`:(console.warn(`æœªæ‰¾åˆ°æˆªå›¾æ•°æ®`),``)};return n(()=>{O(),D()}),(n,r)=>(e(),u(`div`,q,[f(`div`,J,[f(`div`,Y,[f(`div`,X,[r[5]||=f(`h1`,{class:`text-xl font-bold text-gray-900 mb-3`},`MCP Client`,-1),f(`div`,Z,[f(`div`,Q,[r[3]||=f(`span`,{class:`text-gray-600`},`çŠ¶æ€`,-1),f(`span`,{class:h([S.value.isInitialized?`text-green-600`:`text-red-600`,`font-semibold`])},c(S.value.isInitialized?`å·²å°±ç»ª`:`æœªå°±ç»ª`),3)]),f(`div`,ne,[r[4]||=f(`span`,{class:`text-gray-600`},`è¯·æ±‚`,-1),f(`span`,re,c(S.value.requestCount),1)])]),S.value.isInitialized?(e(),u(`button`,{key:1,onClick:k,disabled:_.value,class:`w-full px-3 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:bg-gray-300 disabled:cursor-not-allowed`},` é‡ç½® `,8,ae)):(e(),u(`button`,{key:0,onClick:O,disabled:_.value,class:`w-full px-3 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed`},` åˆå§‹åŒ– `,8,ie))]),_.value?(e(),u(`div`,oe,[...r[6]||=[f(`div`,{class:`flex items-center`},[f(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2`}),f(`span`,{class:`text-blue-700 text-sm`},`å¤„ç†ä¸­...`)],-1)]])):a(``,!0),v.value?(e(),u(`div`,se,[f(`div`,ce,[f(`p`,le,c(v.value),1),f(`button`,{onClick:r[0]||=e=>v.value=null,class:`text-red-500 hover:text-red-700 ml-2`},[...r[7]||=[f(`span`,{class:`text-lg`},`Ã—`,-1)]])])])):a(``,!0),b.value?(e(),u(`div`,ue,[f(`div`,de,[f(`p`,fe,c(b.value),1),f(`button`,{onClick:r[1]||=e=>b.value=null,class:`text-green-500 hover:text-green-700 ml-2`},[...r[8]||=[f(`span`,{class:`text-lg`},`Ã—`,-1)]])])])):a(``,!0),f(`div`,pe,[f(`div`,me,[(e(),u(m,null,l(w,e=>f(`button`,{key:e.id,onClick:t=>C.value=e.id,class:h([`px-3 py-1 rounded-full text-xs transition-colors`,C.value===e.id?`bg-blue-500 text-white`:`bg-gray-100 text-gray-700 hover:bg-gray-200`])},c(e.icon)+` `+c(e.name),11,he)),64))])])]),f(`div`,ge,[f(`div`,_e,[(e(!0),u(m,null,l(E.value,n=>(e(),u(`div`,{key:n.id,class:`bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors`},[f(`h3`,ve,c(n.name),1),f(`p`,ye,c(n.description),1),(e(),ee(t(F(n.id)),{client:o(p),onResult:A},null,40,[`client`]))]))),128))])])]),f(`div`,be,[f(`div`,xe,[f(`div`,Se,[r[10]||=f(`h2`,{class:`text-lg font-semibold text-gray-900`},`æ‰§è¡Œç»“æœé¢„è§ˆ`,-1),x.value?(e(),u(`button`,{key:0,onClick:r[2]||=e=>x.value=null,class:`text-gray-400 hover:text-gray-600`},[...r[9]||=[f(`span`,{class:`text-xl`},`Ã—`,-1)]])):a(``,!0)])]),f(`div`,Ce,[x.value?(e(),u(`div`,Ee,[M(x.value)?(e(),u(`div`,De,[f(`div`,Oe,[r[14]||=f(`h3`,{class:`text-sm font-semibold text-gray-900 mb-3`},` å¯ç”¨å·¥å…·åˆ—è¡¨ `,-1),f(`div`,ke,[(e(!0),u(m,null,l(x.value._parsedContent?.tools||x.value.tools||[],(t,n)=>(e(),u(`div`,{key:n,class:`border border-gray-200 rounded p-3 hover:bg-gray-50`},[f(`div`,Ae,[f(`h4`,je,c(t.name),1),f(`span`,Me,c(n+1),1)]),f(`p`,Ne,c(t.description),1),f(`details`,Pe,[r[13]||=f(`summary`,{class:`cursor-pointer text-gray-500 hover:text-gray-700`},` å‚æ•°è¯¦æƒ… `,-1),f(`pre`,$,c(JSON.stringify(t.inputSchema,null,2)),1)])]))),128))]),f(`div`,Fe,` å…± `+c((x.value._parsedContent?.tools||x.value.tools||[]).length)+` ä¸ªå·¥å…· `,1)])])):L(x.value)?(e(),u(`div`,Ie,[f(`div`,Le,[r[15]||=f(`h3`,{class:`text-sm font-semibold text-gray-900 mb-3`},`æˆªå›¾é¢„è§ˆ`,-1),f(`img`,{src:R(x.value),alt:`æˆªå›¾`,class:`max-w-full border rounded shadow-sm`},null,8,Re),x.value.width&&x.value.height?(e(),u(`div`,ze,` å›¾ç‰‡å°ºå¯¸: `+c(x.value.width)+` x `+c(x.value.height),1)):a(``,!0)]),f(`div`,Be,[r[16]||=f(`h3`,{class:`text-sm font-semibold text-gray-900 mb-3`},`æ•°æ®è¯¦æƒ…`,-1),f(`pre`,{class:`json-highlight text-xs overflow-auto bg-gray-50 p-3 rounded max-h-96`,innerHTML:P(x.value)},null,8,Ve)])])):(e(),u(`div`,He,[r[17]||=f(`h3`,{class:`text-sm font-semibold text-gray-900 mb-3`},`æ•°æ®è¯¦æƒ…`,-1),f(`pre`,{class:`json-highlight text-xs overflow-auto select-text bg-gray-50 p-3 rounded max-h-[calc(100vh-200px)]`,innerHTML:P(x.value)},null,8,Ue)]))])):(e(),u(`div`,we,[f(`div`,Te,[d(te,{class:`mx-auto mb-4 text-gray-300`}),r[11]||=f(`p`,{class:`text-sm`},`æš‚æ— æ‰§è¡Œç»“æœ`,-1),r[12]||=f(`p`,{class:`text-xs mt-1`},`æ‰§è¡Œå·¥å…·åç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ`,-1)])]))])])]))}}),[[`__scopeId`,`data-v-c47066a9`]]);export{We as default};
import{n as e,t}from"./ui-0wyIv1rt.js";import{At as n,B as r,D as i,E as a,Et as o,F as s,J as c,M as l,N as u,P as d,V as f,bt as p,ct as ee,dt as m,et as h,f as g,h as _,j as v,k as y,kt as b,ut as x,z as S}from"./index-BxA7zcD7.js";import"./editor.api-B5TC4uV4.js";import"./monaco.contribution-CkWsXzCO.js";import"./events-D1p43SY5.js";import{t as C}from"./_plugin-vue_export-helper-DEnkkObV.js";import"./IconChevronRight-pbfYoEdW.js";import{t as w}from"./IconSearch-BeW0LXq2.js";import{t as T}from"./CodeEditor-GvZPZ3zx.js";import{n as E,t as te}from"./jsonToVariableTree-DNtc7_Ro.js";import"./IconCopyReference-BUIr6xaN.js";import{t as ne}from"./JsonTreeViewer-Ba8SYYz5.js";var re={class:`h-full flex flex-col`},ie={class:`shrink-0 border-b border-slate-200 px-4 py-3`},D={class:`flex items-center justify-between gap-3`},O={class:`flex items-center gap-2`},k={class:`h-7 flex items-center relative`},A={class:`flex-1 overflow-auto variable-scroll px-4 py-4`},j={class:`shrink-0 flex items-center gap-2 pb-2`},M={class:`w-32`},N={class:`text-xs text-slate-500 font-mono`},P={class:`h-full flex flex-col`},F={class:`shrink-0 flex items-center justify-between border-b border-slate-200 px-4 py-3`},I={key:0,class:`flex items-center gap-2`},L={class:`flex-1 overflow-auto variable-scroll`},R={key:1,class:`px-4 py-6`},z=C(f({__name:`SplitLayoutPreview`,setup(f){let C=p(320),z=p(320),B=p(!1),V=p(``),H=p(null),U=p(`schema`),W=p(`output`),G=p(!1),K=p(``),q=p(``),J=p(null),Y=[{value:`schema`,label:`Schema`},{value:`json`,label:`JSON`}],ae=[{value:`output`,label:`输出`},{value:`logs`,label:`日志`}],oe=[{label:`Code`,value:`code`},{label:`JSON`,value:`json`},{label:`Text`,value:`text`}],se=v(()=>{if(Array.isArray(X)){let e=X.length;return e===1?`1 item`:`${e} items`}if(typeof X==`object`&&X){let e=Object.keys(X).length;return e===1?`1 item`:`${e} items`}return`0 items`}),X={user:{id:1,profile:{name:`李四`,avatar:`https://example.com/avatar.jpg`,settings:{theme:`dark`,language:`zh-CN`}}},metadata:{createdAt:`2024-01-01`,updatedAt:`2024-01-02`},users:[{id:1,name:`用户1`,roles:[`admin`,`editor`],preferences:{theme:`dark`,notifications:!0}},{id:2,name:`用户2`,roles:[`viewer`],preferences:{theme:`light`,notifications:!1}}],pagination:{page:1,pageSize:10,total:100}},Z=v(()=>{try{return te(X)}catch(e){return console.error(`转换 VariableTreeNode 失败:`,e),null}}),Q=()=>{try{K.value=JSON.stringify(X,null,2)}catch(e){console.error(`初始化编辑器内容失败:`,e),K.value=``}};ee(()=>G.value,e=>{e&&(K.value||Q(),q.value=K.value)}),Q();let ce=()=>{G.value=!0},le=()=>{try{JSON.parse(K.value),q.value=K.value,G.value=!1,console.log(`保存成功:`,K.value)}catch(e){console.error(`保存失败：JSON 格式错误`,e),alert(`保存失败：JSON 格式错误`)}},$=()=>{K.value=q.value,G.value=!1},ue=()=>{console.log(`Back clicked`)},de=e=>{C.value=e.leftWidth,z.value=e.rightWidth},fe=()=>{V.value||(B.value=!1)},pe=async()=>{B.value=!0,await c(),H.value?.focus()};return(c,f)=>(h(),u(o(e),{"center-title":`AI Agent`,"show-back-button":!0,"back-text":`Back to canvas`,"center-width":400,"min-left-width":.2,"min-right-width":.2,onBack:ue,onResize:de},{left:x(()=>[l(`div`,re,[l(`div`,ie,[l(`div`,D,[f[6]||=l(`h3`,{class:`text-sm font-semibold text-slate-900 uppercase tracking-wide`},` 输入 `,-1),l(`div`,O,[l(`div`,k,[l(`div`,{class:`overflow-hidden transition-all duration-200 ease-out`,style:b({width:B.value?`8rem`:`1.75rem`,opacity:B.value?1:0})},[m(r(o(_),{value:V.value,"onUpdate:value":f[0]||=e=>V.value=e,size:`small`,placeholder:`搜索...`,class:`w-32 n-input-gray`,onBlur:fe,onKeyup:f[1]||=i(e=>B.value=!1,[`escape`]),ref_key:`searchInputRef`,ref:H},{prefix:x(()=>[r(w,{class:`w-4 h-4 text-slate-400`})]),_:1},8,[`value`]),[[a,B.value]])],4),m(l(`button`,{onClick:pe,class:`absolute left-0 h-7 w-7 flex items-center justify-center text-slate-600 cursor-pointer transition-opacity duration-200`},[r(w,{class:`w-4 h-4`})],512),[[a,!B.value]])]),r(o(t),{modelValue:U.value,"onUpdate:modelValue":f[2]||=e=>U.value=e,options:Y},null,8,[`modelValue`])])])]),l(`div`,A,[U.value===`json`?(h(),s(y,{key:0},[l(`div`,j,[l(`div`,M,[r(o(g),{value:J.value,"onUpdate:value":f[3]||=e=>J.value=e,options:oe,size:`small`,placeholder:`Code`},null,8,[`value`])]),l(`span`,N,n(se.value),1)]),r(ne,{data:X})],64)):U.value===`schema`&&Z.value?(h(),u(E,{key:1,node:Z.value,level:0},null,8,[`node`])):d(``,!0)]),f[7]||=l(`div`,{class:`hidden shrink-0 border-t border-slate-200 px-4 py-2 text-xs text-slate-500`},[l(`div`,null,`Logs`)],-1)])]),center:x(()=>[...f[8]||=[l(`div`,{class:`h-full flex flex-col`},[l(`div`,{class:`shrink-0 flex items-center gap-4 border-b border-slate-200 px-6`},[l(`button`,{class:`px-3 py-2 text-sm font-medium text-blue-600 border-b-2 border-blue-600`},` Parameters `),l(`button`,{class:`px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900`},` Settings `),l(`button`,{class:`px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900`},` Docs `),l(`div`,{class:`flex-1`})]),l(`div`,{class:`flex-1 overflow-auto variable-scroll px-6 py-6 space-y-6`},[l(`div`,{class:`bg-blue-50 border border-blue-200 rounded-lg p-4`},[l(`p`,{class:`text-sm text-blue-800`},[l(`strong`,null,`Tip:`),S(` Information about agents. Check out the{" "} `),l(`a`,{href:`#`,class:`underline`},`tutorial`),S(` and{" "} `),l(`a`,{href:`#`,class:`underline`},`example`),S(`. `)])]),l(`div`,null,[l(`label`,{class:`block text-sm font-medium text-slate-700 mb-2`},` Source for Prompt (User Message) `),l(`input`,{type:`text`,class:`w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:`[empty]`})]),l(`div`,{class:`space-y-4`},[l(`div`,{class:`flex items-center justify-between`},[l(`label`,{class:`text-sm font-medium text-slate-700`},` Require Specific Output Format `),l(`label`,{class:`relative inline-flex items-center cursor-pointer`},[l(`input`,{type:`checkbox`,class:`sr-only peer`}),l(`div`,{class:`w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})])]),l(`div`,{class:`flex items-center justify-between`},[l(`label`,{class:`text-sm font-medium text-slate-700`},` Enable Fallback Model `),l(`label`,{class:`relative inline-flex items-center cursor-pointer`},[l(`input`,{type:`checkbox`,class:`sr-only peer`}),l(`div`,{class:`w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})])])]),l(`div`,null,[l(`div`,{class:`flex items-center justify-between mb-2`},[l(`h4`,{class:`text-sm font-medium text-slate-700`},`Options`),l(`button`,{class:`px-3 py-1 text-xs font-medium text-blue-600 hover:text-blue-700`},` Add Option `)]),l(`p`,{class:`text-sm text-slate-500`},`No properties`)])]),l(`div`,{class:`shrink-0 border-t border-slate-200 px-6 py-4 flex items-center gap-4`},[l(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[l(`span`,null,`Chat Model *`)]),l(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[l(`span`,null,`Memory`)]),l(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[l(`svg`,{class:`h-4 w-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 4v16m8-8H4`})]),l(`span`,null,`Tool`)])])],-1)]]),right:x(()=>[l(`div`,P,[l(`div`,F,[r(o(t),{modelValue:W.value,"onUpdate:modelValue":f[4]||=e=>W.value=e,options:ae},null,8,[`modelValue`]),G.value?(h(),s(`div`,I,[l(`button`,{class:`px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-200 hover:bg-slate-300 rounded transition-colors`,onClick:$},` 取消 `),l(`button`,{class:`px-3 py-1.5 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors`,onClick:le},` 保存 `)])):W.value===`output`?(h(),s(`button`,{key:1,class:`p-1 text-slate-400 hover:text-slate-600 rounded transition-colors`,onClick:ce},[...f[9]||=[l(`svg`,{class:`h-4 w-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z`})],-1)]])):d(``,!0)]),l(`div`,L,[G.value?(h(),u(T,{key:0,modelValue:K.value,"onUpdate:modelValue":f[5]||=e=>K.value=e,language:`json`,class:`h-full`,options:{minimap:{enabled:!1},fontSize:13}},null,8,[`modelValue`])):(h(),s(`div`,R,[...f[10]||=[l(`p`,{class:`text-sm text-slate-500`},` Execute this node to view data or set mock data `,-1)]]))]),f[11]||=l(`div`,{class:`hidden shrink-0 border-t border-slate-200 px-4 py-3 space-y-2`},[l(`button`,{class:`w-full text-left text-xs text-slate-500 hover:text-slate-700 transition-colors`},` I wish this node would... `),l(`button`,{class:`w-full text-left text-xs text-slate-500 hover:text-slate-700 transition-colors`},` Clear execution `)],-1)])]),_:1}))}}),[[`__scopeId`,`data-v-c27d4826`]]);export{z as default};
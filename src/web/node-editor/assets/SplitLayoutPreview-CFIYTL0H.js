import{n as e,t}from"./ui-CpPQl1FD.js";import{A as n,F as r,Ft as i,H as a,I as o,L as s,M as c,P as l,Pt as u,R as d,U as f,W as p,Z as ee,_ as m,dt as h,jt as g,k as _,m as v,mt as y,pt as b,rt as x,wt as S}from"./index-DIItrjPD.js";import"./editor.api-COeqqywE.js";import"./monaco.contribution-0nwrB2X9.js";import"./events-CdBEY3Zi.js";import{t as C}from"./_plugin-vue_export-helper-DEnkkObV.js";import"./IconChevronRight-CfR8zh3l.js";import{t as w}from"./IconSearch-DgnlFjzU.js";import{t as T}from"./CodeEditor-uUgUKgiO.js";import{n as E,t as te}from"./jsonToVariableTree-Dn6RwFBr.js";import"./IconCopyReference-rLVYJUoO.js";import{t as ne}from"./JsonTreeViewer-CNjC9vq1.js";var re={class:`h-full flex flex-col`},ie={class:`shrink-0 border-b border-slate-200 px-4 py-3`},D={class:`flex items-center justify-between gap-3`},O={class:`flex items-center gap-2`},k={class:`h-7 flex items-center relative`},A={class:`flex-1 overflow-auto variable-scroll px-4 py-4`},j={class:`shrink-0 flex items-center gap-2 pb-2`},M={class:`w-32`},N={class:`text-xs text-slate-500 font-mono`},P={class:`h-full flex flex-col`},F={class:`shrink-0 flex items-center justify-between border-b border-slate-200 px-4 py-3`},I={key:0,class:`flex items-center gap-2`},L={class:`flex-1 overflow-auto variable-scroll`},R={key:1,class:`px-4 py-6`},z=C(p({__name:`SplitLayoutPreview`,setup(p){let C=S(320),z=S(320),B=S(!1),V=S(``),H=S(null),U=S(`schema`),W=S(`output`),G=S(!1),K=S(``),q=S(``),J=S(null),Y=[{value:`schema`,label:`Schema`},{value:`json`,label:`JSON`}],ae=[{value:`output`,label:`输出`},{value:`logs`,label:`日志`}],oe=[{label:`Code`,value:`code`},{label:`JSON`,value:`json`},{label:`Text`,value:`text`}],se=l(()=>{if(Array.isArray(X)){let e=X.length;return e===1?`1 item`:`${e} items`}if(typeof X==`object`&&X){let e=Object.keys(X).length;return e===1?`1 item`:`${e} items`}return`0 items`}),X={user:{id:1,profile:{name:`李四`,avatar:`https://example.com/avatar.jpg`,settings:{theme:`dark`,language:`zh-CN`}}},metadata:{createdAt:`2024-01-01`,updatedAt:`2024-01-02`},users:[{id:1,name:`用户1`,roles:[`admin`,`editor`],preferences:{theme:`dark`,notifications:!0}},{id:2,name:`用户2`,roles:[`viewer`],preferences:{theme:`light`,notifications:!1}}],pagination:{page:1,pageSize:10,total:100}},Z=l(()=>{try{return te(X)}catch(e){return console.error(`转换 VariableTreeNode 失败:`,e),null}}),Q=()=>{try{K.value=JSON.stringify(X,null,2)}catch(e){console.error(`初始化编辑器内容失败:`,e),K.value=``}};h(()=>G.value,e=>{e&&(K.value||Q(),q.value=K.value)}),Q();let ce=()=>{G.value=!0},le=()=>{try{JSON.parse(K.value),q.value=K.value,G.value=!1,console.log(`保存成功:`,K.value)}catch(e){console.error(`保存失败：JSON 格式错误`,e),alert(`保存失败：JSON 格式错误`)}},$=()=>{K.value=q.value,G.value=!1},ue=()=>{console.log(`Back clicked`)},de=e=>{C.value=e.leftWidth,z.value=e.rightWidth},fe=()=>{V.value||(B.value=!1)},pe=async()=>{B.value=!0,await ee(),H.value?.focus()};return(l,p)=>(x(),o(g(e),{"center-title":`AI Agent`,"show-back-button":!0,"back-text":`Back to canvas`,"center-width":400,"min-left-width":.2,"min-right-width":.2,onBack:ue,onResize:de},{left:b(()=>[r(`div`,re,[r(`div`,ie,[r(`div`,D,[p[6]||=r(`h3`,{class:`text-sm font-semibold text-slate-900 uppercase tracking-wide`},` 输入 `,-1),r(`div`,O,[r(`div`,k,[r(`div`,{class:`overflow-hidden transition-all duration-200 ease-out`,style:u({width:B.value?`8rem`:`1.75rem`,opacity:B.value?1:0})},[y(f(g(m),{value:V.value,"onUpdate:value":p[0]||=e=>V.value=e,size:`small`,placeholder:`搜索...`,class:`w-32 n-input-gray`,onBlur:fe,onKeyup:p[1]||=n(e=>B.value=!1,[`escape`]),ref_key:`searchInputRef`,ref:H},{prefix:b(()=>[f(w,{class:`w-4 h-4 text-slate-400`})]),_:1},8,[`value`]),[[_,B.value]])],4),y(r(`button`,{onClick:pe,class:`absolute left-0 h-7 w-7 flex items-center justify-center text-slate-600 cursor-pointer transition-opacity duration-200`},[f(w,{class:`w-4 h-4`})],512),[[_,!B.value]])]),f(g(t),{modelValue:U.value,"onUpdate:modelValue":p[2]||=e=>U.value=e,options:Y},null,8,[`modelValue`])])])]),r(`div`,A,[U.value===`json`?(x(),d(c,{key:0},[r(`div`,j,[r(`div`,M,[f(g(v),{value:J.value,"onUpdate:value":p[3]||=e=>J.value=e,options:oe,size:`small`,placeholder:`Code`},null,8,[`value`])]),r(`span`,N,i(se.value),1)]),f(ne,{data:X})],64)):U.value===`schema`&&Z.value?(x(),o(E,{key:1,node:Z.value,level:0},null,8,[`node`])):s(``,!0)]),p[7]||=r(`div`,{class:`hidden shrink-0 border-t border-slate-200 px-4 py-2 text-xs text-slate-500`},[r(`div`,null,`Logs`)],-1)])]),center:b(()=>[...p[8]||=[r(`div`,{class:`h-full flex flex-col`},[r(`div`,{class:`shrink-0 flex items-center gap-4 border-b border-slate-200 px-6`},[r(`button`,{class:`px-3 py-2 text-sm font-medium text-blue-600 border-b-2 border-blue-600`},` Parameters `),r(`button`,{class:`px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900`},` Settings `),r(`button`,{class:`px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900`},` Docs `),r(`div`,{class:`flex-1`})]),r(`div`,{class:`flex-1 overflow-auto variable-scroll px-6 py-6 space-y-6`},[r(`div`,{class:`bg-blue-50 border border-blue-200 rounded-lg p-4`},[r(`p`,{class:`text-sm text-blue-800`},[r(`strong`,null,`Tip:`),a(` Information about agents. Check out the{" "} `),r(`a`,{href:`#`,class:`underline`},`tutorial`),a(` and{" "} `),r(`a`,{href:`#`,class:`underline`},`example`),a(`. `)])]),r(`div`,null,[r(`label`,{class:`block text-sm font-medium text-slate-700 mb-2`},` Source for Prompt (User Message) `),r(`input`,{type:`text`,class:`w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:`[empty]`})]),r(`div`,{class:`space-y-4`},[r(`div`,{class:`flex items-center justify-between`},[r(`label`,{class:`text-sm font-medium text-slate-700`},` Require Specific Output Format `),r(`label`,{class:`relative inline-flex items-center cursor-pointer`},[r(`input`,{type:`checkbox`,class:`sr-only peer`}),r(`div`,{class:`w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})])]),r(`div`,{class:`flex items-center justify-between`},[r(`label`,{class:`text-sm font-medium text-slate-700`},` Enable Fallback Model `),r(`label`,{class:`relative inline-flex items-center cursor-pointer`},[r(`input`,{type:`checkbox`,class:`sr-only peer`}),r(`div`,{class:`w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})])])]),r(`div`,null,[r(`div`,{class:`flex items-center justify-between mb-2`},[r(`h4`,{class:`text-sm font-medium text-slate-700`},`Options`),r(`button`,{class:`px-3 py-1 text-xs font-medium text-blue-600 hover:text-blue-700`},` Add Option `)]),r(`p`,{class:`text-sm text-slate-500`},`No properties`)])]),r(`div`,{class:`shrink-0 border-t border-slate-200 px-6 py-4 flex items-center gap-4`},[r(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[r(`span`,null,`Chat Model *`)]),r(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[r(`span`,null,`Memory`)]),r(`button`,{class:`flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-md transition-colors`},[r(`svg`,{class:`h-4 w-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[r(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 4v16m8-8H4`})]),r(`span`,null,`Tool`)])])],-1)]]),right:b(()=>[r(`div`,P,[r(`div`,F,[f(g(t),{modelValue:W.value,"onUpdate:modelValue":p[4]||=e=>W.value=e,options:ae},null,8,[`modelValue`]),G.value?(x(),d(`div`,I,[r(`button`,{class:`px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-200 hover:bg-slate-300 rounded transition-colors`,onClick:$},` 取消 `),r(`button`,{class:`px-3 py-1.5 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors`,onClick:le},` 保存 `)])):W.value===`output`?(x(),d(`button`,{key:1,class:`p-1 text-slate-400 hover:text-slate-600 rounded transition-colors`,onClick:ce},[...p[9]||=[r(`svg`,{class:`h-4 w-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[r(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z`})],-1)]])):s(``,!0)]),r(`div`,L,[G.value?(x(),o(T,{key:0,modelValue:K.value,"onUpdate:modelValue":p[5]||=e=>K.value=e,language:`json`,class:`h-full`,options:{minimap:{enabled:!1},fontSize:13}},null,8,[`modelValue`])):(x(),d(`div`,R,[...p[10]||=[r(`p`,{class:`text-sm text-slate-500`},` Execute this node to view data or set mock data `,-1)]]))]),p[11]||=r(`div`,{class:`hidden shrink-0 border-t border-slate-200 px-4 py-3 space-y-2`},[r(`button`,{class:`w-full text-left text-xs text-slate-500 hover:text-slate-700 transition-colors`},` I wish this node would... `),r(`button`,{class:`w-full text-left text-xs text-slate-500 hover:text-slate-700 transition-colors`},` Clear execution `)],-1)])]),_:1}))}}),[[`__scopeId`,`data-v-c27d4826`]]);export{z as default};